<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>InnoDB Plugin: include/mem0dbg.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">InnoDB Plugin
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mem0dbg.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="mem0dbg_8h__dep__incl.png" border="0" usemap="#include_2mem0dbg_8hdep" alt=""/></div>
<map name="include_2mem0dbg_8hdep" id="include_2mem0dbg_8hdep">
<area shape="rect" id="node3" href="mem0mem_8h.html" title="include/mem0mem.h" alt="" coords="720,83,878,111"/><area shape="rect" id="node5" href="data0data_8h.html" title="include/data0data.h" alt="" coords="730,238,879,266"/><area shape="rect" id="node7" href="dict0dict_8h.html" title="include/dict0dict.h" alt="" coords="564,470,700,498"/><area shape="rect" id="node9" href="data0data_8ic.html" title="include/data0data.ic" alt="" coords="780,161,930,189"/><area shape="rect" id="node12" href="mtr0mtr_8h.html" title="include/mtr0mtr.h" alt="" coords="1004,238,1140,266"/><area shape="rect" id="node14" href="trx0sys_8h.html" title="include/trx0sys.h" alt="" coords="955,315,1083,343"/><area shape="rect" id="node16" href="dyn0dyn_8h.html" title="include/dyn0dyn.h" alt="" coords="1004,161,1140,189"/><area shape="rect" id="node19" href="trx0trx_8h.html" title="include/trx0trx.h" alt="" coords="26,393,151,421"/><area shape="rect" id="node21" href="ut0vec_8h.html" title="include/ut0vec.h" alt="" coords="26,238,151,266"/><area shape="rect" id="node24" href="fts0fts_8h.html" title="include/fts0fts.h" alt="" coords="183,315,306,343"/><area shape="rect" id="node27" href="dict0mem_8h.html" title="include/dict0mem.h" alt="" coords="332,393,479,421"/><area shape="rect" id="node30" href="hash0hash_8h.html" title="include/hash0hash.h" alt="" coords="452,238,604,266"/><area shape="rect" id="node35" href="ha0storage_8ic.html" title="include/ha0storage.ic" alt="" coords="554,315,711,343"/><area shape="rect" id="node38" href="ut0list_8h.html" title="include/ut0list.h" alt="" coords="226,161,348,189"/><area shape="rect" id="node40" href="ut0wqueue_8h.html" title="include/ut0wqueue.h" alt="" coords="226,238,378,266"/><area shape="rect" id="node47" href="dict0load_8h.html" title="include/dict0load.h" alt="" coords="1215,161,1356,189"/><area shape="rect" id="node49" href="page0zip_8h.html" title="include/page0zip.h" alt="" coords="1380,161,1522,189"/><area shape="rect" id="node51" href="ha0ha_8ic.html" title="include/ha0ha.ic" alt="" coords="1546,161,1671,189"/><area shape="rect" id="node53" href="dict0crea_8ic.html" title="include/dict0crea.ic" alt="" coords="1695,161,1839,189"/><area shape="rect" id="node55" href="fts0ast_8h.html" title="include/fts0ast.h" alt="" coords="1863,161,1988,189"/><area shape="rect" id="node58" href="row0ext_8h.html" title="include/row0ext.h" alt="" coords="2012,161,2146,189"/></map>
</div>
</div>
<p><a href="mem0dbg_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a004bd1a0fc7fc29b49f13eda90471401"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a004bd1a0fc7fc29b49f13eda90471401"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MEM_FIELD_HEADER_SIZE</b>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:ace7b62c25aebf6193733524a9c39b363"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace7b62c25aebf6193733524a9c39b363"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MEM_SPACE_NEEDED</b>(N)&#160;&#160;&#160;<a class="el" href="ut0ut_8h.html#adb061a676254d8943de08e15cafa062a">ut_calc_align</a>((N), <a class="el" href="univ_8i.html#ad733ca9989da9c13b705f5886e815f05">UNIV_MEM_ALIGNMENT</a>)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab21154f465a46d667b3bc9335c797433"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem0dbg_8h.html#ab21154f465a46d667b3bc9335c797433">mem_heap_validate_or_print</a> (<a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *heap, byte *top, <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> print, <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> *error, ulint *us_size, ulint *ph_size, ulint *n_blocks)</td></tr>
<tr class="memitem:a05ec98e91981dc7120c83e683bca6edb"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem0dbg_8h.html#a05ec98e91981dc7120c83e683bca6edb">mem_heap_validate</a> (<a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *heap)</td></tr>
<tr class="memitem:a3b4e766470957e4653e2c1ec829cc053"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem0dbg_8h.html#a3b4e766470957e4653e2c1ec829cc053">mem_heap_check</a> (<a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *heap)</td></tr>
<tr class="memitem:ae5ba4e8bd2cad1d71a0c3784e79a1527"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem0dbg_8h.html#ae5ba4e8bd2cad1d71a0c3784e79a1527">mem_analyze_corruption</a> (void *ptr)</td></tr>
<tr class="memitem:abe92a114767bb3278ad0f6976595ebd9"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem0dbg_8h.html#abe92a114767bb3278ad0f6976595ebd9">mem_print_info</a> (void)</td></tr>
<tr class="memitem:a01a52e3858b2ea9e4a31262719373d6e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem0dbg_8h.html#a01a52e3858b2ea9e4a31262719373d6e">mem_print_new_info</a> (void)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The memory management: the debug code. This is not a compilation module, but is included in mem0mem.* !</p>
<p>Created 6/9/1994 Heikki Tuuri </p>
</div><h2>Function Documentation</h2>
<a class="anchor" id="ae5ba4e8bd2cad1d71a0c3784e79a1527"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void mem_analyze_corruption </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to find neigboring memory allocation blocks and dumps to stderr the neighborhood of a given pointer. in: pointer to place of possible corruption </p>

</div>
</div>
<a class="anchor" id="a3b4e766470957e4653e2c1ec829cc053"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> mem_heap_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks that an object is a memory heap (or a block of it) </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if ok in: memory heap </dd></dl>

</div>
</div>
<a class="anchor" id="a05ec98e91981dc7120c83e683bca6edb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> mem_heap_validate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validates the contents of a memory heap. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if ok in: memory heap </dd></dl>

</div>
</div>
<a class="anchor" id="ab21154f465a46d667b3bc9335c797433"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void mem_heap_validate_or_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>top</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> *&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>us_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>ph_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>n_blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks a memory heap for consistency and prints the contents if requested. Outputs the sum of sizes of buffers given to the user (only in the debug version), the physical size of the heap and the number of blocks in the heap. In case of error returns 0 as sizes and number of blocks. out: number of blocks in the heap, if a NULL pointer is passed as this argument, it is ignored </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">heap</td><td>in: memory heap </td></tr>
    <tr><td class="paramname">top</td><td>in: calculate and validate only until this top pointer in the heap is reached, if this pointer is NULL, ignored </td></tr>
    <tr><td class="paramname">print</td><td>in: if TRUE, prints the contents of the heap; works only in the debug version </td></tr>
    <tr><td class="paramname">error</td><td>out: TRUE if error </td></tr>
    <tr><td class="paramname">us_size</td><td>out: allocated memory (for the user) in the heap, if a NULL pointer is passed as this argument, it is ignored; in the non-debug version this is always -1 </td></tr>
    <tr><td class="paramname">ph_size</td><td>out: physical size of the heap, if a NULL pointer is passed as this argument, it is ignored </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe92a114767bb3278ad0f6976595ebd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void mem_print_info </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints information of dynamic memory usage and currently allocated memory heaps or buffers. Can only be used in the debug version. </p>

</div>
</div>
<a class="anchor" id="a01a52e3858b2ea9e4a31262719373d6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void mem_print_new_info </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints information of dynamic memory usage and currently allocated memory heaps or buffers since the last ..._print_info or..._print_new_info. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 21 2015 19:14:26 for InnoDB Plugin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
