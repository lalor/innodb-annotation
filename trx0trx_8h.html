<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>InnoDB Plugin: include/trx0trx.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">InnoDB Plugin
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">trx0trx.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="univ_8i.html">univ.i</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="trx0types_8h_source.html">trx0types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="dict0types_8h_source.html">dict0types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lock0types_8h_source.html">lock0types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="log0log_8h_source.html">log0log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="usr0types_8h_source.html">usr0types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="que0types_8h_source.html">que0types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mem0mem_8h_source.html">mem0mem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="read0types_8h_source.html">read0types.h</a>&quot;</code><br/>
<code>#include &quot;trx0xa.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="ut0vec_8h_source.html">ut0vec.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="fts0fts_8h_source.html">fts0fts.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="trx0trx_8ic.html">trx0trx.ic</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for trx0trx.h:</div>
<div class="dyncontent">
<div class="center"><img src="trx0trx_8h__incl.png" border="0" usemap="#include_2trx0trx_8h" alt=""/></div>
<map name="include_2trx0trx_8h" id="include_2trx0trx_8h">
<area shape="rect" id="node3" href="univ_8i.html" title="univ.i" alt="" coords="655,547,708,575"/><area shape="rect" id="node28" href="trx0types_8h.html" title="trx0types.h" alt="" coords="111,161,204,189"/><area shape="rect" id="node33" href="dict0types_8h.html" title="dict0types.h" alt="" coords="1323,315,1421,343"/><area shape="rect" id="node35" href="lock0types_8h.html" title="lock0types.h" alt="" coords="996,83,1097,111"/><area shape="rect" id="node37" href="log0log_8h.html" title="log0log.h" alt="" coords="201,238,281,266"/><area shape="rect" id="node55" href="usr0types_8h.html" title="usr0types.h" alt="" coords="1121,83,1217,111"/><area shape="rect" id="node57" href="que0types_8h.html" title="que0types.h" alt="" coords="1244,161,1345,189"/><area shape="rect" id="node67" href="mem0mem_8h.html" title="mem0mem.h" alt="" coords="635,315,744,343"/><area shape="rect" id="node76" href="read0types_8h.html" title="read0types.h" alt="" coords="1241,83,1348,111"/><area shape="rect" id="node78" href="trx0xa_8h_source.html" title="trx0xa.h" alt="" coords="1372,83,1447,111"/><area shape="rect" id="node80" href="ut0vec_8h.html" title="ut0vec.h" alt="" coords="329,161,407,189"/><area shape="rect" id="node86" href="fts0fts_8h.html" title="fts0fts.h" alt="" coords="796,83,871,111"/><area shape="rect" id="node114" href="trx0trx_8ic.html" title="trx0trx.ic" alt="" coords="1471,83,1548,111"/><area shape="rect" id="node19" href="ut0dbg_8h.html" title="ut0dbg.h" alt="" coords="787,625,864,653"/><area shape="rect" id="node22" href="ut0ut_8h.html" title="ut0ut.h" alt="" coords="939,625,1005,653"/><area shape="rect" id="node25" href="db0err_8h.html" title="db0err.h" alt="" coords="899,702,973,730"/><area shape="rect" id="node30" href="ut0byte_8h.html" title="ut0byte.h" alt="" coords="281,393,364,421"/><area shape="rect" id="node41" href="ut0lst_8h.html" title="ut0lst.h" alt="" coords="575,470,644,498"/><area shape="rect" id="node44" href="sync0sync_8h.html" title="sync0sync.h" alt="" coords="593,393,692,421"/><area shape="rect" id="node48" href="sync0rw_8h.html" title="sync0rw.h" alt="" coords="477,315,560,343"/><area shape="rect" id="node53" href="log0log_8ic.html" title="log0log.ic" alt="" coords="201,315,284,343"/><area shape="rect" id="node59" href="data0data_8h.html" title="data0data.h" alt="" coords="1145,238,1244,266"/><area shape="rect" id="node62" href="data0types_8h.html" title="data0types.h" alt="" coords="1141,315,1248,343"/><area shape="rect" id="node64" href="data0type_8h.html" title="data0type.h" alt="" coords="1019,315,1117,343"/><area shape="rect" id="node84" href="ut0vec_8ic.html" title="ut0vec.ic" alt="" coords="449,238,527,266"/><area shape="rect" id="node92" href="hash0hash_8h.html" title="hash0hash.h" alt="" coords="780,238,884,266"/><area shape="rect" id="node99" href="rem0types_8h.html" title="rem0types.h" alt="" coords="481,161,583,189"/><area shape="rect" id="node101" href="row0types_8h.html" title="row0types.h" alt="" coords="607,161,705,189"/><area shape="rect" id="node105" href="ut0rbt_8h.html" title="ut0rbt.h" alt="" coords="871,470,943,498"/><area shape="rect" id="node108" href="ut0wqueue_8h.html" title="ut0wqueue.h" alt="" coords="601,238,705,266"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="trx0trx_8h__dep__incl.png" border="0" usemap="#include_2trx0trx_8hdep" alt=""/></div>
<map name="include_2trx0trx_8hdep" id="include_2trx0trx_8hdep">
<area shape="rect" id="node3" href="que0que_8h.html" title="include/que0que.h" alt="" coords="476,315,615,343"/><area shape="rect" id="node5" href="api0misc_8h.html" title="include/api0misc.h" alt="" coords="5,393,144,421"/><area shape="rect" id="node13" href="lock0lock_8ic.html" title="include/lock0lock.ic" alt="" coords="816,393,957,421"/><area shape="rect" id="node17" href="trx0roll_8h.html" title="include/trx0roll.h" alt="" coords="568,238,693,266"/><area shape="rect" id="node20" href="trx0sys_8ic.html" title="include/trx0sys.ic" alt="" coords="619,83,749,111"/><area shape="rect" id="node28" href="read0read_8h.html" title="include/read0read.h" alt="" coords="824,161,973,189"/><area shape="rect" id="node31" href="row0upd_8ic.html" title="include/row0upd.ic" alt="" coords="875,83,1013,111"/><area shape="rect" id="node7" href="eval0eval_8ic.html" title="include/eval0eval.ic" alt="" coords="477,393,621,421"/><area shape="rect" id="node9" href="eval0proc_8ic.html" title="include/eval0proc.ic" alt="" coords="645,393,792,421"/><area shape="rect" id="node11" href="fts0priv_8h.html" title="include/fts0priv.h" alt="" coords="168,393,296,421"/><area shape="rect" id="node15" href="row0sel_8ic.html" title="include/row0sel.ic" alt="" coords="320,393,453,421"/><area shape="rect" id="node22" href="trx0sys_8h.html" title="include/trx0sys.h" alt="" coords="620,161,748,189"/></map>
</div>
</div>
<p><a href="trx0trx_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__lock__t.html">trx_lock_t</a></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html">trx_t</a></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommit__node__t.html">commit_node_t</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a51b3c62737f7ed6b672f0ae3ad06d286"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>trx_start_if_not_started_xa</b>(t)</td></tr>
<tr class="memitem:a6a61cba77cad26a5b6de34de23976087"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>trx_start_if_not_started</b>(t)</td></tr>
<tr class="memitem:aa63510e59d2bb20e51fc86b483001c28"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>trx_start_for_ddl</b>(t, o)</td></tr>
<tr class="memitem:a56f0896d94fab6eeb73cbcb164a40945"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a56f0896d94fab6eeb73cbcb164a40945">TRX_WEIGHT</a>(t)&#160;&#160;&#160;((t)-&gt;undo_no + <a class="el" href="ut0lst_8h.html#a132948a92c29bad601863cf8b56de5bb">UT_LIST_GET_LEN</a>((t)-&gt;lock.trx_locks))</td></tr>
<tr class="memitem:a0081be50a0239c2f91a1c7e35804380c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0081be50a0239c2f91a1c7e35804380c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_QUE_STATE_STR_MAX_LEN</b>&#160;&#160;&#160;12 /* &quot;ROLLING BACK&quot; */</td></tr>
<tr class="memitem:a80922c763f3f7328d08f1381ef7dc140"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a80922c763f3f7328d08f1381ef7dc140">trx_lock_wait_timeout_get</a>(trx)</td></tr>
<tr class="memitem:a087a90c619c86978766f279a156dae2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a>(t)&#160;&#160;&#160;((t)-&gt;auto_commit &amp;&amp; (t)-&gt;will_lock == 0)</td></tr>
<tr class="memitem:a02fc96ab8d1a9a437a032d4d82a57381"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a02fc96ab8d1a9a437a032d4d82a57381">trx_is_ac_nl_ro</a>(t)&#160;&#160;&#160;((t)-&gt;read_only &amp;&amp; <a class="el" href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a>((t)))</td></tr>
<tr class="memitem:a3c91c1715241613f6ac4ce942590b2af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a3c91c1715241613f6ac4ce942590b2af">assert_trx_in_rw_list</a>(t)</td></tr>
<tr class="memitem:ac103039d509133ce331f4feaa5b3c37a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ac103039d509133ce331f4feaa5b3c37a">assert_trx_in_list</a>(t)</td></tr>
<tr class="memitem:a4668f84b3a9c5687a0e1d733c3fbfa19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a4668f84b3a9c5687a0e1d733c3fbfa19">assert_trx_nonlocking_or_in_list</a>(t)</td></tr>
<tr class="memitem:a1539d621fac30cbd968fdf5664b872f4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1539d621fac30cbd968fdf5664b872f4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_MAGIC_N</b>&#160;&#160;&#160;91118598</td></tr>
<tr class="memitem:a247f389bf8c057c24e8b814bc264df0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_ISO_READ_UNCOMMITTED</b></td></tr>
<tr class="memitem:ac1ee0d3aa89fd432825470965225396b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_ISO_READ_COMMITTED</b></td></tr>
<tr class="memitem:a69bd5e8425f4f881b741af67a5b7f9fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_ISO_REPEATABLE_READ</b></td></tr>
<tr class="memitem:a45398954a16ffa99d6a2b33bf90b4c9c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_ISO_SERIALIZABLE</b></td></tr>
<tr class="memitem:ad56c068dbfb113e9b500616bb86ab4af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad56c068dbfb113e9b500616bb86ab4af"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_DUP_IGNORE</b>&#160;&#160;&#160;1	/* duplicate rows are to be updated */</td></tr>
<tr class="memitem:a691818d6df1fc5ef3a8c10e312baa9de"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a691818d6df1fc5ef3a8c10e312baa9de"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_DUP_REPLACE</b>&#160;&#160;&#160;2	/* duplicate rows are to be replaced */</td></tr>
<tr class="memitem:a4cb04ffc35ec3e23daa09451e590bed7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4cb04ffc35ec3e23daa09451e590bed7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_SIG_NO_SIGNAL</b>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:a22f62e9d91cb4e39336870c3b53c040a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22f62e9d91cb4e39336870c3b53c040a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_SIG_TOTAL_ROLLBACK</b>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:ae81543f54e6316f1938b7dde47daedcd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae81543f54e6316f1938b7dde47daedcd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_SIG_ROLLBACK_TO_SAVEPT</b>&#160;&#160;&#160;2</td></tr>
<tr class="memitem:ad7e40ccc7b950dfec311e95ba20c5916"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad7e40ccc7b950dfec311e95ba20c5916"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_SIG_COMMIT</b>&#160;&#160;&#160;3</td></tr>
<tr class="memitem:ad81e46c7a602295611a2009519f488c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad81e46c7a602295611a2009519f488c3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_SIG_BREAK_EXECUTION</b>&#160;&#160;&#160;5</td></tr>
<tr class="memitem:acf63eae0a79bf38aa9959ff41dc55b38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_SIG_SELF</b></td></tr>
<tr class="memitem:aa9d4622376b7de96f06b07f0078b33da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_SIG_OTHER_SESS</b></td></tr>
<tr class="memitem:a2500d5010eab88bcf2f06b519354237f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a2500d5010eab88bcf2f06b519354237f">trx_mutex_own</a>(t)&#160;&#160;&#160;<a class="el" href="sync0sync_8h.html#a40624491e0b49ffe0a3e02f69406343a">mutex_own</a>(&amp;t-&gt;mutex)</td></tr>
<tr class="memitem:aba2a1215a0c143a2e57464019e8d209d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#aba2a1215a0c143a2e57464019e8d209d">trx_mutex_enter</a>(t)</td></tr>
<tr class="memitem:a97f30d50cfbc0d22b3730e39ad128ed7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a97f30d50cfbc0d22b3730e39ad128ed7">trx_mutex_exit</a>(t)</td></tr>
<tr class="memitem:a4c9af2edb941e6eaf11d8c337cabe05c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a4c9af2edb941e6eaf11d8c337cabe05c">btr_search_latch</a>&#160;&#160;&#160;(*<a class="el" href="trx0trx_8h.html#a7c572b9b4b7de5d03f7aa083d091f814">btr_search_latch_temp</a>)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aeda504c072953ddfe34988fe729ba0c5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#aeda504c072953ddfe34988fe729ba0c5">commit_node_state</a> { <a class="el" href="trx0trx_8h.html#aeda504c072953ddfe34988fe729ba0c5a58c5533d962091dde4f36df4ef999012">COMMIT_NODE_SEND</a> =  1, 
<a class="el" href="trx0trx_8h.html#aeda504c072953ddfe34988fe729ba0c5a9e0ee8ee1fef6293a6178e3bd1288d93">COMMIT_NODE_WAIT</a>
 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7ba6ea0d3d5dd8c08188e482b16883f7"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a7ba6ea0d3d5dd8c08188e482b16883f7">trx_search_latch_release_if_reserved</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a202c0235ce39203441ac2870fabafd7b"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a202c0235ce39203441ac2870fabafd7b">trx_set_detailed_error</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, const char *msg)</td></tr>
<tr class="memitem:a4bcb11a928ee1828846e62274a173320"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a4bcb11a928ee1828846e62274a173320">trx_set_detailed_error_from_file</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, FILE *file)</td></tr>
<tr class="memitem:a332654555801d7500a7ee5c2e85c049d"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a332654555801d7500a7ee5c2e85c049d">trx_get_error_info</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:ade43b330734b50a3cd589f98371813a5"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ade43b330734b50a3cd589f98371813a5">trx_allocate_for_mysql</a> (void)</td></tr>
<tr class="memitem:afb4544da2a73e4f09aecff263eb5bc51"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#afb4544da2a73e4f09aecff263eb5bc51">trx_allocate_for_background</a> (void)</td></tr>
<tr class="memitem:a4ac3f1b3567298889f1324c77630b3b0"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a4ac3f1b3567298889f1324c77630b3b0">trx_free_for_background</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:aa90b17daf8a7a470b28bbfc8106bd533"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#aa90b17daf8a7a470b28bbfc8106bd533">trx_free_prepared</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx) UNIV_COLD)</td></tr>
<tr class="memitem:ad8ea4796d3fc025f2fab99d81c0eee9c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ad8ea4796d3fc025f2fab99d81c0eee9c">trx_free_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a8129f42710ac56ba0cdbcebdb932d480"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a8129f42710ac56ba0cdbcebdb932d480">trx_lists_init_at_db_start</a> (void)</td></tr>
<tr class="memitem:a1a2aa13b52cc18032f4642a09feccb76"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a1a2aa13b52cc18032f4642a09feccb76">trx_start_if_not_started_xa_low</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a1a64ad8c3c719ead42c1845caf6b62a5"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a1a64ad8c3c719ead42c1845caf6b62a5">trx_start_if_not_started_low</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a5e8531d2fbe81de81c1c2074c2986505"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a5e8531d2fbe81de81c1c2074c2986505">trx_start_for_ddl_low</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a> op))</td></tr>
<tr class="memitem:a16c370ac6000099c5f59eff367c8d9eb"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a16c370ac6000099c5f59eff367c8d9eb">trx_commit</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx))</td></tr>
<tr class="memitem:a2c485127cae3db2de4cf04909eef7a95"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a2c485127cae3db2de4cf04909eef7a95">trx_commit_low</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)))</td></tr>
<tr class="memitem:a425ce3935b8d39104d31e98204c076c4"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a425ce3935b8d39104d31e98204c076c4">trx_cleanup_at_db_startup</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:acdf151d7526a69751c0bff073ae84934"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#acdf151d7526a69751c0bff073ae84934">trx_commit_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a5dee16ca83d698f85ee85265731810b6"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a5dee16ca83d698f85ee85265731810b6">trx_prepare_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a3855ea5654b94293b0bc5cd980858ced"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a3855ea5654b94293b0bc5cd980858ced">trx_recover_for_mysql</a> (<a class="el" href="structxid__t.html">XID</a> *xid_list, ulint len)</td></tr>
<tr class="memitem:a26a0ba5cd9b334e2ad03b0246569638d"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a26a0ba5cd9b334e2ad03b0246569638d">trx_get_trx_by_xid</a> (const <a class="el" href="structxid__t.html">XID</a> *xid)</td></tr>
<tr class="memitem:a0b22c47b78ad315055c97ff5d6158103"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a0b22c47b78ad315055c97ff5d6158103">trx_commit_complete_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx))</td></tr>
<tr class="memitem:a03e90811a06569ef839daab7fb593f40"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a03e90811a06569ef839daab7fb593f40">trx_mark_sql_stat_end</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:adf68a3bcd8f351a720818701994c4f6b"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structread__view__t.html">read_view_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#adf68a3bcd8f351a720818701994c4f6b">trx_assign_read_view</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a3e3a5f2442c6b7545c56f69c468791b3"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a3e3a5f2442c6b7545c56f69c468791b3">trx_commit_or_rollback_prepare</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a569a475ca613cb749f35b19dc6d18b26"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structcommit__node__t.html">commit_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a569a475ca613cb749f35b19dc6d18b26">trx_commit_node_create</a> (<a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *heap)</td></tr>
<tr class="memitem:abaf4dc5c241f26a3ac381fd28ffceaa8"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#abaf4dc5c241f26a3ac381fd28ffceaa8">trx_commit_step</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memitem:a892459929b39fc891a820ed50e93ca20"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a892459929b39fc891a820ed50e93ca20">trx_print_low</a> (FILE *f, const <a class="el" href="structtrx__t.html">trx_t</a> *trx, ulint max_query_len, ulint n_rec_locks, ulint n_trx_locks, ulint heap_size))</td></tr>
<tr class="memitem:a83c58efaff522b8550ca8b5eaa56f411"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a83c58efaff522b8550ca8b5eaa56f411">trx_print_latched</a> (FILE *f, const <a class="el" href="structtrx__t.html">trx_t</a> *trx, ulint max_query_len))</td></tr>
<tr class="memitem:a957a67bf651fa863045fc4f6bb3f1802"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a957a67bf651fa863045fc4f6bb3f1802">trx_print</a> (FILE *f, const <a class="el" href="structtrx__t.html">trx_t</a> *trx, ulint max_query_len))</td></tr>
<tr class="memitem:a27a877e19ac1f806f77c55694166b539"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE enum <a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a27a877e19ac1f806f77c55694166b539">trx_get_dict_operation</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx))</td></tr>
<tr class="memitem:a2897a812badb5f6c9f6ebdc5a0f84ae9"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a2897a812badb5f6c9f6ebdc5a0f84ae9">trx_set_dict_operation</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, enum <a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a> op)</td></tr>
<tr class="memitem:a43bc690f7d23baef653dbc185bcbd229"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a43bc690f7d23baef653dbc185bcbd229">trx_state_eq</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfe">trx_state_t</a> state))</td></tr>
<tr class="memitem:a570a9a469d1fcbdfedc4c4e73b98748e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a570a9a469d1fcbdfedc4c4e73b98748e">trx_assert_started</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx))</td></tr>
<tr class="memitem:ab62d404675bae021fd47b5d9456837ac"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ab62d404675bae021fd47b5d9456837ac">trx_is_interrupted</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a9f476f5f88fa2cfbb5200873743f2125"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a9f476f5f88fa2cfbb5200873743f2125">trx_is_strict</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a532c73a74e23625835f6245f192a039e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a532c73a74e23625835f6245f192a039e">trx_weight_ge</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *a, const <a class="el" href="structtrx__t.html">trx_t</a> *b)</td></tr>
<tr class="memitem:a70150f2448c48ddb2ace0e7335e61b05"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a70150f2448c48ddb2ace0e7335e61b05">trx_get_que_state_str</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:ae2628648e2bd45aa908d576cb549ea4f"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ae2628648e2bd45aa908d576cb549ea4f">trx_assign_rseg</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1c64d381cc36d6df16ab94be98f23116"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsess__t.html">sess_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a1c64d381cc36d6df16ab94be98f23116">trx_dummy_sess</a></td></tr>
<tr class="memitem:a7c572b9b4b7de5d03f7aa083d091f814"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a7c572b9b4b7de5d03f7aa083d091f814">btr_search_latch_temp</a></td></tr>
<tr class="memdesc:a7c572b9b4b7de5d03f7aa083d091f814"><td class="mdescLeft">&#160;</td><td class="mdescRight">The latch protecting the adaptive search system.  <a href="#a7c572b9b4b7de5d03f7aa083d091f814"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The transaction</p>
<p>Created 3/26/1996 Heikki Tuuri </p>
</div><h2>Macro Definition Documentation</h2>
<a class="anchor" id="ac103039d509133ce331f4feaa5b3c37a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define assert_trx_in_list</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                    \</div>
<div class="line">        ut_ad((t)-&gt;in_ro_trx_list == (t)-&gt;read_only);                   \</div>
<div class="line">        ut_ad((t)-&gt;in_rw_trx_list == !(t)-&gt;read_only);                  \</div>
<div class="line">        ut_ad(!<a class="code" href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a>((t)));                     \</div>
<div class="line">        switch ((t)-&gt;state) {                                           \</div>
<div class="line">        case TRX_STATE_PREPARED:                                        \</div>
<div class="line">                <span class="comment">/* fall through */</span>                                      \</div>
<div class="line">        case TRX_STATE_ACTIVE:                                          \</div>
<div class="line">        case TRX_STATE_COMMITTED_IN_MEMORY:                             \</div>
<div class="line">                continue;                                               \</div>
<div class="line">        case TRX_STATE_NOT_STARTED:                                     \</div>
<div class="line">                break;                                                  \</div>
<div class="line">        }                                                               \</div>
<div class="line">        ut_error;                                                       \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Assert that the transaction is either in trx_sys-&gt;ro_trx_list or trx_sys-&gt;rw_trx_list but not both and it cannot be an autocommit non-locking select </p>

</div>
</div>
<a class="anchor" id="a3c91c1715241613f6ac4ce942590b2af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define assert_trx_in_rw_list</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                    \</div>
<div class="line">        ut_ad(!(t)-&gt;read_only);                                         \</div>
<div class="line">        assert_trx_in_list(t);                                          \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Assert that the transaction is in the <a class="el" href="structtrx__sys__t.html#a89d0fe0ecefcf1d9466d0d63b97b084a">trx_sys_t::rw_trx_list</a> </p>

</div>
</div>
<a class="anchor" id="a4668f84b3a9c5687a0e1d733c3fbfa19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define assert_trx_nonlocking_or_in_list</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                            \</div>
<div class="line">                if (<a class="code" href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a>(t)) {                 <a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfe">\</a></div>
<div class="line"><a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfe">			trx_state_t</a>  t_state = (t)-&gt;state;           \</div>
<div class="line">                        ut_ad((t)-&gt;read_only);                          \</div>
<div class="line">                        ut_ad(!(t)-&gt;is_recovered);                      \</div>
<div class="line">                        ut_ad(!(t)-&gt;in_ro_trx_list);                    \</div>
<div class="line">                        ut_ad(!(t)-&gt;in_rw_trx_list);                    \</div>
<div class="line">                        ut_ad((t)-&gt;in_mysql_trx_list);                  \</div>
<div class="line">                        ut_ad(t_state == TRX_STATE_NOT_STARTED          \</div>
<div class="line">                              || t_state == TRX_STATE_ACTIVE);          \</div>
<div class="line">                } <span class="keywordflow">else</span> {                                                \</div>
<div class="line">                        assert_trx_in_list(t);                          \</div>
<div class="line">                }                                                       \</div>
<div class="line">        } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Assert that an autocommit non-locking select cannot be in the ro_trx_list nor the rw_trx_list and that it is a read-only transaction. The tranasction must be in the mysql_trx_list. </p>

</div>
</div>
<a class="anchor" id="a4c9af2edb941e6eaf11d8c337cabe05c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define btr_search_latch&#160;&#160;&#160;(*<a class="el" href="trx0trx_8h.html#a7c572b9b4b7de5d03f7aa083d091f814">btr_search_latch_temp</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The latch protecting the adaptive search system </p>

</div>
</div>
<a class="anchor" id="a02fc96ab8d1a9a437a032d4d82a57381"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_is_ac_nl_ro</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;((t)-&gt;read_only &amp;&amp; <a class="el" href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a>((t)))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if the transaction is a non-locking autocommit select with an explicit check for the read-only status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if non-locking autocommit read-only transaction. </dd></dl>

</div>
</div>
<a class="anchor" id="a087a90c619c86978766f279a156dae2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_is_autocommit_non_locking</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;((t)-&gt;auto_commit &amp;&amp; (t)-&gt;will_lock == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if the transaction is a non-locking autocommit select (implied read-only). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if non-locking autocommit select transaction. </dd></dl>

</div>
</div>
<a class="anchor" id="ac1ee0d3aa89fd432825470965225396b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_ISO_READ_COMMITTED</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">1       <span class="comment">/* somewhat Oracle-like</span></div>
<div class="line"><span class="comment">                                                isolation, except that in</span></div>
<div class="line"><span class="comment">                                                range UPDATE and DELETE we</span></div>
<div class="line"><span class="comment">                                                must block phantom rows</span></div>
<div class="line"><span class="comment">                                                with next-key locks;</span></div>
<div class="line"><span class="comment">                                                SELECT ... FOR UPDATE and ...</span></div>
<div class="line"><span class="comment">                                                LOCK IN SHARE MODE only lock</span></div>
<div class="line"><span class="comment">                                                the index records, NOT the</span></div>
<div class="line"><span class="comment">                                                gaps before them, and thus</span></div>
<div class="line"><span class="comment">                                                allow free inserting;</span></div>
<div class="line"><span class="comment">                                                each consistent read reads its</span></div>
<div class="line"><span class="comment">                                                own snapshot */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a247f389bf8c057c24e8b814bc264df0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_ISO_READ_UNCOMMITTED</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">0       <span class="comment">/* dirty read: non-locking</span></div>
<div class="line"><span class="comment">                                                SELECTs are performed so that</span></div>
<div class="line"><span class="comment">                                                we do not look at a possible</span></div>
<div class="line"><span class="comment">                                                earlier version of a record;</span></div>
<div class="line"><span class="comment">                                                thus they are not &#39;consistent&#39;</span></div>
<div class="line"><span class="comment">                                                reads under this isolation</span></div>
<div class="line"><span class="comment">                                                level; otherwise like level</span></div>
<div class="line"><span class="comment">                                                2 */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a69bd5e8425f4f881b741af67a5b7f9fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_ISO_REPEATABLE_READ</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">2       <span class="comment">/* this is the default;</span></div>
<div class="line"><span class="comment">                                                all consistent reads in the</span></div>
<div class="line"><span class="comment">                                                same trx read the same</span></div>
<div class="line"><span class="comment">                                                snapshot;</span></div>
<div class="line"><span class="comment">                                                full next-key locking used</span></div>
<div class="line"><span class="comment">                                                in locking reads to block</span></div>
<div class="line"><span class="comment">                                                insertions into gaps */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a45398954a16ffa99d6a2b33bf90b4c9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_ISO_SERIALIZABLE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">3       <span class="comment">/* all plain SELECTs are</span></div>
<div class="line"><span class="comment">                                                converted to LOCK IN SHARE</span></div>
<div class="line"><span class="comment">                                                MODE reads */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a80922c763f3f7328d08f1381ef7dc140"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_lock_wait_timeout_get</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">trx</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((trx)-&gt;mysql_thd != NULL                                       \</div>
<div class="line">         ? <a class="code" href="ha__prototypes_8h.html#ab115680a7e77791c5279e7f25a7a9fab">thd_lock_wait_timeout</a>((trx)-&gt;mysql_thd)                      \</div>
<div class="line">         : 0)</div>
</div><!-- fragment --><p>Transactions that aren't started by the MySQL server don't set the <a class="el" href="structtrx__t.html#a32585bbb70013a866ce34d8962d9745b">trx_t::mysql_thd</a> field. For such transactions we set the lock wait timeout to 0 instead of the user configured value that comes from innodb_lock_wait_timeout via <a class="el" href="structtrx__t.html#a32585bbb70013a866ce34d8962d9745b">trx_t::mysql_thd</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>lock wait timeout in seconds </dd></dl>

</div>
</div>
<a class="anchor" id="aba2a1215a0c143a2e57464019e8d209d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_mutex_enter</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                    \</div>
<div class="line">        mutex_enter(&amp;t-&gt;mutex);                 \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Acquire the trx-&gt;mutex. </p>

</div>
</div>
<a class="anchor" id="a97f30d50cfbc0d22b3730e39ad128ed7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_mutex_exit</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                    \</div>
<div class="line">        mutex_exit(&amp;t-&gt;mutex);                  \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Release the trx-&gt;mutex. </p>

</div>
</div>
<a class="anchor" id="a2500d5010eab88bcf2f06b519354237f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_mutex_own</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="sync0sync_8h.html#a40624491e0b49ffe0a3e02f69406343a">mutex_own</a>(&amp;t-&gt;mutex)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test if trx-&gt;mutex is owned. </p>

</div>
</div>
<a class="anchor" id="aa9d4622376b7de96f06b07f0078b33da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SIG_OTHER_SESS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">1       <span class="comment">/* sent by another session (which</span></div>
<div class="line"><span class="comment">                                        must hold rights to this) */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acf63eae0a79bf38aa9959ff41dc55b38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SIG_SELF</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">0       <span class="comment">/* sent by the session itself, or</span></div>
<div class="line"><span class="comment">                                        by an error occurring within this</span></div>
<div class="line"><span class="comment">                                        session */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa63510e59d2bb20e51fc86b483001c28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_start_for_ddl</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">o&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                       \</div>
<div class="line">        ut_ad((t)-&gt;start_file == 0);                            \</div>
<div class="line">        (t)-&gt;start_line = __LINE__;                             \</div>
<div class="line">        (t)-&gt;start_file = __FILE__;                             \</div>
<div class="line">        trx_start_for_ddl_low((t), (o));                        \</div>
<div class="line">        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6a61cba77cad26a5b6de34de23976087"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_start_if_not_started</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                       \</div>
<div class="line">        (t)-&gt;start_line = __LINE__;                             \</div>
<div class="line">        (t)-&gt;start_file = __FILE__;                             \</div>
<div class="line">        trx_start_if_not_started_low((t));                      \</div>
<div class="line">        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a51b3c62737f7ed6b672f0ae3ad06d286"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_start_if_not_started_xa</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                       \</div>
<div class="line">        (t)-&gt;start_line = __LINE__;                             \</div>
<div class="line">        (t)-&gt;start_file = __FILE__;                             \</div>
<div class="line">        trx_start_if_not_started_xa_low((t));                   \</div>
<div class="line">        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a56f0896d94fab6eeb73cbcb164a40945"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_WEIGHT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;((t)-&gt;undo_no + <a class="el" href="ut0lst_8h.html#a132948a92c29bad601863cf8b56de5bb">UT_LIST_GET_LEN</a>((t)-&gt;lock.trx_locks))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the "weight" of a transaction. The weight of one transaction is estimated as the number of altered rows + the number of locked rows. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>transaction weight </dd></dl>

</div>
</div>
<h2>Enumeration Type Documentation</h2>
<a class="anchor" id="aeda504c072953ddfe34988fe729ba0c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="trx0trx_8h.html#aeda504c072953ddfe34988fe729ba0c5">commit_node_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commit node states </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aeda504c072953ddfe34988fe729ba0c5a58c5533d962091dde4f36df4ef999012"></a>COMMIT_NODE_SEND</em>&nbsp;</td><td>
<p>about to send a commit signal to the transaction </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aeda504c072953ddfe34988fe729ba0c5a9e0ee8ee1fef6293a6178e3bd1288d93"></a>COMMIT_NODE_WAIT</em>&nbsp;</td><td>
<p>commit signal sent to the transaction, waiting for completion </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="afb4544da2a73e4f09aecff263eb5bc51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structtrx__t.html">trx_t</a>* trx_allocate_for_background </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a transaction object for background operations by the master thread. </p>
<dl class="section return"><dt>Returns</dt><dd>own: transaction object </dd></dl>

</div>
</div>
<a class="anchor" id="ade43b330734b50a3cd589f98371813a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structtrx__t.html">trx_t</a>* trx_allocate_for_mysql </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a transaction object for MySQL. </p>
<dl class="section return"><dt>Returns</dt><dd>own: transaction object </dd></dl>

</div>
</div>
<a class="anchor" id="a570a9a469d1fcbdfedc4c4e73b98748e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> trx_assert_started </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asserts that a transaction has been started. The caller must hold trx_sys-&gt;mutex. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if started </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adf68a3bcd8f351a720818701994c4f6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structread__view__t.html">read_view_t</a>* trx_assign_read_view </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assigns a read view for a consistent read query. All the consistent reads within the same transaction will get the same read view, which is created when this function is first called for a new started transaction. </p>
<dl class="section return"><dt>Returns</dt><dd>consistent read view in: active transaction </dd></dl>

</div>
</div>
<a class="anchor" id="ae2628648e2bd45aa908d576cb549ea4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_assign_rseg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assign a read-only transaction a rollback-segment, if it is attempting to write to a TEMPORARY table. A read-only transaction that needs to be assigned a RBS. </p>

</div>
</div>
<a class="anchor" id="a425ce3935b8d39104d31e98204c076c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_cleanup_at_db_startup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cleans up a transaction at database startup. The cleanup is needed if the transaction already got to the middle of a commit when the database crashed, and we cannot roll it back. in: transaction </p>

</div>
</div>
<a class="anchor" id="a16c370ac6000099c5f59eff367c8d9eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commits a transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0b22c47b78ad315055c97ff5d6158103"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_commit_complete_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If required, flushes the log to disk if we called <a class="el" href="trx0trx_8h.html#acdf151d7526a69751c0bff073ae84934">trx_commit_for_mysql()</a> with trx-&gt;flush_log_later == TRUE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acdf151d7526a69751c0bff073ae84934"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_commit_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Does the transaction commit for MySQL. </p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error number in/out: transaction </dd></dl>

</div>
</div>
<a class="anchor" id="a2c485127cae3db2de4cf04909eef7a95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_commit_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commits a transaction and a mini-transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
    <tr><td class="paramname">mtr</td><td>in/out: mini-transaction (will be committed), or NULL if trx made no modifications </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a569a475ca613cb749f35b19dc6d18b26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structcommit__node__t.html">commit_node_t</a>* trx_commit_node_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a commit command node struct. </p>
<dl class="section return"><dt>Returns</dt><dd>own: commit node struct in: mem heap where created </dd></dl>

</div>
</div>
<a class="anchor" id="a3e3a5f2442c6b7545c56f69c468791b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_commit_or_rollback_prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepares a transaction for commit/rollback. in/out: transaction </p>

</div>
</div>
<a class="anchor" id="abaf4dc5c241f26a3ac381fd28ffceaa8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structque__thr__t.html">que_thr_t</a>* trx_commit_step </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs an execution step for a commit type node in a query graph. </p>
<dl class="section return"><dt>Returns</dt><dd>query thread to run next, or NULL in: query thread </dd></dl>

</div>
</div>
<a class="anchor" id="a4ac3f1b3567298889f1324c77630b3b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_free_for_background </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees a transaction object of a background operation of the master thread. in, own: trx object </p>

</div>
</div>
<a class="anchor" id="ad8ea4796d3fc025f2fab99d81c0eee9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_free_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees a transaction object for MySQL. in, own: trx object </p>

</div>
</div>
<a class="anchor" id="aa90b17daf8a7a470b28bbfc8106bd533"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_free_prepared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>At shutdown, frees a transaction object that is in the PREPARED state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in, own: trx object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a27a877e19ac1f806f77c55694166b539"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE enum <a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a> trx_get_dict_operation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if a transaction is a dictionary operation. </p>
<dl class="section return"><dt>Returns</dt><dd>dictionary operation mode </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a332654555801d7500a7ee5c2e85c049d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE const <a class="el" href="structdict__index__t.html">dict_index_t</a>* trx_get_error_info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the error_info field from a trx. </p>
<dl class="section return"><dt>Returns</dt><dd>the error info in: trx object</dd></dl>
<p>Retrieves the error_info field from a trx. </p>
<dl class="section return"><dt>Returns</dt><dd>the error info </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: trx object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a70150f2448c48ddb2ace0e7335e61b05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE const char* trx_get_que_state_str </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves transaction's que state in a human readable string. The string should not be free()'d or modified. </p>
<dl class="section return"><dt>Returns</dt><dd>string in the data segment in: transaction</dd></dl>
<p>Retrieves transaction's que state in a human readable string. The string should not be free()'d or modified. </p>
<dl class="section return"><dt>Returns</dt><dd>string in the data segment </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a26a0ba5cd9b334e2ad03b0246569638d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structtrx__t.html">trx_t</a>* trx_get_trx_by_xid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structxid__t.html">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used to find one X/Open XA distributed transaction which is in the prepared state </p>
<dl class="section return"><dt>Returns</dt><dd>trx or NULL; on match, the trx-&gt;xid will be invalidated; note that the trx may have been committed, unless the caller is holding lock_sys-&gt;mutex in: X/Open XA transaction identifier </dd></dl>

</div>
</div>
<a class="anchor" id="ab62d404675bae021fd47b5d9456837ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> trx_is_interrupted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines if the currently running transaction has been interrupted. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if interrupted in: transaction </dd></dl>

</div>
</div>
<a class="anchor" id="a9f476f5f88fa2cfbb5200873743f2125"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> trx_is_strict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines if the currently running transaction is in strict mode. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if strict in: transaction </dd></dl>

</div>
</div>
<a class="anchor" id="a8129f42710ac56ba0cdbcebdb932d480"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_lists_init_at_db_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates trx objects for transactions and initializes the trx list of trx_sys at database start. Rollback segment and undo log lists must already exist when this function is called, because the lists of transactions to be rolled back or cleaned up are built based on the undo log lists. </p>

</div>
</div>
<a class="anchor" id="a03e90811a06569ef839daab7fb593f40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_mark_sql_stat_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Marks the latest SQL statement ended. in: trx handle </p>

</div>
</div>
<a class="anchor" id="a5dee16ca83d698f85ee85265731810b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_prepare_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Does the transaction prepare for MySQL. in/out: trx handle </p>

</div>
</div>
<a class="anchor" id="a957a67bf651fa863045fc4f6bb3f1802"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_print </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>max_query_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints info about a transaction. Acquires and releases lock_sys-&gt;mutex and trx_sys-&gt;mutex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>in: output stream </td></tr>
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">max_query_len</td><td>in: max query length to print, or 0 to use the default max length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a83c58efaff522b8550ca8b5eaa56f411"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_print_latched </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>max_query_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints info about a transaction. The caller must hold lock_sys-&gt;mutex and trx_sys-&gt;mutex. When possible, use <a class="el" href="trx0trx_8h.html#a957a67bf651fa863045fc4f6bb3f1802">trx_print()</a> instead. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>in: output stream </td></tr>
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">max_query_len</td><td>in: max query length to print, or 0 to use the default max length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a892459929b39fc891a820ed50e93ca20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_print_low </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>max_query_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_rec_locks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_trx_locks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>heap_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints info about a transaction. Caller must hold trx_sys-&gt;mutex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>in: output stream </td></tr>
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">max_query_len</td><td>in: max query length to print, or 0 to use the default max length </td></tr>
    <tr><td class="paramname">n_rec_locks</td><td>in: lock_number_of_rows_locked(&amp;trx-&gt;lock) </td></tr>
    <tr><td class="paramname">n_trx_locks</td><td>in: length of trx-&gt;lock.trx_locks </td></tr>
    <tr><td class="paramname">heap_size</td><td>in: mem_heap_get_size(trx-&gt;lock.lock_heap) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3855ea5654b94293b0bc5cd980858ced"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN int trx_recover_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structxid__t.html">XID</a> *&#160;</td>
          <td class="paramname"><em>xid_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used to find number of prepared transactions and their transaction objects for a recovery. </p>
<dl class="section return"><dt>Returns</dt><dd>number of prepared transactions in: number of slots in xid_list </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xid_list</td><td>in/out: prepared transactions </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7ba6ea0d3d5dd8c08188e482b16883f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_search_latch_release_if_reserved </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases the search latch if trx has reserved it. in: transaction</p>
<p>Releases the search latch if trx has reserved it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a202c0235ce39203441ac2870fabafd7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_set_detailed_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set detailed error message for the transaction. in: detailed error message </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4bcb11a928ee1828846e62274a173320"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_set_detailed_error_from_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set detailed error message for the transaction from a file. Note that the file is rewinded before reading from it. in: file to read message from </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2897a812badb5f6c9f6ebdc5a0f84ae9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_set_dict_operation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a>&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag a transaction a dictionary operation. in: operation, not TRX_DICT_OP_NONE</p>
<p>Flag a transaction a dictionary operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
    <tr><td class="paramname">op</td><td>in: operation, not TRX_DICT_OP_NONE </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5e8531d2fbe81de81c1c2074c2986505"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_start_for_ddl_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a>&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts the transaction for a DDL operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
    <tr><td class="paramname">op</td><td>in: dictionary operation type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1a64ad8c3c719ead42c1845caf6b62a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_start_if_not_started_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts the transaction if it is not yet started. in: transaction </p>

</div>
</div>
<a class="anchor" id="a1a2aa13b52cc18032f4642a09feccb76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_start_if_not_started_xa_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts the transaction if it is not yet started. in: transaction </p>

</div>
</div>
<a class="anchor" id="a43bc690f7d23baef653dbc185bcbd229"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> trx_state_eq </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfe">trx_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines if a transaction is in the given state. The caller must hold trx_sys-&gt;mutex, or it must be the thread that is serving a running transaction. A running transaction must be in trx_sys-&gt;ro_trx_list or trx_sys-&gt;rw_trx_list unless it is a non-locking autocommit read only transaction, which is only in trx_sys-&gt;mysql_trx_list. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if trx-&gt;state == state </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">state</td><td>in: state; if state != TRX_STATE_NOT_STARTED asserts that trx-&gt;state != TRX_STATE_NOT_STARTED </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a532c73a74e23625835f6245f192a039e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> trx_weight_ge </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compares the "weight" (or size) of two transactions. Transactions that have edited non-transactional tables are considered heavier than ones that have not. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if weight(a) &gt;= weight(b) in: the second transaction to be compared </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>in: the first transaction to be compared </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2>Variable Documentation</h2>
<a class="anchor" id="a7c572b9b4b7de5d03f7aa083d091f814"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrw__lock__t.html">rw_lock_t</a>* btr_search_latch_temp</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The latch protecting the adaptive search system. </p>
<p>This latch protects the (1) hash index; (2) columns of a record to which we have a pointer in the hash index;</p>
<p>but does NOT protect:</p>
<p>(3) next record offset field in a record; (4) next or previous records on the same page.</p>
<p>Bear in mind (3) and (4) when using the hash index. </p>

</div>
</div>
<a class="anchor" id="a1c64d381cc36d6df16ab94be98f23116"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsess__t.html">sess_t</a>* trx_dummy_sess</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dummy session used currently in MySQL interface </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 21 2015 19:14:27 for InnoDB Plugin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
