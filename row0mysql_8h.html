<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>InnoDB Plugin: include/row0mysql.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">InnoDB Plugin
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">row0mysql.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="univ_8i.html">univ.i</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="data0data_8h_source.html">data0data.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="que0types_8h_source.html">que0types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="dict0types_8h_source.html">dict0types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="trx0types_8h_source.html">trx0types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="row0types_8h_source.html">row0types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="btr0pcur_8h_source.html">btr0pcur.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="row0mysql_8ic.html">row0mysql.ic</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for row0mysql.h:</div>
<div class="dyncontent">
<div class="center"><img src="row0mysql_8h__incl.png" border="0" usemap="#include_2row0mysql_8h" alt=""/></div>
<map name="include_2row0mysql_8h" id="include_2row0mysql_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="row0mysql_8h__dep__incl.png" border="0" usemap="#include_2row0mysql_8hdep" alt=""/></div>
<map name="include_2row0mysql_8hdep" id="include_2row0mysql_8hdep">
</map>
</div>
</div>
<p><a href="row0mysql_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmysql__row__templ__t.html">mysql_row_templ_t</a></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSysIndexCallback.html">SysIndexCallback</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac3293f79b8b8a2ee60586040f7cc51a2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac3293f79b8b8a2ee60586040f7cc51a2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>row_mysql_lock_data_dictionary</b>(trx)&#160;&#160;&#160;<a class="el" href="row0mysql_8h.html#ae5e4c6ac1855097d3ef23426b9ed62f6">row_mysql_lock_data_dictionary_func</a>(trx, __FILE__, __LINE__)</td></tr>
<tr class="memitem:a6f5396351f80512e5a2e79a016f79179"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f5396351f80512e5a2e79a016f79179"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>row_mysql_freeze_data_dictionary</b>(trx)&#160;&#160;&#160;<a class="el" href="row0mysql_8h.html#abc146db3518cc64a29e2d4ddf6611eec">row_mysql_freeze_data_dictionary_func</a>(trx, __FILE__, __LINE__)</td></tr>
<tr class="memitem:adbabec476ae3e4e35d865d8d4dafdb8c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adbabec476ae3e4e35d865d8d4dafdb8c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MYSQL_FETCH_CACHE_SIZE</b>&#160;&#160;&#160;8</td></tr>
<tr class="memitem:af100507821e7d0b1736e9f6dfd571389"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af100507821e7d0b1736e9f6dfd571389"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MYSQL_FETCH_CACHE_THRESHOLD</b>&#160;&#160;&#160;4</td></tr>
<tr class="memitem:a686cc3ab21fa87a5d1ca725a6ec2d880"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a686cc3ab21fa87a5d1ca725a6ec2d880"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_PREBUILT_ALLOCATED</b>&#160;&#160;&#160;78540783</td></tr>
<tr class="memitem:a3615dcc4a2217a352eddf239e0b186c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3615dcc4a2217a352eddf239e0b186c2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_PREBUILT_FREED</b>&#160;&#160;&#160;26423527</td></tr>
<tr class="memitem:a4de2bed680026ecb123a8e2e920888d6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4de2bed680026ecb123a8e2e920888d6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_PREBUILT_FETCH_MAGIC_N</b>&#160;&#160;&#160;465765687</td></tr>
<tr class="memitem:aaae9fe805ac2602b979a4ef78c78187e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaae9fe805ac2602b979a4ef78c78187e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_MYSQL_WHOLE_ROW</b>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:a2ca457a067b7c94e6f476f421742ef98"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ca457a067b7c94e6f476f421742ef98"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_MYSQL_REC_FIELDS</b>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:a733252763fb9a3a85d5978368bf9efd5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a733252763fb9a3a85d5978368bf9efd5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_MYSQL_NO_TEMPLATE</b>&#160;&#160;&#160;2</td></tr>
<tr class="memitem:a6cbef0461177ab33828603e9a93c2186"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_MYSQL_DUMMY_TEMPLATE</b></td></tr>
<tr class="memitem:a4fffc68a5995fe660bb449c87803fde0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4fffc68a5995fe660bb449c87803fde0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_RETRIEVE_PRIMARY_KEY</b>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:a92f8f9da0bf123fab6d8cabe85d7efef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92f8f9da0bf123fab6d8cabe85d7efef"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_RETRIEVE_ALL_COLS</b>&#160;&#160;&#160;2</td></tr>
<tr class="memitem:aaca3190403f35781189c2fb9cb746a41"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaca3190403f35781189c2fb9cb746a41"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_READ_WITH_LOCKS</b>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:a9b287429ef56df89935576caf8d7fba2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b287429ef56df89935576caf8d7fba2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_READ_TRY_SEMI_CONSISTENT</b>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:a5d5bb4edba012ec30d23199136ff837c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d5bb4edba012ec30d23199136ff837c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_READ_DID_SEMI_CONSISTENT</b>&#160;&#160;&#160;2</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:affe3a9ad4f4c9b246913c45441e18c8e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#affe3a9ad4f4c9b246913c45441e18c8e">row_mysql_prebuilt_free_blob_heap</a> (<a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt)</td></tr>
<tr class="memitem:a9d1bd3fa7a0cdf1306b086a88d97758b"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a9d1bd3fa7a0cdf1306b086a88d97758b">row_mysql_store_true_var_len</a> (byte *dest, ulint len, ulint lenlen)</td></tr>
<tr class="memitem:ae6dbb7bf27cc54fbde9904f6b567b4aa"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN const byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#ae6dbb7bf27cc54fbde9904f6b567b4aa">row_mysql_read_true_varchar</a> (ulint *len, const byte *field, ulint lenlen)</td></tr>
<tr class="memitem:ae373e7811989dde72a551dee6e878d19"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#ae373e7811989dde72a551dee6e878d19">row_mysql_store_blob_ref</a> (byte *dest, ulint col_len, const void *data, ulint len)</td></tr>
<tr class="memitem:a9b882d9d6c96fd61774db1bd4ec17e97"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN const byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a9b882d9d6c96fd61774db1bd4ec17e97">row_mysql_read_blob_ref</a> (ulint *len, const byte *ref, ulint col_len)</td></tr>
<tr class="memitem:a922297ad0c64ef062a317aa59d194aa1"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a922297ad0c64ef062a317aa59d194aa1">row_mysql_pad_col</a> (ulint mbminlen, byte *pad, ulint len)</td></tr>
<tr class="memitem:a6d3bc4bfb308ace70d430b5cb7d7f912"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a6d3bc4bfb308ace70d430b5cb7d7f912">row_mysql_store_col_in_innobase_format</a> (<a class="el" href="structdfield__t.html">dfield_t</a> *dfield, byte *buf, <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> row_format_col, const byte *mysql_data, ulint col_len, ulint comp)</td></tr>
<tr class="memitem:a908b83b69bf367dfb676f3128b1ffcdb"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a908b83b69bf367dfb676f3128b1ffcdb">row_mysql_handle_errors</a> (<a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> *new_err, <a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="structque__thr__t.html">que_thr_t</a> *thr, <a class="el" href="structtrx__savept__t.html">trx_savept_t</a> *savept)))</td></tr>
<tr class="memitem:a9f00dbb63ba677331d9ce943fd950050"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a9f00dbb63ba677331d9ce943fd950050">row_create_prebuilt</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table, ulint mysql_row_len)</td></tr>
<tr class="memitem:a83598e5d3aa921c764260e1fbff8c95e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a83598e5d3aa921c764260e1fbff8c95e">row_prebuilt_free</a> (<a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt, <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> dict_locked)</td></tr>
<tr class="memitem:a76d2f01e54f65bbd5ba00dcb69631bf7"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a76d2f01e54f65bbd5ba00dcb69631bf7">row_update_prebuilt_trx</a> (<a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt, <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a85595dc76c21de231fafe3296f58354a"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a85595dc76c21de231fafe3296f58354a">row_lock_table_autoinc_for_mysql</a> (<a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt))</td></tr>
<tr class="memitem:a7e43aa039311b2427bc7b786066bef2d"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a7e43aa039311b2427bc7b786066bef2d">row_lock_table_for_mysql</a> (<a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt, <a class="el" href="structdict__table__t.html">dict_table_t</a> *table, ulint mode)))</td></tr>
<tr class="memitem:ae33534e9eb2476f27b636df793adf85c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#ae33534e9eb2476f27b636df793adf85c">row_insert_for_mysql</a> (byte *mysql_rec, <a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt))</td></tr>
<tr class="memitem:aab5aec3df0fa54e4dc943996ec8f35cb"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#aab5aec3df0fa54e4dc943996ec8f35cb">row_prebuild_sel_graph</a> (<a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt)</td></tr>
<tr class="memitem:abd324631cdad9b8a4653b11134a1b2d3"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structupd__t.html">upd_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#abd324631cdad9b8a4653b11134a1b2d3">row_get_prebuilt_update_vector</a> (<a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt)</td></tr>
<tr class="memitem:abb135491bb97aae766be56551dc1d255"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#abb135491bb97aae766be56551dc1d255">row_table_got_default_clust_index</a> (const <a class="el" href="structdict__table__t.html">dict_table_t</a> *table)</td></tr>
<tr class="memitem:a38b36c1b5de6fcb8a1c2a0ecca9678a0"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a38b36c1b5de6fcb8a1c2a0ecca9678a0">row_update_for_mysql</a> (byte *mysql_rec, <a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt))</td></tr>
<tr class="memitem:a15bc119f5540eb748bb3deae21a3b8a5"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a15bc119f5540eb748bb3deae21a3b8a5">row_unlock_for_mysql</a> (<a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt, <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> has_latches_on_recs))</td></tr>
<tr class="memitem:aad579a246c6534fd1221c095115af678"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#aad579a246c6534fd1221c095115af678">row_is_mysql_tmp_table_name</a> (const char *name))</td></tr>
<tr class="memitem:ad0d492207789fe7b48df95919873e62e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structupd__node__t.html">upd_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#ad0d492207789fe7b48df95919873e62e">row_create_update_node_for_mysql</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table, <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *heap)</td></tr>
<tr class="memitem:aa01864f897ed3f2d2deea3eede5a0732"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#aa01864f897ed3f2d2deea3eede5a0732">row_update_cascade_for_mysql</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr, <a class="el" href="structupd__node__t.html">upd_node_t</a> *node, <a class="el" href="structdict__table__t.html">dict_table_t</a> *table))</td></tr>
<tr class="memitem:ae5e4c6ac1855097d3ef23426b9ed62f6"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#ae5e4c6ac1855097d3ef23426b9ed62f6">row_mysql_lock_data_dictionary_func</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, const char *file, ulint <a class="el" href="sync0rw_8h.html#a9c7f0c6f9625ecd575d0dc773df2ee08">line</a>)</td></tr>
<tr class="memitem:afb5f1a185f933bf58eab55cc72aba735"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#afb5f1a185f933bf58eab55cc72aba735">row_mysql_unlock_data_dictionary</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:abc146db3518cc64a29e2d4ddf6611eec"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#abc146db3518cc64a29e2d4ddf6611eec">row_mysql_freeze_data_dictionary_func</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, const char *file, ulint <a class="el" href="sync0rw_8h.html#a9c7f0c6f9625ecd575d0dc773df2ee08">line</a>)</td></tr>
<tr class="memitem:a6e3959dc3346e6f3aad56e279e45e87c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a6e3959dc3346e6f3aad56e279e45e87c">row_mysql_unfreeze_data_dictionary</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memitem:a298bc62e87302efee331e54b29b49259"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a298bc62e87302efee331e54b29b49259">row_create_table_for_mysql</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table, <a class="el" href="structtrx__t.html">trx_t</a> *trx, bool commit))</td></tr>
<tr class="memitem:adbdc0c54999b31f2a6fda332a04972cf"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#adbdc0c54999b31f2a6fda332a04972cf">row_create_index_for_mysql</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *index, <a class="el" href="structtrx__t.html">trx_t</a> *trx, const ulint *field_lengths)</td></tr>
<tr class="memitem:a73d1be3b81af3a8db937f44fb401e856"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a73d1be3b81af3a8db937f44fb401e856">row_table_add_foreign_constraints</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, const char *sql_string, size_t sql_length, const char *name, <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> reject_fks))</td></tr>
<tr class="memitem:afe6b4f7025e9a8f113612ca9e9ca9a18"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#afe6b4f7025e9a8f113612ca9e9ca9a18">row_drop_tables_for_mysql_in_background</a> (void)</td></tr>
<tr class="memitem:af2a75b3210a587178ef84b572321d561"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#af2a75b3210a587178ef84b572321d561">row_get_background_drop_list_len_low</a> (void)</td></tr>
<tr class="memitem:a04f18e2edd039ae022fca8d4d161d8b7"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a04f18e2edd039ae022fca8d4d161d8b7">row_mysql_lock_table</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="structdict__table__t.html">dict_table_t</a> *table, enum lock_mode mode, const char *op_info))</td></tr>
<tr class="memitem:ad27b06265adae0336e4f2938544683b4"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#ad27b06265adae0336e4f2938544683b4">row_truncate_table_for_mysql</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table, <a class="el" href="structtrx__t.html">trx_t</a> *trx))</td></tr>
<tr class="memitem:afb42043f47bdcda294bc4b01e90229fa"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#afb42043f47bdcda294bc4b01e90229fa">row_drop_table_for_mysql</a> (const char *name, <a class="el" href="structtrx__t.html">trx_t</a> *trx, bool drop_db, bool nonatomic=true))</td></tr>
<tr class="memitem:af034325194196e22b2283c101d19bd60"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#af034325194196e22b2283c101d19bd60">row_mysql_drop_temp_tables</a> (void)</td></tr>
<tr class="memitem:a1bf0ac3f5d4d1bb8a61e72b0acd58c9c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a1bf0ac3f5d4d1bb8a61e72b0acd58c9c">row_discard_tablespace_for_mysql</a> (const char *name, <a class="el" href="structtrx__t.html">trx_t</a> *trx))</td></tr>
<tr class="memitem:adb887016b81e3006312c05fe8c2c1c13"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#adb887016b81e3006312c05fe8c2c1c13">row_import_tablespace_for_mysql</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table, <a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt))</td></tr>
<tr class="memitem:aa914ba7a52d25cb4dafb08bee08f6d14"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#aa914ba7a52d25cb4dafb08bee08f6d14">row_drop_database_for_mysql</a> (const char *name, <a class="el" href="structtrx__t.html">trx_t</a> *trx))</td></tr>
<tr class="memitem:a57ba2939b9240dafb8cbf1f76b02e6a4"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a57ba2939b9240dafb8cbf1f76b02e6a4">row_rename_table_for_mysql</a> (const char *old_name, const char *new_name, <a class="el" href="structtrx__t.html">trx_t</a> *trx, bool commit))</td></tr>
<tr class="memitem:a6cdabf60ec30803a6cd5a2e350f997f2"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a6cdabf60ec30803a6cd5a2e350f997f2">row_check_index_for_mysql</a> (<a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *index, ulint *n_rows))</td></tr>
<tr class="memitem:a9458b0c14e5f7e4e67be0153539bd09e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a9458b0c14e5f7e4e67be0153539bd09e">row_is_magic_monitor_table</a> (const char *table_name))</td></tr>
<tr class="memitem:a780082855f8afb89d70338845879f374"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a780082855f8afb89d70338845879f374">row_mysql_init</a> (void)</td></tr>
<tr class="memitem:adb13bd4c9d4d5d0ae88f3d3a72cfbe87"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#adb13bd4c9d4d5d0ae88f3d3a72cfbe87">row_mysql_close</a> (void)</td></tr>
<tr class="memitem:a2b40bd5f6755fb7f193fe788f8e8714b"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0mysql_8h.html#a2b40bd5f6755fb7f193fe788f8e8714b">row_mysql_table_id_reassign</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table, <a class="el" href="structtrx__t.html">trx_t</a> *trx, table_id_t *new_id))</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab4f85269e2cc82e21646b79cc2dc173e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab4f85269e2cc82e21646b79cc2dc173e"></a>
<a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><b>row_rollback_on_timeout</b></td></tr>
<tr class="memitem:a9de1fa5a5c99bbc84b5678762a623cf3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9de1fa5a5c99bbc84b5678762a623cf3"></a>
UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>warn_unused_result</b></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Interface between Innobase row operations and MySQL. Contains also create table and other data dictionary operations.</p>
<p>Created 9/17/2000 Heikki Tuuri </p>
</div><h2>Macro Definition Documentation</h2>
<a class="anchor" id="a6cbef0461177ab33828603e9a93c2186"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROW_MYSQL_DUMMY_TEMPLATE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">3       <span class="comment">/* dummy template used in</span></div>
<div class="line"><span class="comment">                                        row_scan_and_check_index */</span></div>
</div><!-- fragment -->
</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="a6cdabf60ec30803a6cd5a2e350f997f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN bool row_check_index_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>n_rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks that the index contains entries in an ascending order, unique constraint is not broken, and calculates the number of index entries in the read view of the current transaction. </p>
<dl class="section return"><dt>Returns</dt><dd>true if ok </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prebuilt</td><td>in: prebuilt struct in MySQL handle </td></tr>
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">n_rows</td><td>out: number of entries seen in the consistent read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adbdc0c54999b31f2a6fda332a04972cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_create_index_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>field_lengths</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Does an index creation operation for MySQL. TODO: currently failure to create an index results in dropping the whole table! This is no problem currently as all indexes must be created at the same time as the table. </p>
<dl class="section return"><dt>Returns</dt><dd>error number or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in, own: index definition (will be freed) </td></tr>
    <tr><td class="paramname">trx</td><td>in: transaction handle </td></tr>
    <tr><td class="paramname">field_lengths</td><td>in: if not NULL, must contain dict_index_get_n_fields(index) actual field lengths for the index columns, which are then checked for not being too large. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9f00dbb63ba677331d9ce943fd950050"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a>* row_create_prebuilt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>mysql_row_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a prebuilt struct for a MySQL table handle. </p>
<dl class="section return"><dt>Returns</dt><dd>own: a prebuilt struct in: length in bytes of a row in the MySQL format </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in: Innobase table handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a298bc62e87302efee331e54b29b49259"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_create_table_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>commit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a table for MySQL. If the name of the table ends in one of "innodb_monitor", "innodb_lock_monitor", "innodb_tablespace_monitor", "innodb_table_monitor", then this will also start the printing of monitor output by the master thread. If the table name ends in "innodb_mem_validate", InnoDB will try to invoke mem_validate(). On failure the transaction will be rolled back. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in, own: table definition (will be freed, or on DB_SUCCESS added to the data dictionary cache) </td></tr>
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
    <tr><td class="paramname">commit</td><td>in: if true, commit the transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad0d492207789fe7b48df95919873e62e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structupd__node__t.html">upd_node_t</a>* row_create_update_node_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates an query graph node of 'update' type to be used in the MySQL interface. </p>
<dl class="section return"><dt>Returns</dt><dd>own: update node in: mem heap from which allocated </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in: table to update </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1bf0ac3f5d4d1bb8a61e72b0acd58c9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_discard_tablespace_for_mysql </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Discards the tablespace of a table which stored in an .ibd file. Discarding means that this function deletes the .ibd file and assigns a new table id for the table. Also the flag table-&gt;ibd_file_missing is set TRUE. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>in: table name </td></tr>
    <tr><td class="paramname">trx</td><td>in: transaction handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa914ba7a52d25cb4dafb08bee08f6d14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_drop_database_for_mysql </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Drops a database for MySQL. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>in: database name which ends to '/' </td></tr>
    <tr><td class="paramname">trx</td><td>in: transaction handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afb42043f47bdcda294bc4b01e90229fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_drop_table_for_mysql </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>drop_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>nonatomic</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Drops a table for MySQL. If the name of the dropped table ends in one of "innodb_monitor", "innodb_lock_monitor", "innodb_tablespace_monitor", "innodb_table_monitor", then this will also stop the printing of monitor output by the master thread. If the data dictionary was not already locked by the transaction, the transaction will be committed. Otherwise, the data dictionary will remain locked. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>in: table name </td></tr>
    <tr><td class="paramname">trx</td><td>in: dictionary transaction handle </td></tr>
    <tr><td class="paramname">drop_db</td><td>in: true=dropping whole database </td></tr>
    <tr><td class="paramname">nonatomic</td><td>in: whether it is permitted to release and reacquire dict_operation_lock </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afe6b4f7025e9a8f113612ca9e9ca9a18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ulint row_drop_tables_for_mysql_in_background </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The master thread in srv0srv.cc calls this regularly to drop tables which we must drop in background after queries to them have ended. Such lazy dropping of tables is needed in ALTER TABLE on Unix. </p>
<dl class="section return"><dt>Returns</dt><dd>how many tables dropped + remaining tables in list </dd></dl>

</div>
</div>
<a class="anchor" id="af2a75b3210a587178ef84b572321d561"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ulint row_get_background_drop_list_len_low </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the background drop list length. NOTE: the caller must own the kernel mutex! </p>
<dl class="section return"><dt>Returns</dt><dd>how many tables in list </dd></dl>

</div>
</div>
<a class="anchor" id="abd324631cdad9b8a4653b11134a1b2d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structupd__t.html">upd_t</a>* row_get_prebuilt_update_vector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets pointer to a prebuilt update vector used in updates. If the update graph has not yet been built in the prebuilt struct, then this function first builds it. </p>
<dl class="section return"><dt>Returns</dt><dd>prebuilt update vector in: prebuilt struct in MySQL handle </dd></dl>

</div>
</div>
<a class="anchor" id="adb887016b81e3006312c05fe8c2c1c13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_import_tablespace_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Imports a tablespace. The space id in the .ibd file must match the space id of the table in the data dictionary. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in/out: table </td></tr>
    <tr><td class="paramname">prebuilt</td><td>in: prebuilt struct in MySQL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae33534e9eb2476f27b636df793adf85c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_insert_for_mysql </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>mysql_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Does an insert for MySQL. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mysql_rec</td><td>in: row in the MySQL format </td></tr>
    <tr><td class="paramname">prebuilt</td><td>in: prebuilt struct in MySQL handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9458b0c14e5f7e4e67be0153539bd09e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN bool row_is_magic_monitor_table </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines if a table is a magic monitor table. </p>
<dl class="section return"><dt>Returns</dt><dd>true if monitor table </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table_name</td><td>in: name of the table, in the form database/table_name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aad579a246c6534fd1221c095115af678"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN bool row_is_mysql_tmp_table_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if a table name contains the string "/#sql" which denotes temporary tables in MySQL. </p>
<dl class="section return"><dt>Returns</dt><dd>true if temporary table in: table name in the form 'database/tablename' </dd></dl>

</div>
</div>
<a class="anchor" id="a85595dc76c21de231fafe3296f58354a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_lock_table_autoinc_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets an AUTO_INC type lock on the table mentioned in prebuilt. The AUTO_INC lock gives exclusive access to the auto-inc counter of the table. The lock is reserved only for the duration of an SQL statement. It is not compatible with another AUTO_INC or exclusive lock on the table. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prebuilt</td><td>in: prebuilt struct in the MySQL table handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7e43aa039311b2427bc7b786066bef2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_lock_table_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a table lock on the table mentioned in prebuilt. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prebuilt</td><td>in: prebuilt struct in the MySQL table handle </td></tr>
    <tr><td class="paramname">table</td><td>in: table to lock, or NULL if prebuilt-&gt;table should be locked as prebuilt-&gt;select_lock_type </td></tr>
    <tr><td class="paramname">mode</td><td>in: lock mode of table (ignored if table==NULL) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adb13bd4c9d4d5d0ae88f3d3a72cfbe87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_mysql_close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close this module </p>

</div>
</div>
<a class="anchor" id="af034325194196e22b2283c101d19bd60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_mysql_drop_temp_tables </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Drop all temporary tables during crash recovery. </p>

</div>
</div>
<a class="anchor" id="abc146db3518cc64a29e2d4ddf6611eec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_mysql_freeze_data_dictionary_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locks the data dictionary in shared mode from modifications, for performing foreign key check, rollback, or other operation invisible to MySQL. in: line number </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
    <tr><td class="paramname">file</td><td>in: file name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a908b83b69bf367dfb676f3128b1ffcdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN bool row_mysql_handle_errors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> *&#160;</td>
          <td class="paramname"><em>new_err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__savept__t.html">trx_savept_t</a> *&#160;</td>
          <td class="paramname"><em>savept</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles user errors and lock waits detected by the database engine. </p>
<dl class="section return"><dt>Returns</dt><dd>true if it was a lock wait and we should continue running the query thread </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_err</td><td>out: possible new error encountered in rollback, or the old error which was during the function entry </td></tr>
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">thr</td><td>in: query thread, or NULL </td></tr>
    <tr><td class="paramname">savept</td><td>in: savepoint, or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a780082855f8afb89d70338845879f374"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_mysql_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize this module </p>

</div>
</div>
<a class="anchor" id="ae5e4c6ac1855097d3ef23426b9ed62f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_mysql_lock_data_dictionary_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locks the data dictionary exclusively for performing a table create or other data dictionary modification operation. in: line number </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
    <tr><td class="paramname">file</td><td>in: file name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a04f18e2edd039ae022fca8d4d161d8b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_mysql_lock_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum lock_mode&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>op_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets an exclusive lock on a table. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
    <tr><td class="paramname">table</td><td>in: table to lock </td></tr>
    <tr><td class="paramname">mode</td><td>in: LOCK_X or LOCK_S </td></tr>
    <tr><td class="paramname">op_info</td><td>in: string for trx-&gt;op_info </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a922297ad0c64ef062a317aa59d194aa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_mysql_pad_col </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>mbminlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>pad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pad a column with spaces. in: number of bytes to pad </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mbminlen</td><td>in: minimum size of a character, in bytes </td></tr>
    <tr><td class="paramname">pad</td><td>out: padded buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="affe3a9ad4f4c9b246913c45441e18c8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_mysql_prebuilt_free_blob_heap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the blob heap in prebuilt when no longer needed. in: prebuilt struct of a <a class="el" href="classha__innobase.html">ha_innobase</a>:: table handle </p>

</div>
</div>
<a class="anchor" id="a9b882d9d6c96fd61774db1bd4ec17e97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN const byte* row_mysql_read_blob_ref </td>
          <td>(</td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>col_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a reference to a BLOB in the MySQL format. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to BLOB data in: BLOB reference length (not BLOB length) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>out: BLOB length </td></tr>
    <tr><td class="paramname">ref</td><td>in: BLOB reference in the MySQL format </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae6dbb7bf27cc54fbde9904f6b567b4aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN const byte* row_mysql_read_true_varchar </td>
          <td>(</td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>lenlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a &gt;= 5.0.3 format true VARCHAR length, in the MySQL row format, and returns a pointer to the data. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the data, we skip the 1 or 2 bytes at the start that are used to store the len in: storage length of len: either 1 or 2 bytes </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>out: variable-length field length </td></tr>
    <tr><td class="paramname">field</td><td>in: field in the MySQL format </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae373e7811989dde72a551dee6e878d19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_mysql_store_blob_ref </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>col_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores a reference to a BLOB in the MySQL format. in: BLOB length; if the value to store is SQL NULL this should be 0; remember also to set the NULL bit in the MySQL record header! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>in: where to store </td></tr>
    <tr><td class="paramname">col_len</td><td>in: dest buffer size: determines into how many bytes the BLOB length is stored, the space for the length may vary from 1 to 4 bytes </td></tr>
    <tr><td class="paramname">data</td><td>in: BLOB data; if the value to store is SQL NULL this should be NULL pointer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6d3bc4bfb308ace70d430b5cb7d7f912"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* row_mysql_store_col_in_innobase_format </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdfield__t.html">dfield_t</a> *&#160;</td>
          <td class="paramname"><em>dfield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>row_format_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>mysql_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>col_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>comp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores a non-SQL-NULL field given in the MySQL format in the InnoDB format. The counterpart of this function is row_sel_field_store_in_mysql_format() in row0sel.cc. </p>
<dl class="section return"><dt>Returns</dt><dd>up to which byte we used buf in the conversion in: nonzero=compact format </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dfield</td><td>in/out: dfield where dtype information must be already set when this function is called! </td></tr>
    <tr><td class="paramname">buf</td><td>in/out: buffer for a converted integer value; this must be at least col_len long then! NOTE that dfield may also get a pointer to 'buf', therefore do not discard this as long as dfield is used! </td></tr>
    <tr><td class="paramname">row_format_col</td><td>TRUE if the mysql_data is from a MySQL row, FALSE if from a MySQL key value; in MySQL, a true VARCHAR storage format differs in a row and in a key value: in a key value the length is always stored in 2 bytes! </td></tr>
    <tr><td class="paramname">mysql_data</td><td>in: MySQL column value, not SQL NULL; NOTE that dfield may also get a pointer to mysql_data, therefore do not discard this as long as dfield is used! </td></tr>
    <tr><td class="paramname">col_len</td><td>in: MySQL column length; NOTE that this is the storage length of the column in the MySQL format row, not necessarily the length of the actual payload data; if the column is a true VARCHAR then this is irrelevant </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9d1bd3fa7a0cdf1306b086a88d97758b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* row_mysql_store_true_var_len </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>lenlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores a &gt;= 5.0.3 format true VARCHAR length to dest, in the MySQL row format. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the data, we skip the 1 or 2 bytes at the start that are used to store the len in: storage length of len: either 1 or 2 bytes </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>in: where to store </td></tr>
    <tr><td class="paramname">len</td><td>in: length, must fit in two bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2b40bd5f6755fb7f193fe788f8e8714b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_mysql_table_id_reassign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">table_id_t *&#160;</td>
          <td class="paramname"><em>new_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reassigns the table identifier of a table. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in/out: table </td></tr>
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
    <tr><td class="paramname">new_id</td><td>out: new table id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6e3959dc3346e6f3aad56e279e45e87c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_mysql_unfreeze_data_dictionary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlocks the data dictionary shared lock. in/out: transaction </p>

</div>
</div>
<a class="anchor" id="afb5f1a185f933bf58eab55cc72aba735"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_mysql_unlock_data_dictionary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlocks the data dictionary exclusive lock. in/out: transaction </p>

</div>
</div>
<a class="anchor" id="aab5aec3df0fa54e4dc943996ec8f35cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_prebuild_sel_graph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds a dummy query graph used in selects. in: prebuilt struct in MySQL handle </p>

</div>
</div>
<a class="anchor" id="a83598e5d3aa921c764260e1fbff8c95e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_prebuilt_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>dict_locked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free a prebuilt struct for a MySQL table handle. in: TRUE=data dictionary locked </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prebuilt</td><td>in, own: prebuilt struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a57ba2939b9240dafb8cbf1f76b02e6a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_rename_table_for_mysql </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>old_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>new_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>commit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Renames a table for MySQL. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_name</td><td>in: old table name </td></tr>
    <tr><td class="paramname">new_name</td><td>in: new table name </td></tr>
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
    <tr><td class="paramname">commit</td><td>in: whether to commit trx </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a73d1be3b81af3a8db937f44fb401e856"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_table_add_foreign_constraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sql_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>reject_fks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scans a table create SQL string and adds to the data dictionary the foreign key constraints declared in the string. This function should be called after the indexes for a table have been created. Each foreign key constraint must be accompanied with indexes in bot participating tables. The indexes are allowed to contain more fields than mentioned in the constraint. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">sql_string</td><td>in: table create statement where foreign keys are declared like: FOREIGN KEY (a, b) REFERENCES table2(c, d), table2 can be written also with the database name before it: test.table2 </td></tr>
    <tr><td class="paramname">sql_length</td><td>in: length of sql_string </td></tr>
    <tr><td class="paramname">name</td><td>in: table full name in the normalized form database_name/table_name </td></tr>
    <tr><td class="paramname">reject_fks</td><td>in: if TRUE, fail with error code DB_CANNOT_ADD_CONSTRAINT if any foreign keys are found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abb135491bb97aae766be56551dc1d255"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> row_table_got_default_clust_index </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if a table is such that we automatically created a clustered index on it (on row id). </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the clustered index was generated automatically in: table </dd></dl>

</div>
</div>
<a class="anchor" id="ad27b06265adae0336e4f2938544683b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_truncate_table_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Truncates a table for MySQL. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in: table handle </td></tr>
    <tr><td class="paramname">trx</td><td>in: transaction handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a15bc119f5540eb748bb3deae21a3b8a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_unlock_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>has_latches_on_recs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This can only be used when srv_locks_unsafe_for_binlog is TRUE or this session is using a READ COMMITTED or READ UNCOMMITTED isolation level. Before calling this function <a class="el" href="row0sel_8h.html#a5afcfca75d1be134194de2a36fb109a3">row_search_for_mysql()</a> must have initialized prebuilt-&gt;new_rec_locks to store the information which new record locks really were set. This function removes a newly set clustered index record lock under prebuilt-&gt;pcur or prebuilt-&gt;clust_pcur. Thus, this implements a 'mini-rollback' that releases the latest clustered index record lock we set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prebuilt</td><td>in/out: prebuilt struct in MySQL handle </td></tr>
    <tr><td class="paramname">has_latches_on_recs</td><td>in: TRUE if called so that we have the latches on the records under pcur and clust_pcur, and we do not need to reposition the cursors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa01864f897ed3f2d2deea3eede5a0732"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_update_cascade_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structupd__node__t.html">upd_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Does a cascaded delete or set null in a foreign key operation. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
    <tr><td class="paramname">node</td><td>in: update node used in the cascade or set null operation </td></tr>
    <tr><td class="paramname">table</td><td>in: table where we do the operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a38b36c1b5de6fcb8a1c2a0ecca9678a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_update_for_mysql </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>mysql_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Does an update or delete of a row for MySQL. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mysql_rec</td><td>in: the row to be updated, in the MySQL format </td></tr>
    <tr><td class="paramname">prebuilt</td><td>in: prebuilt struct in MySQL handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a76d2f01e54f65bbd5ba00dcb69631bf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void row_update_prebuilt_trx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the transaction pointers in query graphs stored in the prebuilt struct. in: transaction handle </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prebuilt</td><td>in/out: prebuilt struct in MySQL handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 21 2015 18:11:20 for InnoDB Plugin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
