<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>InnoDB Plugin: include/mtr0log.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">InnoDB Plugin
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mtr0log.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="univ_8i.html">univ.i</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mtr0mtr_8h_source.html">mtr0mtr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="dict0types_8h_source.html">dict0types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mtr0log_8ic.html">mtr0log.ic</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mtr0log.h:</div>
<div class="dyncontent">
<div class="center"><img src="mtr0log_8h__incl.png" border="0" usemap="#include_2mtr0log_8h" alt=""/></div>
<map name="include_2mtr0log_8h" id="include_2mtr0log_8h">
<area shape="rect" id="node3" href="univ_8i.html" title="univ.i" alt="" coords="655,625,708,653"/><area shape="rect" id="node28" href="mtr0mtr_8h.html" title="mtr0mtr.h" alt="" coords="613,238,699,266"/><area shape="rect" id="node61" href="dict0types_8h.html" title="dict0types.h" alt="" coords="1333,393,1432,421"/><area shape="rect" id="node75" href="mtr0log_8ic.html" title="mtr0log.ic" alt="" coords="819,83,904,111"/><area shape="rect" id="node19" href="ut0dbg_8h.html" title="ut0dbg.h" alt="" coords="787,702,864,730"/><area shape="rect" id="node22" href="ut0ut_8h.html" title="ut0ut.h" alt="" coords="939,702,1005,730"/><area shape="rect" id="node25" href="db0err_8h.html" title="db0err.h" alt="" coords="899,779,973,807"/><area shape="rect" id="node31" href="mem0mem_8h.html" title="mem0mem.h" alt="" coords="457,393,567,421"/><area shape="rect" id="node34" href="ut0byte_8h.html" title="ut0byte.h" alt="" coords="689,547,772,575"/><area shape="rect" id="node44" href="dyn0dyn_8h.html" title="dyn0dyn.h" alt="" coords="216,315,304,343"/><area shape="rect" id="node49" href="buf0types_8h.html" title="buf0types.h" alt="" coords="1000,315,1096,343"/><area shape="rect" id="node51" href="sync0rw_8h.html" title="sync0rw.h" alt="" coords="300,393,383,421"/><area shape="rect" id="node56" href="mtr0types_8h.html" title="mtr0types.h" alt="" coords="1109,393,1208,421"/><area shape="rect" id="node58" href="page0types_8h.html" title="page0types.h" alt="" coords="1221,315,1331,343"/><area shape="rect" id="node64" href="log0log_8h.html" title="log0log.h" alt="" coords="693,315,773,343"/><area shape="rect" id="node70" href="mtr0mtr_8ic.html" title="mtr0mtr.ic" alt="" coords="379,315,467,343"/><area shape="rect" id="node37" href="ut0lst_8h.html" title="ut0lst.h" alt="" coords="307,470,376,498"/><area shape="rect" id="node40" href="mach0data_8h.html" title="mach0data.h" alt="" coords="561,470,668,498"/><area shape="rect" id="node79" href="buf0buf_8h.html" title="buf0buf.h" alt="" coords="1051,238,1131,266"/><area shape="rect" id="node87" href="buf0dblwr_8h.html" title="buf0dblwr.h" alt="" coords="815,238,908,266"/><area shape="rect" id="node92" href="fsp0types_8h_source.html" title="fsp0types.h" alt="" coords="1285,238,1381,266"/><area shape="rect" id="node95" href="trx0sys_8h.html" title="trx0sys.h" alt="" coords="923,161,1003,189"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="mtr0log_8h__dep__incl.png" border="0" usemap="#include_2mtr0log_8hdep" alt=""/></div>
<map name="include_2mtr0log_8hdep" id="include_2mtr0log_8hdep">
<area shape="rect" id="node3" href="fut0lst_8ic.html" title="include/fut0lst.ic" alt="" coords="5,83,131,111"/><area shape="rect" id="node7" href="trx0sys_8ic.html" title="include/trx0sys.ic" alt="" coords="155,83,285,111"/><area shape="rect" id="node11" href="trx0rseg_8ic.html" title="include/trx0rseg.ic" alt="" coords="201,238,340,266"/><area shape="rect" id="node13" href="page0page_8ic.html" title="include/page0page.ic" alt="" coords="360,83,517,111"/><area shape="rect" id="node15" href="page0zip_8ic.html" title="include/page0zip.ic" alt="" coords="541,83,683,111"/><area shape="rect" id="node17" href="btr0btr_8ic.html" title="include/btr0btr.ic" alt="" coords="707,83,835,111"/><area shape="rect" id="node19" href="dict0boot_8h.html" title="include/dict0boot.h" alt="" coords="859,83,1000,111"/><area shape="rect" id="node21" href="row0upd_8ic.html" title="include/row0upd.ic" alt="" coords="1024,83,1163,111"/><area shape="rect" id="node5" href="fut0lst_8h.html" title="include/fut0lst.h" alt="" coords="7,161,129,189"/><area shape="rect" id="node9" href="trx0sys_8h.html" title="include/trx0sys.h" alt="" coords="156,161,284,189"/></map>
</div>
</div>
<p><a href="mtr0log_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a25b6730545529ebe41009c5ff6096b2f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25b6730545529ebe41009c5ff6096b2f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MLOG_BUF_MARGIN</b>&#160;&#160;&#160;256</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a83e1e475b3d6aab3204c2f9f48e1b1ab"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#a83e1e475b3d6aab3204c2f9f48e1b1ab">mlog_write_ulint</a> (byte *ptr, ulint val, byte type, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a0b8f8c04967d22de173fbf9863c52114"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#a0b8f8c04967d22de173fbf9863c52114">mlog_write_ull</a> (byte *ptr, ib_uint64_t val, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a0a9336bea3f671715b44b145a361caa4"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#a0a9336bea3f671715b44b145a361caa4">mlog_write_string</a> (byte *ptr, const byte *str, ulint len, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:aaee13c3a4fc47bfb79c223d57a86a7df"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#aaee13c3a4fc47bfb79c223d57a86a7df">mlog_log_string</a> (byte *ptr, ulint len, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a00e09ed72e2d42a4134aa2db4ffafa36"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#a00e09ed72e2d42a4134aa2db4ffafa36">mlog_write_initial_log_record</a> (const byte *ptr, byte type, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:acb4dbc0c582e653236068dfd4ad871fe"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#acb4dbc0c582e653236068dfd4ad871fe">mlog_write_initial_log_record_for_file_op</a> (ulint type, ulint space_id, ulint page_no, byte *log_ptr, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a0c606e70f69183149588811a9b6a309c"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#a0c606e70f69183149588811a9b6a309c">mlog_catenate_ulint</a> (<a class="el" href="structmtr__t.html">mtr_t</a> *mtr, ulint val, ulint type)</td></tr>
<tr class="memitem:aab515d924643fe65d32656856eb2a673"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#aab515d924643fe65d32656856eb2a673">mlog_catenate_string</a> (<a class="el" href="structmtr__t.html">mtr_t</a> *mtr, const byte *str, ulint len)</td></tr>
<tr class="memitem:a77aaf5b7af788f415b377b9c9a475a08"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#a77aaf5b7af788f415b377b9c9a475a08">mlog_catenate_ulint_compressed</a> (<a class="el" href="structmtr__t.html">mtr_t</a> *mtr, ulint val)</td></tr>
<tr class="memitem:afdba954e28948ef4a14e2d9559c40a64"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#afdba954e28948ef4a14e2d9559c40a64">mlog_catenate_ull_compressed</a> (<a class="el" href="structmtr__t.html">mtr_t</a> *mtr, ib_uint64_t val)</td></tr>
<tr class="memitem:abe816192151e14eb319edb39e2fc6573"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#abe816192151e14eb319edb39e2fc6573">mlog_open</a> (<a class="el" href="structmtr__t.html">mtr_t</a> *mtr, ulint size)</td></tr>
<tr class="memitem:a85985984a61e082d4b880e20f313afca"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#a85985984a61e082d4b880e20f313afca">mlog_close</a> (<a class="el" href="structmtr__t.html">mtr_t</a> *mtr, byte *ptr)</td></tr>
<tr class="memitem:a7d1824c5b3823fd1d1dcf4da92e5e164"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#a7d1824c5b3823fd1d1dcf4da92e5e164">mlog_write_initial_log_record_fast</a> (const byte *ptr, byte type, byte *log_ptr, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:ac268876415ba77e8f0610530cdcdfa3f"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#ac268876415ba77e8f0610530cdcdfa3f">mlog_parse_initial_log_record</a> (byte *ptr, byte *end_ptr, byte *type, ulint *space, ulint *page_no)</td></tr>
<tr class="memitem:a40f143323d5440715746f24ce41c1e2a"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#a40f143323d5440715746f24ce41c1e2a">mlog_parse_nbytes</a> (ulint type, byte *ptr, byte *end_ptr, byte *page, void *page_zip)</td></tr>
<tr class="memitem:aa50b41e490b0b197e44dfc2825b21819"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#aa50b41e490b0b197e44dfc2825b21819">mlog_parse_string</a> (byte *ptr, byte *end_ptr, byte *page, void *page_zip)</td></tr>
<tr class="memitem:aafaed3d8dfa00228e02ef4b7872e93a1"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#aafaed3d8dfa00228e02ef4b7872e93a1">mlog_open_and_write_index</a> (<a class="el" href="structmtr__t.html">mtr_t</a> *mtr, const byte *rec, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *index, byte type, ulint size)</td></tr>
<tr class="memitem:a3e3e7aeca09adc18a3c31ced411a9dd3"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtr0log_8h.html#a3e3e7aeca09adc18a3c31ced411a9dd3">mlog_parse_index</a> (byte *ptr, const byte *end_ptr, <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> comp, <a class="el" href="structdict__index__t.html">dict_index_t</a> **index)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Mini-transaction logging routines</p>
<p>Created 12/7/1995 Heikki Tuuri </p>
</div><h2>Function Documentation</h2>
<a class="anchor" id="aab515d924643fe65d32656856eb2a673"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void mlog_catenate_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Catenates n bytes to the mtr log. in: string length </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
    <tr><td class="paramname">str</td><td>in: string to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0c606e70f69183149588811a9b6a309c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void mlog_catenate_ulint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Catenates 1 - 4 bytes to the mtr log. in: MLOG_1BYTE, MLOG_2BYTES, MLOG_4BYTES</p>
<p>Catenates 1 - 4 bytes to the mtr log. The value is not compressed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
    <tr><td class="paramname">val</td><td>in: value to write </td></tr>
    <tr><td class="paramname">type</td><td>in: MLOG_1BYTE, MLOG_2BYTES, MLOG_4BYTES </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a77aaf5b7af788f415b377b9c9a475a08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void mlog_catenate_ulint_compressed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Catenates a compressed ulint to mlog. in: value to write</p>
<p>Catenates a compressed ulint to mlog. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
    <tr><td class="paramname">val</td><td>in: value to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afdba954e28948ef4a14e2d9559c40a64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void mlog_catenate_ull_compressed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ib_uint64_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Catenates a compressed 64-bit integer to mlog. in: value to write</p>
<p>Catenates a compressed 64-bit integer to mlog. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
    <tr><td class="paramname">val</td><td>in: value to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a85985984a61e082d4b880e20f313afca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void mlog_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes a buffer opened to mlog. in: buffer space from ptr up was not used</p>
<p>Closes a buffer opened to mlog. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
    <tr><td class="paramname">ptr</td><td>in: buffer space from ptr up was not used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaee13c3a4fc47bfb79c223d57a86a7df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void mlog_log_string </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Logs a write of a string to a file page buffered in the buffer pool. Writes the corresponding log record to the mini-transaction log. in: mini-transaction handle </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: pointer written to </td></tr>
    <tr><td class="paramname">len</td><td>in: string length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe816192151e14eb319edb39e2fc6573"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE byte* mlog_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens a buffer to mlog. It must be closed with mlog_close. </p>
<dl class="section return"><dt>Returns</dt><dd>buffer, NULL if log mode MTR_LOG_NONE in: buffer size in bytes; MUST be smaller than DYN_ARRAY_DATA_SIZE!</dd></dl>
<p>Opens a buffer to mlog. It must be closed with mlog_close. </p>
<dl class="section return"><dt>Returns</dt><dd>buffer, NULL if log mode MTR_LOG_NONE </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
    <tr><td class="paramname">size</td><td>in: buffer size in bytes; MUST be smaller than DYN_ARRAY_DATA_SIZE! </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aafaed3d8dfa00228e02ef4b7872e93a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* mlog_open_and_write_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens a buffer for mlog, writes the initial log record and, if needed, the field lengths of an index. Reserves space for further log entries. The log entry must be closed with mtr_close(). </p>
<dl class="section return"><dt>Returns</dt><dd>buffer, NULL if log mode MTR_LOG_NONE in: requested buffer size in bytes (if 0, calls <a class="el" href="mtr0log_8h.html#a85985984a61e082d4b880e20f313afca">mlog_close()</a> and returns NULL) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
    <tr><td class="paramname">rec</td><td>in: index record or page </td></tr>
    <tr><td class="paramname">index</td><td>in: record descriptor </td></tr>
    <tr><td class="paramname">type</td><td>in: log item type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3e3e7aeca09adc18a3c31ced411a9dd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* mlog_parse_index </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> **&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses a log record written by mlog_open_and_write_index. </p>
<dl class="section return"><dt>Returns</dt><dd>parsed record end, NULL if not a complete record out, own: dummy index </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">comp</td><td>in: TRUE=compact record format </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac268876415ba77e8f0610530cdcdfa3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* mlog_parse_initial_log_record </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>page_no</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses an initial log record written by mlog_write_initial_log_record. </p>
<dl class="section return"><dt>Returns</dt><dd>parsed record end, NULL if not a complete record out: page number </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">type</td><td>out: log record type: MLOG_1BYTE, ... </td></tr>
    <tr><td class="paramname">space</td><td>out: space id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a40f143323d5440715746f24ce41c1e2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* mlog_parse_nbytes </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>page_zip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses a log record written by mlog_write_ulint or mlog_write_ull. </p>
<dl class="section return"><dt>Returns</dt><dd>parsed record end, NULL if not a complete record in/out: compressed page, or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>in: log record type: MLOG_1BYTE, ... </td></tr>
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in: page where to apply the log record, or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa50b41e490b0b197e44dfc2825b21819"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* mlog_parse_string </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>page_zip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses a log record written by mlog_write_string. </p>
<dl class="section return"><dt>Returns</dt><dd>parsed record end, NULL if not a complete record in/out: compressed page, or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in: page where to apply the log record, or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a00e09ed72e2d42a4134aa2db4ffafa36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void mlog_write_initial_log_record </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes initial part of a log record consisting of one-byte item type and four-byte space and page numbers. in: mini-transaction handle </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: pointer to (inside) a buffer frame holding the file page where modification is made </td></tr>
    <tr><td class="paramname">type</td><td>in: log item type: MLOG_1BYTE, ... </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7d1824c5b3823fd1d1dcf4da92e5e164"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE byte* mlog_write_initial_log_record_fast </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>log_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes the initial part of a log record (3..11 bytes). If the implementation of this function is changed, all size parameters to <a class="el" href="mtr0log_8h.html#abe816192151e14eb319edb39e2fc6573">mlog_open()</a> should be adjusted accordingly! </p>
<dl class="section return"><dt>Returns</dt><dd>new value of log_ptr in: mtr</dd></dl>
<p>Writes the initial part of a log record (3..11 bytes). If the implementation of this function is changed, all size parameters to <a class="el" href="mtr0log_8h.html#abe816192151e14eb319edb39e2fc6573">mlog_open()</a> should be adjusted accordingly! </p>
<dl class="section return"><dt>Returns</dt><dd>new value of log_ptr </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: pointer to (inside) a buffer frame holding the file page where modification is made </td></tr>
    <tr><td class="paramname">type</td><td>in: log item type: MLOG_1BYTE, ... </td></tr>
    <tr><td class="paramname">log_ptr</td><td>in: pointer to mtr log which has been opened </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acb4dbc0c582e653236068dfd4ad871fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE byte* mlog_write_initial_log_record_for_file_op </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>log_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a log record about an .ibd file create/delete/rename. </p>
<dl class="section return"><dt>Returns</dt><dd>new value of log_ptr in: mtr</dd></dl>
<p>Writes a log record about an .ibd file create/delete/rename. </p>
<dl class="section return"><dt>Returns</dt><dd>new value of log_ptr </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>in: MLOG_FILE_CREATE, MLOG_FILE_DELETE, or MLOG_FILE_RENAME </td></tr>
    <tr><td class="paramname">space_id</td><td>in: space id, if applicable </td></tr>
    <tr><td class="paramname">page_no</td><td>in: page number (not relevant currently) </td></tr>
    <tr><td class="paramname">log_ptr</td><td>in: pointer to mtr log which has been opened </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0a9336bea3f671715b44b145a361caa4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void mlog_write_string </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a string to a file page buffered in the buffer pool. Writes the corresponding log record to the mini-transaction log. in: mini-transaction handle </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: pointer where to write </td></tr>
    <tr><td class="paramname">str</td><td>in: string to write </td></tr>
    <tr><td class="paramname">len</td><td>in: string length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a83e1e475b3d6aab3204c2f9f48e1b1ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void mlog_write_ulint </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes 1, 2 or 4 bytes to a file page. Writes the corresponding log record to the mini-transaction log if mtr is not NULL. in: mini-transaction handle </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: pointer where to write </td></tr>
    <tr><td class="paramname">val</td><td>in: value to write </td></tr>
    <tr><td class="paramname">type</td><td>in: MLOG_1BYTE, MLOG_2BYTES, MLOG_4BYTES </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0b8f8c04967d22de173fbf9863c52114"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void mlog_write_ull </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ib_uint64_t&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes 8 bytes to a file page. Writes the corresponding log record to the mini-transaction log, only if mtr is not NULL in: mini-transaction handle </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: pointer where to write </td></tr>
    <tr><td class="paramname">val</td><td>in: value to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 21 2015 19:14:26 for InnoDB Plugin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
