<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>InnoDB Plugin: include/log0log.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">InnoDB Plugin
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">log0log.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="univ_8i.html">univ.i</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ut0byte_8h_source.html">ut0byte.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ut0lst_8h_source.html">ut0lst.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sync0sync_8h_source.html">sync0sync.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sync0rw_8h_source.html">sync0rw.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="log0log_8ic.html">log0log.ic</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for log0log.h:</div>
<div class="dyncontent">
<div class="center"><img src="log0log_8h__incl.png" border="0" usemap="#include_2log0log_8h" alt=""/></div>
<map name="include_2log0log_8h" id="include_2log0log_8h">
<area shape="rect" id="node3" href="univ_8i.html" title="univ.i" alt="" coords="916,547,970,575"/><area shape="rect" id="node33" href="ut0lst_8h.html" title="ut0lst.h" alt="" coords="1470,779,1539,807"/><area shape="rect" id="node39" href="ut0byte_8h.html" title="ut0byte.h" alt="" coords="811,238,894,266"/><area shape="rect" id="node45" href="sync0sync_8h.html" title="sync0sync.h" alt="" coords="1438,315,1536,343"/><area shape="rect" id="node64" href="sync0rw_8h.html" title="sync0rw.h" alt="" coords="1152,238,1235,266"/><area shape="rect" id="node76" href="log0log_8ic.html" title="log0log.ic" alt="" coords="924,83,1007,111"/><area shape="rect" id="node19" href="ut0dbg_8h.html" title="ut0dbg.h" alt="" coords="1162,625,1239,653"/><area shape="rect" id="node25" href="ut0ut_8h.html" title="ut0ut.h" alt="" coords="1071,625,1138,653"/><area shape="rect" id="node28" href="db0err_8h.html" title="db0err.h" alt="" coords="682,702,756,730"/><area shape="rect" id="node22" href="os0thread_8h.html" title="os0thread.h" alt="" coords="1227,702,1326,730"/><area shape="rect" id="node30" href="os0sync_8h.html" title="os0sync.h" alt="" coords="1567,702,1652,730"/><area shape="rect" id="node36" href="sync0types_8h.html" title="sync0types.h" alt="" coords="1682,779,1788,807"/><area shape="rect" id="node42" href="ut0byte_8ic.html" title="ut0byte.ic" alt="" coords="810,315,895,343"/><area shape="rect" id="node50" href="ut0mem_8h.html" title="ut0mem.h" alt="" coords="1566,470,1654,498"/><area shape="rect" id="node56" href="sync0arr_8h.html" title="sync0arr.h" alt="" coords="1402,393,1490,421"/><area shape="rect" id="node62" href="sync0sync_8ic.html" title="sync0sync.ic" alt="" coords="1615,393,1716,421"/><area shape="rect" id="node68" href="ut0counter_8h.html" title="ut0counter.h" alt="" coords="1124,470,1226,498"/><area shape="rect" id="node74" href="sync0rw_8ic.html" title="sync0rw.ic" alt="" coords="1191,315,1276,343"/><area shape="rect" id="node78" href="os0file_8h.html" title="os0file.h" alt="" coords="610,470,684,498"/><area shape="rect" id="node82" href="mach0data_8h.html" title="mach0data.h" alt="" coords="743,161,850,189"/><area shape="rect" id="node86" href="mtr0mtr_8h.html" title="mtr0mtr.h" alt="" coords="1002,161,1087,189"/><area shape="rect" id="node92" href="srv0mon_8h.html" title="srv0mon.h" alt="" coords="918,238,1008,266"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="log0log_8h__dep__incl.png" border="0" usemap="#include_2log0log_8hdep" alt=""/></div>
<map name="include_2log0log_8hdep" id="include_2log0log_8hdep">
<area shape="rect" id="node3" href="trx0trx_8h.html" title="include/trx0trx.h" alt="" coords="5,161,131,189"/><area shape="rect" id="node49" href="mtr0mtr_8h.html" title="include/mtr0mtr.h" alt="" coords="2245,83,2381,111"/><area shape="rect" id="node57" href="buf0buf_8h.html" title="include/buf0buf.h" alt="" coords="1896,238,2027,266"/><area shape="rect" id="node62" href="buf0flu_8h.html" title="include/buf0flu.h" alt="" coords="2252,393,2377,421"/><area shape="rect" id="node123" href="fil0fil_8h.html" title="include/fil0fil.h" alt="" coords="1079,83,1188,111"/><area shape="rect" id="node140" href="srv0srv_8h.html" title="include/srv0srv.h" alt="" coords="859,161,987,189"/><area shape="rect" id="node157" href="buf0dblwr_8h.html" title="include/buf0dblwr.h" alt="" coords="1627,161,1768,189"/><area shape="rect" id="node160" href="log0recv_8h.html" title="include/log0recv.h" alt="" coords="1267,83,1403,111"/><area shape="rect" id="node164" href="srv0start_8h.html" title="include/srv0start.h" alt="" coords="3771,83,3909,111"/><area shape="rect" id="node5" href="que0que_8h.html" title="include/que0que.h" alt="" coords="320,470,459,498"/><area shape="rect" id="node7" href="api0misc_8h.html" title="include/api0misc.h" alt="" coords="155,547,293,575"/><area shape="rect" id="node9" href="lock0lock_8ic.html" title="include/lock0lock.ic" alt="" coords="895,547,1036,575"/><area shape="rect" id="node11" href="trx0roll_8h.html" title="include/trx0roll.h" alt="" coords="328,393,453,421"/><area shape="rect" id="node14" href="trx0sys_8ic.html" title="include/trx0sys.ic" alt="" coords="784,238,915,266"/><area shape="rect" id="node34" href="row0upd_8ic.html" title="include/row0upd.ic" alt="" coords="1317,547,1456,575"/><area shape="rect" id="node45" href="read0read_8h.html" title="include/read0read.h" alt="" coords="147,470,296,498"/><area shape="rect" id="node16" href="trx0sys_8h.html" title="include/trx0sys.h" alt="" coords="899,315,1027,343"/><area shape="rect" id="node19" href="mtr0log_8ic.html" title="include/mtr0log.ic" alt="" coords="1683,393,1816,421"/><area shape="rect" id="node30" href="row0undo_8h.html" title="include/row0undo.h" alt="" coords="3004,779,3148,807"/><area shape="rect" id="node36" href="trx0undo_8h.html" title="include/trx0undo.h" alt="" coords="1317,393,1456,421"/><area shape="rect" id="node41" href="trx0purge_8h.html" title="include/trx0purge.h" alt="" coords="784,393,928,421"/><area shape="rect" id="node21" href="mtr0log_8h.html" title="include/mtr0log.h" alt="" coords="1589,470,1723,498"/><area shape="rect" id="node24" href="btr0btr_8ic.html" title="include/btr0btr.ic" alt="" coords="1641,547,1769,575"/><area shape="rect" id="node32" href="dict0boot_8h.html" title="include/dict0boot.h" alt="" coords="1843,547,1984,575"/><area shape="rect" id="node26" href="btr0btr_8h.html" title="include/btr0btr.h" alt="" coords="2913,625,3039,653"/><area shape="rect" id="node28" href="btr0pcur_8h.html" title="include/btr0pcur.h" alt="" coords="3008,702,3144,730"/><area shape="rect" id="node51" href="log0log_8ic.html" title="include/log0log.ic" alt="" coords="3565,161,3696,189"/><area shape="rect" id="node55" href="buf0buf_8ic.html" title="include/buf0buf.ic" alt="" coords="2197,161,2328,189"/><area shape="rect" id="node60" href="buf0flu_8ic.html" title="include/buf0flu.ic" alt="" coords="2099,315,2227,343"/><area shape="rect" id="node66" href="page0page_8h.html" title="include/page0page.h" alt="" coords="1456,315,1611,343"/><area shape="rect" id="node68" href="page0cur_8h.html" title="include/page0cur.h" alt="" coords="2905,470,3047,498"/><area shape="rect" id="node79" href="fsp0fsp_8h.html" title="include/fsp0fsp.h" alt="" coords="1491,238,1619,266"/><area shape="rect" id="node86" href="ibuf0ibuf_8h.html" title="include/ibuf0ibuf.h" alt="" coords="1685,315,1821,343"/><area shape="rect" id="node88" href="fut0lst_8h.html" title="include/fut0lst.h" alt="" coords="1280,161,1403,189"/><area shape="rect" id="node91" href="fut0fut_8h.html" title="include/fut0fut.h" alt="" coords="1477,161,1603,189"/><area shape="rect" id="node99" href="btr0sea_8h.html" title="include/btr0sea.h" alt="" coords="2555,161,2685,189"/><area shape="rect" id="node102" href="dict0crea_8h.html" title="include/dict0crea.h" alt="" coords="2709,161,2851,189"/><area shape="rect" id="node105" href="row0row_8h.html" title="include/row0row.h" alt="" coords="1216,470,1349,498"/><area shape="rect" id="node110" href="row0vers_8h.html" title="include/row0vers.h" alt="" coords="1053,393,1192,421"/><area shape="rect" id="node113" href="row0merge_8h.html" title="include/row0merge.h" alt="" coords="1211,238,1365,266"/><area shape="rect" id="node115" href="row0uins_8h.html" title="include/row0uins.h" alt="" coords="2875,161,3013,189"/><area shape="rect" id="node117" href="row0umod_8h.html" title="include/row0umod.h" alt="" coords="3037,161,3187,189"/><area shape="rect" id="node121" href="trx0rec_8h.html" title="include/trx0rec.h" alt="" coords="3211,161,3339,189"/><area shape="rect" id="node82" href="dict0dict_8ic.html" title="include/dict0dict.ic" alt="" coords="1192,315,1331,343"/><area shape="rect" id="node125" href="fsp0types_8h_source.html" title="include/fsp0types.h" alt="" coords="1061,161,1205,189"/><area shape="rect" id="node134" href="dict0mem_8ic.html" title="include/dict0mem.ic" alt="" coords="155,161,304,189"/><area shape="rect" id="node145" href="usr0sess_8h.html" title="include/usr0sess.h" alt="" coords="735,315,873,343"/><area shape="rect" id="node149" href="page0zip_8h.html" title="include/page0zip.h" alt="" coords="1424,470,1565,498"/><area shape="rect" id="node153" href="dict0stats_8ic.html" title="include/dict0stats.ic" alt="" coords="939,238,1085,266"/></map>
</div>
</div>
<p><a href="log0log_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlog__group__t.html">log_group_t</a></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlog__t.html">log_t</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0cca0a4015ccf2dfc11eded3ceba3f54"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0cca0a4015ccf2dfc11eded3ceba3f54"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LSN_MAX</b>&#160;&#160;&#160;<a class="el" href="univ_8i.html#a87e00d3ff142d7e7d389384c04aa08f8">IB_UINT64_MAX</a></td></tr>
<tr class="memitem:a99c893ab2cf7fd75db39821191ae2348"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99c893ab2cf7fd75db39821191ae2348"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LSN_PF</b>&#160;&#160;&#160;UINT64PF</td></tr>
<tr class="memitem:ae8ccd1d001f3c169def0636d1347ea4b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#ae8ccd1d001f3c169def0636d1347ea4b">LOG_MAX_N_GROUPS</a>&#160;&#160;&#160;32</td></tr>
<tr class="memitem:a245e36f418d6ccfb4d876393916e6f4c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a245e36f418d6ccfb4d876393916e6f4c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_FLUSH</b>&#160;&#160;&#160;7652559</td></tr>
<tr class="memitem:ab0ae87bb32244048c2b8caa1e476e1b1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab0ae87bb32244048c2b8caa1e476e1b1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT</b>&#160;&#160;&#160;78656949</td></tr>
<tr class="memitem:a0bc69d3d0af53f83f8a4a0d5c207a94a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0bc69d3d0af53f83f8a4a0d5c207a94a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_RECOVER</b>&#160;&#160;&#160;98887331</td></tr>
<tr class="memitem:a1df05f1c88e6b3a057de6246a6cbf832"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1df05f1c88e6b3a057de6246a6cbf832"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_START_LSN</b>&#160;&#160;&#160;((lsn_t) (16 * <a class="el" href="os0file_8h.html#a893c38aa3aedd6efa1439b5ec00213f9">OS_FILE_LOG_BLOCK_SIZE</a>))</td></tr>
<tr class="memitem:a381c342b2b34df0b1a5b39c0d94da4e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a381c342b2b34df0b1a5b39c0d94da4e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_BUFFER_SIZE</b>&#160;&#160;&#160;(srv_log_buffer_size * <a class="el" href="univ_8i.html#a43a8a62f5267962c41fa964d0b3aecae">UNIV_PAGE_SIZE</a>)</td></tr>
<tr class="memitem:ad82be62d0cb063782fa5230fd33ba6d9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad82be62d0cb063782fa5230fd33ba6d9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_ARCHIVE_BUF_SIZE</b>&#160;&#160;&#160;(srv_log_buffer_size * <a class="el" href="univ_8i.html#a43a8a62f5267962c41fa964d0b3aecae">UNIV_PAGE_SIZE</a> / 4)</td></tr>
<tr class="memitem:a204e75acf172f51d5fb708033da8560f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_BLOCK_HDR_NO</b></td></tr>
<tr class="memitem:a3da06fdbf52db91a7dff9530fccaeeba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3da06fdbf52db91a7dff9530fccaeeba"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_BLOCK_FLUSH_BIT_MASK</b>&#160;&#160;&#160;0x80000000UL</td></tr>
<tr class="memitem:a5373fb622b196dac8e0a8c9da8fd34ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_BLOCK_HDR_DATA_LEN</b></td></tr>
<tr class="memitem:a78802071383a58747b0ad5eda8730247"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_BLOCK_FIRST_REC_GROUP</b></td></tr>
<tr class="memitem:af48d1cc7db25f3c26e92dec14202b356"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_BLOCK_CHECKPOINT_NO</b></td></tr>
<tr class="memitem:a3e67fe6287204227917c49ce278a8641"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_BLOCK_HDR_SIZE</b></td></tr>
<tr class="memitem:a03fef24301894a97848b5c4f40034f71"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_BLOCK_CHECKSUM</b></td></tr>
<tr class="memitem:a7a4dcee77b9685726e96b2cac2a409b7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a4dcee77b9685726e96b2cac2a409b7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_BLOCK_TRL_SIZE</b>&#160;&#160;&#160;4	/* trailer size in bytes */</td></tr>
<tr class="memitem:ab3d10efab65bf89272aa88ee4e0528e4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3d10efab65bf89272aa88ee4e0528e4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_NO</b>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:a967fdb34de02f29f23ecd5a4b28557b7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a967fdb34de02f29f23ecd5a4b28557b7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_LSN</b>&#160;&#160;&#160;8</td></tr>
<tr class="memitem:a24920f3a231ea438783c8906d4c423a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24920f3a231ea438783c8906d4c423a3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_OFFSET_LOW32</b>&#160;&#160;&#160;16</td></tr>
<tr class="memitem:acd2cd365c60031a7c9e13b9085dd53e8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd2cd365c60031a7c9e13b9085dd53e8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_LOG_BUF_SIZE</b>&#160;&#160;&#160;20</td></tr>
<tr class="memitem:af8af796f3e08c77005ca621e2c2c0d95"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8af796f3e08c77005ca621e2c2c0d95"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_ARCHIVED_LSN</b>&#160;&#160;&#160;24</td></tr>
<tr class="memitem:afca65e9cfafbc2da062ac97a29227caf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afca65e9cfafbc2da062ac97a29227caf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_GROUP_ARRAY</b>&#160;&#160;&#160;32</td></tr>
<tr class="memitem:aa0427ce2d5ace034f59211647099c30c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa0427ce2d5ace034f59211647099c30c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_ARCHIVED_FILE_NO</b>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:a06a6240d417ba874f455074ee1468c08"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06a6240d417ba874f455074ee1468c08"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_ARCHIVED_OFFSET</b>&#160;&#160;&#160;4</td></tr>
<tr class="memitem:a68f97b5f8c94f1f4b1fd45c814c56d25"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_ARRAY_END</b></td></tr>
<tr class="memitem:aa41da1a47d45074c6bdbb63a6f78068b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa41da1a47d45074c6bdbb63a6f78068b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_CHECKSUM_1</b>&#160;&#160;&#160;LOG_CHECKPOINT_ARRAY_END</td></tr>
<tr class="memitem:a47c067e5c3933766a83ce612ca9b8ab4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47c067e5c3933766a83ce612ca9b8ab4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_CHECKSUM_2</b>&#160;&#160;&#160;(4 + LOG_CHECKPOINT_ARRAY_END)</td></tr>
<tr class="memitem:ae308435ecee39b04029a9c019cef9765"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae308435ecee39b04029a9c019cef9765"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_OFFSET_HIGH32</b>&#160;&#160;&#160;(16 + LOG_CHECKPOINT_ARRAY_END)</td></tr>
<tr class="memitem:a7a0eacc203935de82a268d71f172f6fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a0eacc203935de82a268d71f172f6fc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_SIZE</b>&#160;&#160;&#160;(20 + LOG_CHECKPOINT_ARRAY_END)</td></tr>
<tr class="memitem:a2b68efe572cabddecaf9c2728c92acfc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b68efe572cabddecaf9c2728c92acfc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_GROUP_ID</b>&#160;&#160;&#160;0	/* log group number */</td></tr>
<tr class="memitem:a0b444e9b65251a2089d4c0f75181841b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_FILE_START_LSN</b></td></tr>
<tr class="memitem:aa597a9b4dc701c37668dc94d0878ac22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_FILE_NO</b></td></tr>
<tr class="memitem:a0c4ce83d6502fc54af19c81cfceb269d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c4ce83d6502fc54af19c81cfceb269d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_FILE_WAS_CREATED_BY_HOT_BACKUP</b>&#160;&#160;&#160;16</td></tr>
<tr class="memitem:a2c637b46a5096a257a9cdc2ccef1aaff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c637b46a5096a257a9cdc2ccef1aaff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_FILE_ARCH_COMPLETED</b>&#160;&#160;&#160;<a class="el" href="os0file_8h.html#a893c38aa3aedd6efa1439b5ec00213f9">OS_FILE_LOG_BLOCK_SIZE</a></td></tr>
<tr class="memitem:a185e23fe88de886d6f51dec41492ff06"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a185e23fe88de886d6f51dec41492ff06"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_FILE_END_LSN</b>&#160;&#160;&#160;(<a class="el" href="os0file_8h.html#a893c38aa3aedd6efa1439b5ec00213f9">OS_FILE_LOG_BLOCK_SIZE</a> + 4)</td></tr>
<tr class="memitem:a4a880a1d661d39a8029aa25e1e95fcf8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a880a1d661d39a8029aa25e1e95fcf8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_1</b>&#160;&#160;&#160;<a class="el" href="os0file_8h.html#a893c38aa3aedd6efa1439b5ec00213f9">OS_FILE_LOG_BLOCK_SIZE</a></td></tr>
<tr class="memitem:aad616d1c87055f477625449b3bed573d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad616d1c87055f477625449b3bed573d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_CHECKPOINT_2</b>&#160;&#160;&#160;(3 * <a class="el" href="os0file_8h.html#a893c38aa3aedd6efa1439b5ec00213f9">OS_FILE_LOG_BLOCK_SIZE</a>)</td></tr>
<tr class="memitem:aa587846c93580fd518546bd33a7a7889"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa587846c93580fd518546bd33a7a7889"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_FILE_HDR_SIZE</b>&#160;&#160;&#160;(4 * <a class="el" href="os0file_8h.html#a893c38aa3aedd6efa1439b5ec00213f9">OS_FILE_LOG_BLOCK_SIZE</a>)</td></tr>
<tr class="memitem:a201d53562c6d170b122aac2f9be1dc84"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a201d53562c6d170b122aac2f9be1dc84"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_GROUP_OK</b>&#160;&#160;&#160;301</td></tr>
<tr class="memitem:ab2418714669f0062eae9cef489336e10"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2418714669f0062eae9cef489336e10"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_GROUP_CORRUPTED</b>&#160;&#160;&#160;302</td></tr>
<tr class="memitem:aa5310860d071016e9f65d4092344ca2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aa5310860d071016e9f65d4092344ca2a">log_flush_order_mutex_own</a>()&#160;&#160;&#160;<a class="el" href="sync0sync_8h.html#a40624491e0b49ffe0a3e02f69406343a">mutex_own</a>(&amp;log_sys-&gt;log_flush_order_mutex)</td></tr>
<tr class="memitem:ae57f4949f49a3f230be7ae32651f56b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#ae57f4949f49a3f230be7ae32651f56b4">log_flush_order_mutex_enter</a>()</td></tr>
<tr class="memitem:a126ba3b5163f55e6683f37ca257f5709"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a126ba3b5163f55e6683f37ca257f5709">log_flush_order_mutex_exit</a>()</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:aa2d98215f0589772e49a0390be42b488"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aa2d98215f0589772e49a0390be42b488">LOG_NO_WAIT</a>&#160;&#160;&#160;91</td></tr>
<tr class="memitem:af693152a7eeade4c2bcb343a74bd5219"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af693152a7eeade4c2bcb343a74bd5219"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_WAIT_ONE_GROUP</b>&#160;&#160;&#160;92</td></tr>
<tr class="memitem:a55a2d74447fdf0a01a6a600e4a32a3bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a55a2d74447fdf0a01a6a600e4a32a3bc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOG_WAIT_ALL_GROUPS</b>&#160;&#160;&#160;93</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aad7c8e1b1a87d5e01fc2e960eca6a4af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad7c8e1b1a87d5e01fc2e960eca6a4af"></a>
typedef ib_uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>lsn_t</b></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adde13ce11adec5f933b8bb53abf609a9"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#adde13ce11adec5f933b8bb53abf609a9">log_calc_where_lsn_is</a> (ib_int64_t *log_file_offset, ib_uint64_t first_header_lsn, ib_uint64_t lsn, ulint n_log_files, ib_int64_t log_file_size)</td></tr>
<tr class="memitem:a358ead4df7bf1b71b1cb1fe3e988c3fa"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE lsn_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a358ead4df7bf1b71b1cb1fe3e988c3fa">log_reserve_and_write_fast</a> (const void *str, ulint len, lsn_t *start_lsn)</td></tr>
<tr class="memitem:a5f118027eb186d0456c636c549fb5a73"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a5f118027eb186d0456c636c549fb5a73">log_release</a> (void)</td></tr>
<tr class="memitem:a38e07fd75176730e045801d04d2d8f36"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a38e07fd75176730e045801d04d2d8f36">log_free_check</a> (void)</td></tr>
<tr class="memitem:a5ec5b91f6f128d1669d09e778e6b81dc"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN lsn_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a5ec5b91f6f128d1669d09e778e6b81dc">log_reserve_and_open</a> (ulint len)</td></tr>
<tr class="memitem:a3cff24613386ffb6069d6e7dd55587ac"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a3cff24613386ffb6069d6e7dd55587ac">log_write_low</a> (byte *str, ulint str_len)</td></tr>
<tr class="memitem:aed620ef4b4e7871e2a4c840b927f12e3"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN lsn_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aed620ef4b4e7871e2a4c840b927f12e3">log_close</a> (void)</td></tr>
<tr class="memitem:a40c7ab49dc09156d7292e452163b86a1"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE lsn_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a40c7ab49dc09156d7292e452163b86a1">log_get_lsn</a> (void)</td></tr>
<tr class="memitem:a5f970a548b403375ecd986dfce8b172c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f970a548b403375ecd986dfce8b172c"></a>
UNIV_INLINE lsn_t&#160;</td><td class="memItemRight" valign="bottom"><b>log_get_capacity</b> (void)</td></tr>
<tr class="memitem:a50316d5039af7560100e73a24433089a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a50316d5039af7560100e73a24433089a"></a>
UNIV_INLINE lsn_t&#160;</td><td class="memItemRight" valign="bottom"><b>log_get_max_modified_age_async</b> (void)</td></tr>
<tr class="memitem:afa9223c6fc0464a4919240eacd19f587"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#afa9223c6fc0464a4919240eacd19f587">log_init</a> (void)</td></tr>
<tr class="memitem:a8d780baf11f5520463fd56e46b4744ff"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a8d780baf11f5520463fd56e46b4744ff">log_group_init</a> (ulint id, ulint n_files, lsn_t file_size, ulint space_id, ulint archive_space_id)</td></tr>
<tr class="memitem:adc3f4d29bfb0107693588e398aa515be"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#adc3f4d29bfb0107693588e398aa515be">log_io_complete</a> (<a class="el" href="structlog__group__t.html">log_group_t</a> *group)</td></tr>
<tr class="memitem:acf92d6be658e10a45b643c2a559da1af"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#acf92d6be658e10a45b643c2a559da1af">log_write_up_to</a> (lsn_t lsn, ulint wait, <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> flush_to_disk)</td></tr>
<tr class="memitem:aaf96601c4184bc20a859dda2f44d3d18"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aaf96601c4184bc20a859dda2f44d3d18">log_buffer_flush_to_disk</a> (void)</td></tr>
<tr class="memitem:ad12d8c13ab6a43127f83343ce871846e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#ad12d8c13ab6a43127f83343ce871846e">log_buffer_sync_in_background</a> (<a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> flush)</td></tr>
<tr class="memitem:af6e528c0af0cb866a36bc5f0bc204105"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#af6e528c0af0cb866a36bc5f0bc204105">log_checkpoint</a> (<a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> sync, <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> write_always)</td></tr>
<tr class="memitem:a7573dd5004534067b2c9509812c62e1c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a7573dd5004534067b2c9509812c62e1c">log_make_checkpoint_at</a> (lsn_t lsn, <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> write_always)</td></tr>
<tr class="memitem:a5bc3be421065454846977694aeaf71e8"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a5bc3be421065454846977694aeaf71e8">logs_empty_and_mark_files_at_shutdown</a> (void)</td></tr>
<tr class="memitem:a0f48ef1d75e65a28f952bbed00594081"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a0f48ef1d75e65a28f952bbed00594081">log_group_read_checkpoint_info</a> (<a class="el" href="structlog__group__t.html">log_group_t</a> *group, ulint field)</td></tr>
<tr class="memitem:a961f5de6014ea815f1b553713a42bb9b"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a961f5de6014ea815f1b553713a42bb9b">log_checkpoint_get_nth_group_info</a> (const byte *buf, ulint n, ulint *file_no, ulint *offset)</td></tr>
<tr class="memitem:aff4b6c7a3d7fcb0c746f9345953a6533"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aff4b6c7a3d7fcb0c746f9345953a6533">log_groups_write_checkpoint_info</a> (void)</td></tr>
<tr class="memitem:a478db7cb22a9103a4134fb69a55daf93"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a478db7cb22a9103a4134fb69a55daf93">log_archive_do</a> (<a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> sync, ulint *n_bytes)</td></tr>
<tr class="memitem:ab344c8f56ce1644c7f3eabcb449b9c1d"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#ab344c8f56ce1644c7f3eabcb449b9c1d">log_archive_stop</a> (void)</td></tr>
<tr class="memitem:a44880f1da6bbcbd9b93a57195d08676f"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a44880f1da6bbcbd9b93a57195d08676f">log_archive_start</a> (void)</td></tr>
<tr class="memitem:ae51a469b276b959293c8a96e05c49425"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#ae51a469b276b959293c8a96e05c49425">log_archive_noarchivelog</a> (void)</td></tr>
<tr class="memitem:a9d85ff9bb23e5b2dd69a4b7de7c86f8d"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a9d85ff9bb23e5b2dd69a4b7de7c86f8d">log_archive_archivelog</a> (void)</td></tr>
<tr class="memitem:af0b2e72f63a18933732503cc9fe7237d"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#af0b2e72f63a18933732503cc9fe7237d">log_archived_file_name_gen</a> (char *buf, ulint id, ulint file_no)</td></tr>
<tr class="memitem:a3d911427feb357b849c170e74657818d"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a3d911427feb357b849c170e74657818d">log_check_margins</a> (void)</td></tr>
<tr class="memitem:a4753b9ce016e234e3303247f5b532c85"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a4753b9ce016e234e3303247f5b532c85">log_group_read_log_seg</a> (ulint type, byte *buf, <a class="el" href="structlog__group__t.html">log_group_t</a> *group, lsn_t start_lsn, lsn_t end_lsn)</td></tr>
<tr class="memitem:a5cdf3eb29ae186d08cdc9cf4e4118a4e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a5cdf3eb29ae186d08cdc9cf4e4118a4e">log_group_write_buf</a> (<a class="el" href="structlog__group__t.html">log_group_t</a> *group, byte *buf, ulint len, lsn_t start_lsn, ulint new_data_offset)</td></tr>
<tr class="memitem:abb9299535359f2c242ee46906daa290e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#abb9299535359f2c242ee46906daa290e">log_group_set_fields</a> (<a class="el" href="structlog__group__t.html">log_group_t</a> *group, lsn_t lsn)</td></tr>
<tr class="memitem:ac6fe86d066e8239dfebf9cdc3348a2e9"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN lsn_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#ac6fe86d066e8239dfebf9cdc3348a2e9">log_group_get_capacity</a> (const <a class="el" href="structlog__group__t.html">log_group_t</a> *group)</td></tr>
<tr class="memitem:aa5b7487dbd6ff2179116dcd83c60b392"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aa5b7487dbd6ff2179116dcd83c60b392">log_block_get_flush_bit</a> (const byte *log_block)</td></tr>
<tr class="memitem:a72a5312b875267f08ca54d8d4b58aa1d"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a72a5312b875267f08ca54d8d4b58aa1d">log_block_get_hdr_no</a> (const byte *log_block)</td></tr>
<tr class="memitem:a36bf9bf0ad084b62995fdeed52613c97"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a36bf9bf0ad084b62995fdeed52613c97">log_block_get_data_len</a> (const byte *log_block)</td></tr>
<tr class="memitem:aaf8cfa4dc020ee30dd9906a846cc51e1"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aaf8cfa4dc020ee30dd9906a846cc51e1">log_block_set_data_len</a> (byte *log_block, ulint len)</td></tr>
<tr class="memitem:a7b1abddf0c24240597452263680a92d3"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a7b1abddf0c24240597452263680a92d3">log_block_calc_checksum</a> (const byte *<a class="el" href="mem0mem_8ic.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>)</td></tr>
<tr class="memitem:ab350562cc3634ac8da877f6713688db2"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#ab350562cc3634ac8da877f6713688db2">log_block_get_checksum</a> (const byte *log_block)</td></tr>
<tr class="memitem:a880c06633a736116da542b23a9c162bd"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a880c06633a736116da542b23a9c162bd">log_block_set_checksum</a> (byte *log_block, ulint checksum)</td></tr>
<tr class="memitem:ac04e20ea849e8d976045c62a6a627a63"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#ac04e20ea849e8d976045c62a6a627a63">log_block_get_first_rec_group</a> (const byte *log_block)</td></tr>
<tr class="memitem:af4abefa486d6b44b15a42944de50d230"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#af4abefa486d6b44b15a42944de50d230">log_block_set_first_rec_group</a> (byte *log_block, ulint offset)</td></tr>
<tr class="memitem:a11dabb72a7d70bc2e04dce2dfb1c964d"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a11dabb72a7d70bc2e04dce2dfb1c964d">log_block_get_checkpoint_no</a> (const byte *log_block)</td></tr>
<tr class="memitem:a88ad1345163e279bc83c4802d9f07a13"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a88ad1345163e279bc83c4802d9f07a13">log_block_init</a> (byte *log_block, lsn_t lsn)</td></tr>
<tr class="memitem:aaa8f38aa3e4e2f8f95484f907f234f41"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aaa8f38aa3e4e2f8f95484f907f234f41">log_block_init_in_old_format</a> (byte *log_block, lsn_t lsn)</td></tr>
<tr class="memitem:aec2aebcea2c9b9f50ca4cdd5edb0719e"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aec2aebcea2c9b9f50ca4cdd5edb0719e">log_block_convert_lsn_to_no</a> (lsn_t lsn)</td></tr>
<tr class="memitem:aa7203d9622cbb373917e7dad97e35254"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aa7203d9622cbb373917e7dad97e35254">log_print</a> (FILE *file)</td></tr>
<tr class="memitem:ad8785464bbe3037989eeb20b6b91956c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#ad8785464bbe3037989eeb20b6b91956c">log_peek_lsn</a> (lsn_t *lsn)</td></tr>
<tr class="memitem:a06e7346dc1d9ec80c6e2d446bcbd83d0"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a06e7346dc1d9ec80c6e2d446bcbd83d0">log_refresh_stats</a> (void)</td></tr>
<tr class="memitem:aed07fea43f6c359905616e196a8a252a"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aed07fea43f6c359905616e196a8a252a">log_group_close_all</a> (void)</td></tr>
<tr class="memitem:a531694c4b83c2bbb98b9761de8b0bf16"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a531694c4b83c2bbb98b9761de8b0bf16">log_shutdown</a> (void)</td></tr>
<tr class="memitem:ab0f36b817a66219122eaa8a72c536f6e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#ab0f36b817a66219122eaa8a72c536f6e">log_mem_free</a> (void)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aaa41468104c60e7f3eec62e619c43c3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#aaa41468104c60e7f3eec62e619c43c3e">log_do_write</a></td></tr>
<tr class="memitem:a19fcf30813dad04b888eeb42abc8e15c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8h.html#a19fcf30813dad04b888eeb42abc8e15c">log_debug_writes</a></td></tr>
<tr class="memitem:a313f6981ccf5fd96b4aa9661b4938dc5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a313f6981ccf5fd96b4aa9661b4938dc5"></a>
<a class="el" href="structlog__t.html">log_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>log_sys</b></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Database log</p>
<p>Created 12/9/1995 Heikki Tuuri </p>
</div><h2>Macro Definition Documentation</h2>
<a class="anchor" id="af48d1cc7db25f3c26e92dec14202b356"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_BLOCK_CHECKPOINT_NO</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">8       <span class="comment">/* 4 lower bytes of the value of</span></div>
<div class="line"><span class="comment">                                        log_sys-&gt;next_checkpoint_no when the</span></div>
<div class="line"><span class="comment">                                        log block was last written to: if the</span></div>
<div class="line"><span class="comment">                                        block has not yet been written full,</span></div>
<div class="line"><span class="comment">                                        this value is only updated before a</span></div>
<div class="line"><span class="comment">                                        log buffer flush */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a03fef24301894a97848b5c4f40034f71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_BLOCK_CHECKSUM</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">4       <span class="comment">/* 4 byte checksum of the log block</span></div>
<div class="line"><span class="comment">                                        contents; in InnoDB versions</span></div>
<div class="line"><span class="comment">                                        &lt; 3.23.52 this did not contain the</span></div>
<div class="line"><span class="comment">                                        checksum but the same value as</span></div>
<div class="line"><span class="comment">                                        .._HDR_NO */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78802071383a58747b0ad5eda8730247"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_BLOCK_FIRST_REC_GROUP</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">6       <span class="comment">/* offset of the first start of an</span></div>
<div class="line"><span class="comment">                                        mtr log record group in this log block,</span></div>
<div class="line"><span class="comment">                                        0 if none; if the value is the same</span></div>
<div class="line"><span class="comment">                                        as LOG_BLOCK_HDR_DATA_LEN, it means</span></div>
<div class="line"><span class="comment">                                        that the first rec group has not yet</span></div>
<div class="line"><span class="comment">                                        been catenated to this log block, but</span></div>
<div class="line"><span class="comment">                                        if it will, it will start at this</span></div>
<div class="line"><span class="comment">                                        offset; an archive recovery can</span></div>
<div class="line"><span class="comment">                                        start parsing the log records starting</span></div>
<div class="line"><span class="comment">                                        from this offset in this log block,</span></div>
<div class="line"><span class="comment">                                        if value not 0 */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5373fb622b196dac8e0a8c9da8fd34ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_BLOCK_HDR_DATA_LEN</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">4       <span class="comment">/* number of bytes of log written to</span></div>
<div class="line"><span class="comment">                                        this block */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a204e75acf172f51d5fb708033da8560f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_BLOCK_HDR_NO</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">0       <span class="comment">/* block number which must be &gt; 0 and</span></div>
<div class="line"><span class="comment">                                        is allowed to wrap around at 2G; the</span></div>
<div class="line"><span class="comment">                                        highest bit is set to 1 if this is the</span></div>
<div class="line"><span class="comment">                                        first log block in a log flush write</span></div>
<div class="line"><span class="comment">                                        segment */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3e67fe6287204227917c49ce278a8641"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_BLOCK_HDR_SIZE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">12      <span class="comment">/* size of the log block header in</span></div>
<div class="line"><span class="comment">                                        bytes */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a68f97b5f8c94f1f4b1fd45c814c56d25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CHECKPOINT_ARRAY_END</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(LOG_CHECKPOINT_GROUP_ARRAY\</div>
<div class="line">                                                        + <a class="code" href="log0log_8h.html#ae8ccd1d001f3c169def0636d1347ea4b">LOG_MAX_N_GROUPS</a> * 8)</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa597a9b4dc701c37668dc94d0878ac22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_FILE_NO</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">12      <span class="comment">/* 4-byte archived log file number;</span></div>
<div class="line"><span class="comment">                                        this field is only defined in an</span></div>
<div class="line"><span class="comment">                                        archived log file */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0b444e9b65251a2089d4c0f75181841b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_FILE_START_LSN</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">4       <span class="comment">/* lsn of the start of data in this</span></div>
<div class="line"><span class="comment">                                        log file */</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae57f4949f49a3f230be7ae32651f56b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define log_flush_order_mutex_enter</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {            \</div>
<div class="line">        mutex_enter(&amp;log_sys-&gt;<a class="code" href="structlog__t.html#a8b2d28240a546328a4d3c3be5d7f1512">log_flush_order_mutex</a>);   \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Acquire the flush order mutex. </p>

</div>
</div>
<a class="anchor" id="a126ba3b5163f55e6683f37ca257f5709"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define log_flush_order_mutex_exit</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {            \</div>
<div class="line">        mutex_exit(&amp;log_sys-&gt;<a class="code" href="structlog__t.html#a8b2d28240a546328a4d3c3be5d7f1512">log_flush_order_mutex</a>);    \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Release the flush order mutex. </p>

</div>
</div>
<a class="anchor" id="aa5310860d071016e9f65d4092344ca2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define log_flush_order_mutex_own</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="sync0sync_8h.html#a40624491e0b49ffe0a3e02f69406343a">mutex_own</a>(&amp;log_sys-&gt;log_flush_order_mutex)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test if flush order mutex is owned. </p>

</div>
</div>
<a class="anchor" id="ae8ccd1d001f3c169def0636d1347ea4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_MAX_N_GROUPS&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of log groups in <a class="el" href="structlog__group__t.html#a411c96ca0370865afc0b93139968f17b">log_group_t::checkpoint_buf</a> </p>

</div>
</div>
<a class="anchor" id="aa2d98215f0589772e49a0390be42b488"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_NO_WAIT&#160;&#160;&#160;91</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait modes for log_write_up_to </p>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="a9d85ff9bb23e5b2dd69a4b7de7c86f8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ulint log_archive_archivelog </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start archiving the log so that a gap may occur in the archived log files. </p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or DB_ERROR </dd></dl>

</div>
</div>
<a class="anchor" id="a478db7cb22a9103a4134fb69a55daf93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> log_archive_do </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>sync</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>n_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts an archiving operation. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if succeed, FALSE if an archiving operation was already running out: archive log buffer size, 0 if nothing to archive </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync</td><td>in: TRUE if synchronous operation is desired </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae51a469b276b959293c8a96e05c49425"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ulint log_archive_noarchivelog </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop archiving the log so that a gap may occur in the archived log files. </p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or DB_ERROR </dd></dl>

</div>
</div>
<a class="anchor" id="a44880f1da6bbcbd9b93a57195d08676f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ulint log_archive_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts again archiving which has been stopped. </p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or DB_ERROR </dd></dl>

</div>
</div>
<a class="anchor" id="ab344c8f56ce1644c7f3eabcb449b9c1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ulint log_archive_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes the log contents to the archive up to the lsn when this function was called, and stops the archiving. When archiving is started again, the archived log file numbers start from a number one higher, so that the archiving will not write again to the archived log files which exist when this function returns. </p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or DB_ERROR </dd></dl>

</div>
</div>
<a class="anchor" id="af0b2e72f63a18933732503cc9fe7237d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_archived_file_name_gen </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>file_no</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generates an archived log file name. in: file number </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>in: buffer where to write </td></tr>
    <tr><td class="paramname">id</td><td>in: group id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7b1abddf0c24240597452263680a92d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ulint log_block_calc_checksum </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the checksum for a log block. </p>
<dl class="section return"><dt>Returns</dt><dd>checksum in: log block</dd></dl>
<p>Calculates the checksum for a log block. </p>
<dl class="section return"><dt>Returns</dt><dd>checksum </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td>in: log block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aec2aebcea2c9b9f50ca4cdd5edb0719e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ulint log_block_convert_lsn_to_no </td>
          <td>(</td>
          <td class="paramtype">lsn_t&#160;</td>
          <td class="paramname"><em>lsn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts a lsn to a log block number. </p>
<dl class="section return"><dt>Returns</dt><dd>log block number, it is &gt; 0 and &lt;= 1G in: lsn of a byte within the block</dd></dl>
<p>Converts a lsn to a log block number. </p>
<dl class="section return"><dt>Returns</dt><dd>log block number, it is &gt; 0 and &lt;= 1G </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lsn</td><td>in: lsn of a byte within the block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a11dabb72a7d70bc2e04dce2dfb1c964d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ulint log_block_get_checkpoint_no </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>log_block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a log block checkpoint number field (4 lowest bytes). </p>
<dl class="section return"><dt>Returns</dt><dd>checkpoint no (4 lowest bytes) in: log block</dd></dl>
<p>Gets a log block checkpoint number field (4 lowest bytes). </p>
<dl class="section return"><dt>Returns</dt><dd>checkpoint no (4 lowest bytes) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_block</td><td>in: log block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab350562cc3634ac8da877f6713688db2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ulint log_block_get_checksum </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>log_block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a log block checksum field value. </p>
<dl class="section return"><dt>Returns</dt><dd>checksum in: log block</dd></dl>
<p>Gets a log block checksum field value. </p>
<dl class="section return"><dt>Returns</dt><dd>checksum </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_block</td><td>in: log block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a36bf9bf0ad084b62995fdeed52613c97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ulint log_block_get_data_len </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>log_block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a log block data length. </p>
<dl class="section return"><dt>Returns</dt><dd>log block data length measured as a byte offset from the block start in: log block</dd></dl>
<p>Gets a log block data length. </p>
<dl class="section return"><dt>Returns</dt><dd>log block data length measured as a byte offset from the block start </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_block</td><td>in: log block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac04e20ea849e8d976045c62a6a627a63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ulint log_block_get_first_rec_group </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>log_block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a log block first mtr log record group offset. </p>
<dl class="section return"><dt>Returns</dt><dd>first mtr log record group byte offset from the block start, 0 if none in: log block</dd></dl>
<p>Gets a log block first mtr log record group offset. </p>
<dl class="section return"><dt>Returns</dt><dd>first mtr log record group byte offset from the block start, 0 if none </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_block</td><td>in: log block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa5b7487dbd6ff2179116dcd83c60b392"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> log_block_get_flush_bit </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>log_block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a log block flush bit. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if this block was the first to be written in a log flush in: log block</dd></dl>
<p>Gets a log block flush bit. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if this block was the first to be written in a log flush </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_block</td><td>in: log block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a72a5312b875267f08ca54d8d4b58aa1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ulint log_block_get_hdr_no </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>log_block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a log block number stored in the header. </p>
<dl class="section return"><dt>Returns</dt><dd>log block number stored in the block header in: log block</dd></dl>
<p>Gets a log block number stored in the header. </p>
<dl class="section return"><dt>Returns</dt><dd>log block number stored in the block header </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_block</td><td>in: log block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a88ad1345163e279bc83c4802d9f07a13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void log_block_init </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>log_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lsn_t&#160;</td>
          <td class="paramname"><em>lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes a log block in the log buffer. in: lsn within the log block</p>
<p>Initializes a log block in the log buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_block</td><td>in: pointer to the log buffer </td></tr>
    <tr><td class="paramname">lsn</td><td>in: lsn within the log block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaa8f38aa3e4e2f8f95484f907f234f41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void log_block_init_in_old_format </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>log_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lsn_t&#160;</td>
          <td class="paramname"><em>lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes a log block in the log buffer in the old, &lt; 3.23.52 format, where there was no checksum yet. in: lsn within the log block</p>
<p>Initializes a log block in the log buffer in the old format, where there was no checksum yet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_block</td><td>in: pointer to the log buffer </td></tr>
    <tr><td class="paramname">lsn</td><td>in: lsn within the log block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a880c06633a736116da542b23a9c162bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void log_block_set_checksum </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>log_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>checksum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a log block checksum field value. in: checksum</p>
<p>Sets a log block checksum field value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_block</td><td>in/out: log block </td></tr>
    <tr><td class="paramname">checksum</td><td>in: checksum </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaf8cfa4dc020ee30dd9906a846cc51e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void log_block_set_data_len </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>log_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the log block data length. in: data length</p>
<p>Sets the log block data length. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_block</td><td>in/out: log block </td></tr>
    <tr><td class="paramname">len</td><td>in: data length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af4abefa486d6b44b15a42944de50d230"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void log_block_set_first_rec_group </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>log_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the log block first mtr log record group offset. in: offset, 0 if none</p>
<p>Sets the log block first mtr log record group offset. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_block</td><td>in/out: log block </td></tr>
    <tr><td class="paramname">offset</td><td>in: offset, 0 if none </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaf96601c4184bc20a859dda2f44d3d18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_buffer_flush_to_disk </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Does a syncronous flush of the log buffer to disk. </p>

</div>
</div>
<a class="anchor" id="ad12d8c13ab6a43127f83343ce871846e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_buffer_sync_in_background </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>flush</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This functions writes the log buffer to the log file and if 'flush' is set it forces a flush of the log file as well. This is meant to be called from background master thread only as it does not wait for the write (+ possible flush) to finish. </p>

</div>
</div>
<a class="anchor" id="adde13ce11adec5f933b8bb53abf609a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ulint log_calc_where_lsn_is </td>
          <td>(</td>
          <td class="paramtype">ib_int64_t *&#160;</td>
          <td class="paramname"><em>log_file_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ib_uint64_t&#160;</td>
          <td class="paramname"><em>first_header_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ib_uint64_t&#160;</td>
          <td class="paramname"><em>lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_log_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ib_int64_t&#160;</td>
          <td class="paramname"><em>log_file_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates where in log files we find a specified lsn. </p>
<dl class="section return"><dt>Returns</dt><dd>log file number in: log file size (including the header) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_file_offset</td><td>out: offset in that file (including the header) </td></tr>
    <tr><td class="paramname">first_header_lsn</td><td>in: first log file start lsn </td></tr>
    <tr><td class="paramname">lsn</td><td>in: lsn whose position to determine </td></tr>
    <tr><td class="paramname">n_log_files</td><td>in: total number of log files </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3d911427feb357b849c170e74657818d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_check_margins </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks that there is enough free space in the log to start a new query step. Flushes the log buffer or makes a new checkpoint if necessary. NOTE: this function may only be called if the calling thread owns no synchronization objects! </p>

</div>
</div>
<a class="anchor" id="af6e528c0af0cb866a36bc5f0bc204105"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> log_checkpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>sync</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>write_always</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Makes a checkpoint. Note that this function does not flush dirty blocks from the buffer pool: it only checks what is lsn of the oldest modification in the pool, and writes information about the lsn in log files. Use log_make_checkpoint_at to flush also the pool. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if success, FALSE if a checkpoint write was already running in: the function normally checks if the the new checkpoint would have a greater lsn than the previous one: if not, then no physical write is done; by setting this parameter TRUE, a physical write will always be made to log files </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sync</td><td>in: TRUE if synchronous operation is desired </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a961f5de6014ea815f1b553713a42bb9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_checkpoint_get_nth_group_info </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>file_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets info from a checkpoint about a log group. out: archived file offset </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>in: buffer containing checkpoint info </td></tr>
    <tr><td class="paramname">n</td><td>in: nth slot </td></tr>
    <tr><td class="paramname">file_no</td><td>out: archived file number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aed620ef4b4e7871e2a4c840b927f12e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN lsn_t log_close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the log. </p>
<dl class="section return"><dt>Returns</dt><dd>lsn </dd></dl>

</div>
</div>
<a class="anchor" id="a38e07fd75176730e045801d04d2d8f36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void log_free_check </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if there is need for a log buffer flush or a new checkpoint, and does this if yes. Any database operation should call this when it has modified more than about 4 pages. NOTE that this function may only be called when the OS thread owns no synchronization objects except the dictionary mutex. </p>

</div>
</div>
<a class="anchor" id="a40c7ab49dc09156d7292e452163b86a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE lsn_t log_get_lsn </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the current lsn. </p>
<dl class="section return"><dt>Returns</dt><dd>current lsn </dd></dl>

</div>
</div>
<a class="anchor" id="aed07fea43f6c359905616e196a8a252a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_group_close_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes all log groups. </p>

</div>
</div>
<a class="anchor" id="ac6fe86d066e8239dfebf9cdc3348a2e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN lsn_t log_group_get_capacity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__group__t.html">log_group_t</a> *&#160;</td>
          <td class="paramname"><em>group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the data capacity of a log group, when the log file headers are not included. </p>
<dl class="section return"><dt>Returns</dt><dd>capacity in bytes in: log group </dd></dl>

</div>
</div>
<a class="anchor" id="a8d780baf11f5520463fd56e46b4744ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_group_init </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lsn_t&#160;</td>
          <td class="paramname"><em>file_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>archive_space_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inits a log group to the log system. in: space id of the file space which contains some archived log files for this group; currently, only for the first log group this is used </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>in: group id </td></tr>
    <tr><td class="paramname">n_files</td><td>in: number of log files </td></tr>
    <tr><td class="paramname">file_size</td><td>in: log file size in bytes </td></tr>
    <tr><td class="paramname">space_id</td><td>in: space id of the file space which contains the log files of this group </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0f48ef1d75e65a28f952bbed00594081"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_group_read_checkpoint_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__group__t.html">log_group_t</a> *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>field</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a checkpoint info from a log group header to log_sys-&gt;checkpoint_buf. in: LOG_CHECKPOINT_1 or LOG_CHECKPOINT_2 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>in: log group </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4753b9ce016e234e3303247f5b532c85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_group_read_log_seg </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__group__t.html">log_group_t</a> *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lsn_t&#160;</td>
          <td class="paramname"><em>start_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lsn_t&#160;</td>
          <td class="paramname"><em>end_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a specified log segment to a buffer. in: read area end </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>in: LOG_ARCHIVE or LOG_RECOVER </td></tr>
    <tr><td class="paramname">buf</td><td>in: buffer where to read </td></tr>
    <tr><td class="paramname">group</td><td>in: log group </td></tr>
    <tr><td class="paramname">start_lsn</td><td>in: read area start </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abb9299535359f2c242ee46906daa290e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_group_set_fields </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__group__t.html">log_group_t</a> *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lsn_t&#160;</td>
          <td class="paramname"><em>lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the field values in group to correspond to a given lsn. For this function to work, the values must already be correctly initialized to correspond to some lsn, for instance, a checkpoint lsn. in: lsn for which the values should be set </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>in/out: group </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5cdf3eb29ae186d08cdc9cf4e4118a4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_group_write_buf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__group__t.html">log_group_t</a> *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lsn_t&#160;</td>
          <td class="paramname"><em>start_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>new_data_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a buffer to a log file group. in: start offset of new data in buf: this parameter is used to decide if we have to write a new log file header </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>in: log group </td></tr>
    <tr><td class="paramname">buf</td><td>in: buffer </td></tr>
    <tr><td class="paramname">len</td><td>in: buffer len; must be divisible by OS_FILE_LOG_BLOCK_SIZE </td></tr>
    <tr><td class="paramname">start_lsn</td><td>in: start lsn of the buffer; must be divisible by OS_FILE_LOG_BLOCK_SIZE </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aff4b6c7a3d7fcb0c746f9345953a6533"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_groups_write_checkpoint_info </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes checkpoint info to groups. </p>

</div>
</div>
<a class="anchor" id="afa9223c6fc0464a4919240eacd19f587"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the log. </p>

</div>
</div>
<a class="anchor" id="adc3f4d29bfb0107693588e398aa515be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_io_complete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__group__t.html">log_group_t</a> *&#160;</td>
          <td class="paramname"><em>group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Completes an i/o to a log file. in: log group </p>

</div>
</div>
<a class="anchor" id="a7573dd5004534067b2c9509812c62e1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_make_checkpoint_at </td>
          <td>(</td>
          <td class="paramtype">lsn_t&#160;</td>
          <td class="paramname"><em>lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>write_always</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Makes a checkpoint at a given lsn or later. in: the function normally checks if the new checkpoint would have a greater lsn than the previous one: if not, then no physical write is done; by setting this parameter TRUE, a physical write will always be made to log files </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lsn</td><td>in: make a checkpoint at this or a later lsn, if LSN_MAX, makes a checkpoint at the latest lsn </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab0f36b817a66219122eaa8a72c536f6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_mem_free </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free the log system data structures. </p>

</div>
</div>
<a class="anchor" id="ad8785464bbe3037989eeb20b6b91956c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> log_peek_lsn </td>
          <td>(</td>
          <td class="paramtype">lsn_t *&#160;</td>
          <td class="paramname"><em>lsn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Peeks the current lsn. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if success, FALSE if could not get the log system mutex out: if returns TRUE, current lsn is here </dd></dl>

</div>
</div>
<a class="anchor" id="aa7203d9622cbb373917e7dad97e35254"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_print </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints info of the log. in: file where to print </p>

</div>
</div>
<a class="anchor" id="a06e7346dc1d9ec80c6e2d446bcbd83d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_refresh_stats </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Refreshes the statistics used to print per-second averages. </p>

</div>
</div>
<a class="anchor" id="a5f118027eb186d0456c636c549fb5a73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void log_release </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases the log mutex. </p>

</div>
</div>
<a class="anchor" id="a5ec5b91f6f128d1669d09e778e6b81dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN lsn_t log_reserve_and_open </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens the log for log_write_low. The log must be closed with log_close and released with log_release. </p>
<dl class="section return"><dt>Returns</dt><dd>start lsn of the log record in: length of data to be catenated </dd></dl>

</div>
</div>
<a class="anchor" id="a358ead4df7bf1b71b1cb1fe3e988c3fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE lsn_t log_reserve_and_write_fast </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lsn_t *&#160;</td>
          <td class="paramname"><em>start_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes to the log the string given. The log must be released with log_release. </p>
<dl class="section return"><dt>Returns</dt><dd>end lsn of the log record, zero if did not succeed out: start lsn of the log record</dd></dl>
<p>Writes to the log the string given. The log must be released with log_release. </p>
<dl class="section return"><dt>Returns</dt><dd>end lsn of the log record, zero if did not succeed </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>in: string </td></tr>
    <tr><td class="paramname">len</td><td>in: string length </td></tr>
    <tr><td class="paramname">start_lsn</td><td>out: start lsn of the log record </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a531694c4b83c2bbb98b9761de8b0bf16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shutdown the log system but do not release all the memory. </p>

</div>
</div>
<a class="anchor" id="a3cff24613386ffb6069d6e7dd55587ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_write_low </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>str_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes to the log the string given. It is assumed that the caller holds the log mutex. in: string length </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>in: string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acf92d6be658e10a45b643c2a559da1af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void log_write_up_to </td>
          <td>(</td>
          <td class="paramtype">lsn_t&#160;</td>
          <td class="paramname"><em>lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>wait</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td>
          <td class="paramname"><em>flush_to_disk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is called, e.g., when a transaction wants to commit. It checks that the log has been written to the log file up to the last log entry written by the transaction. If there is a flush running, it waits and checks if the flush flushed enough. If not, starts a new flush. in: TRUE if we want the written log also to be flushed to disk </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lsn</td><td>in: log sequence number up to which the log should be written, LSN_MAX if not specified </td></tr>
    <tr><td class="paramname">wait</td><td>in: LOG_NO_WAIT, LOG_WAIT_ONE_GROUP, or LOG_WAIT_ALL_GROUPS </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5bc3be421065454846977694aeaf71e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void logs_empty_and_mark_files_at_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Makes a checkpoint at the latest lsn and writes it to first page of each data file in the database, so that we know that the file spaces contain all modifications up to that lsn. This can only be called at database shutdown. This function also writes all log in log files to the log archive. </p>

</div>
</div>
<h2>Variable Documentation</h2>
<a class="anchor" id="a19fcf30813dad04b888eeb42abc8e15c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> log_debug_writes</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag: enable debug output when writing to the log? </p>

</div>
</div>
<a class="anchor" id="aaa41468104c60e7f3eec62e619c43c3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> log_do_write</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flag: write to log file? </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 21 2015 19:14:26 for InnoDB Plugin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
