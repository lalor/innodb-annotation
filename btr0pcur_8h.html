<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>InnoDB Plugin: include/btr0pcur.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">InnoDB Plugin
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">btr0pcur.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="univ_8i.html">univ.i</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="dict0dict_8h_source.html">dict0dict.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="data0data_8h_source.html">data0data.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mtr0mtr_8h_source.html">mtr0mtr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="page0cur_8h_source.html">page0cur.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="btr0cur_8h_source.html">btr0cur.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="btr0btr_8h_source.html">btr0btr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="btr0types_8h_source.html">btr0types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="btr0pcur_8ic.html">btr0pcur.ic</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for btr0pcur.h:</div>
<div class="dyncontent">
<div class="center"><img src="btr0pcur_8h__incl.png" border="0" usemap="#include_2btr0pcur_8h" alt=""/></div>
<map name="include_2btr0pcur_8h" id="include_2btr0pcur_8h">
<area shape="rect" id="node3" href="univ_8i.html" title="univ.i" alt="" coords="1752,1089,1805,1117"/><area shape="rect" id="node28" href="dict0dict_8h.html" title="dict0dict.h" alt="" coords="1225,547,1313,575"/><area shape="rect" id="node66" href="btr0types_8h.html" title="btr0types.h" alt="" coords="2392,702,2485,730"/><area shape="rect" id="node77" href="data0data_8h.html" title="data0data.h" alt="" coords="547,779,645,807"/><area shape="rect" id="node117" href="mtr0mtr_8h.html" title="mtr0mtr.h" alt="" coords="517,547,603,575"/><area shape="rect" id="node125" href="page0cur_8h.html" title="page0cur.h" alt="" coords="304,315,397,343"/><area shape="rect" id="node147" href="btr0cur_8h.html" title="btr0cur.h" alt="" coords="2028,83,2105,111"/><area shape="rect" id="node163" href="btr0btr_8h.html" title="btr0btr.h" alt="" coords="1231,238,1308,266"/><area shape="rect" id="node173" href="btr0pcur_8ic.html" title="btr0pcur.ic" alt="" coords="2813,83,2901,111"/><area shape="rect" id="node19" href="ut0dbg_8h.html" title="ut0dbg.h" alt="" coords="1740,1166,1817,1194"/><area shape="rect" id="node22" href="ut0ut_8h.html" title="ut0ut.h" alt="" coords="2148,1166,2215,1194"/><area shape="rect" id="node25" href="db0err_8h.html" title="db0err.h" alt="" coords="2144,1243,2219,1271"/><area shape="rect" id="node32" href="dict0types_8h.html" title="dict0types.h" alt="" coords="1512,857,1611,885"/><area shape="rect" id="node34" href="dict0mem_8h.html" title="dict0mem.h" alt="" coords="1573,625,1672,653"/><area shape="rect" id="node38" href="data0type_8h.html" title="data0type.h" alt="" coords="648,857,747,885"/><area shape="rect" id="node41" href="mem0mem_8h.html" title="mem0mem.h" alt="" coords="1328,857,1437,885"/><area shape="rect" id="node44" href="ut0mem_8h.html" title="ut0mem.h" alt="" coords="1624,1011,1712,1039"/><area shape="rect" id="node47" href="ut0byte_8h.html" title="ut0byte.h" alt="" coords="1253,1011,1336,1039"/><area shape="rect" id="node50" href="ut0rnd_8h.html" title="ut0rnd.h" alt="" coords="1257,934,1332,962"/><area shape="rect" id="node54" href="sync0sync_8h.html" title="sync0sync.h" alt="" coords="1837,934,1936,962"/><area shape="rect" id="node57" href="ut0lst_8h.html" title="ut0lst.h" alt="" coords="1905,1011,1975,1039"/><area shape="rect" id="node62" href="row0types_8h.html" title="row0types.h" alt="" coords="1989,702,2088,730"/><area shape="rect" id="node64" href="rem0types_8h.html" title="rem0types.h" alt="" coords="1127,779,1228,807"/><area shape="rect" id="node70" href="sync0rw_8h.html" title="sync0rw.h" alt="" coords="2004,779,2087,807"/><area shape="rect" id="node89" href="hash0hash_8h.html" title="hash0hash.h" alt="" coords="2163,702,2267,730"/><area shape="rect" id="node95" href="trx0types_8h.html" title="trx0types.h" alt="" coords="872,702,965,730"/><area shape="rect" id="node111" href="dict0dict_8ic.html" title="dict0dict.ic" alt="" coords="1040,702,1131,730"/><area shape="rect" id="node75" href="que0types_8h.html" title="que0types.h" alt="" coords="1307,702,1408,730"/><area shape="rect" id="node121" href="buf0types_8h.html" title="buf0types.h" alt="" coords="245,625,341,653"/><area shape="rect" id="node129" href="page0page_8h.html" title="page0page.h" alt="" coords="363,470,469,498"/><area shape="rect" id="node134" href="rem0rec_8h.html" title="rem0rec.h" alt="" coords="304,702,392,730"/><area shape="rect" id="node143" href="page0cur_8ic.html" title="page0cur.ic" alt="" coords="195,393,288,421"/><area shape="rect" id="node155" href="ha0ha_8h.html" title="ha0ha.h" alt="" coords="2080,547,2155,575"/><area shape="rect" id="node161" href="btr0cur_8ic.html" title="btr0cur.ic" alt="" coords="1577,161,1657,189"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="btr0pcur_8h__dep__incl.png" border="0" usemap="#include_2btr0pcur_8hdep" alt=""/></div>
<map name="include_2btr0pcur_8hdep" id="include_2btr0pcur_8hdep">
<area shape="rect" id="node3" href="row0sel_8h.html" title="include/row0sel.h" alt="" coords="9,161,140,189"/><area shape="rect" id="node7" href="row0mysql_8h.html" title="include/row0mysql.h" alt="" coords="109,83,259,111"/><area shape="rect" id="node15" href="row0purge_8h.html" title="include/row0purge.h" alt="" coords="283,83,432,111"/><area shape="rect" id="node18" href="row0undo_8h.html" title="include/row0undo.h" alt="" coords="480,83,624,111"/><area shape="rect" id="node20" href="row0upd_8h.html" title="include/row0upd.h" alt="" coords="648,83,784,111"/><area shape="rect" id="node5" href="pars0opt_8h.html" title="include/pars0opt.h" alt="" coords="5,238,144,266"/><area shape="rect" id="node10" href="row0ftsort_8h.html" title="include/row0ftsort.h" alt="" coords="193,238,340,266"/><area shape="rect" id="node12" href="row0merge_8h.html" title="include/row0merge.h" alt="" coords="219,161,373,189"/></map>
</div>
</div>
<p><a href="btr0pcur_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af00a6765c08330d9ab1789dcae6948c4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af00a6765c08330d9ab1789dcae6948c4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BTR_PCUR_ON</b>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:a14e6abc4d7436cbb73ee7bf69013d564"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14e6abc4d7436cbb73ee7bf69013d564"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BTR_PCUR_BEFORE</b>&#160;&#160;&#160;2</td></tr>
<tr class="memitem:adb9064853a0abc7b845f6bcf2d9a8fec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb9064853a0abc7b845f6bcf2d9a8fec"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BTR_PCUR_AFTER</b>&#160;&#160;&#160;3</td></tr>
<tr class="memitem:a4029837b5ba4d035d4876feed06e2579"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4029837b5ba4d035d4876feed06e2579"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BTR_PCUR_BEFORE_FIRST_IN_TREE</b>&#160;&#160;&#160;4	/* in an empty tree */</td></tr>
<tr class="memitem:a18f7a6259beffa338ac5d076b63d2cb7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18f7a6259beffa338ac5d076b63d2cb7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BTR_PCUR_AFTER_LAST_IN_TREE</b>&#160;&#160;&#160;5	/* in an empty tree */</td></tr>
<tr class="memitem:a6d0f3012923b9b1dbf371a9835fcd648"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d0f3012923b9b1dbf371a9835fcd648"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>btr_pcur_open</b>(i, t, md, l, c, m)&#160;&#160;&#160;<a class="el" href="btr0pcur_8ic.html#abce40108bb64522033fd2b9b93e8ba0f">btr_pcur_open_low</a>(i,0,t,md,l,c,__FILE__,__LINE__,m)</td></tr>
<tr class="memitem:a99af0dc8a41ea6892e1df27790feaf24"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99af0dc8a41ea6892e1df27790feaf24"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>btr_pcur_open_with_no_init</b>(ix, t, md, l, cur, has, m)&#160;&#160;&#160;<a class="el" href="btr0pcur_8ic.html#a8a4872154575c17ed38e6aed790e3965">btr_pcur_open_with_no_init_func</a>(ix,t,md,l,cur,has,__FILE__,__LINE__,m)</td></tr>
<tr class="memitem:afa1aca011f0fd388de242f28db01b7a9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa1aca011f0fd388de242f28db01b7a9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>btr_pcur_open_on_user_rec</b>(i, t, md, l, c, m)&#160;&#160;&#160;<a class="el" href="btr0pcur_8h.html#aa610e42c8a1da1590bc00c3f3fb43e1a">btr_pcur_open_on_user_rec_func</a>(i,t,md,l,c,__FILE__,__LINE__,m)</td></tr>
<tr class="memitem:a56343b5a00c886aa22db9f22416829d0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a56343b5a00c886aa22db9f22416829d0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>btr_pcur_open_at_rnd_pos</b>(i, l, c, m)&#160;&#160;&#160;<a class="el" href="btr0pcur_8ic.html#ad3dc4eb8ae3b3e2f5ace48e78e6052da">btr_pcur_open_at_rnd_pos_func</a>(i,l,c,__FILE__,__LINE__,m)</td></tr>
<tr class="memitem:aeb47a3db96b6001fec9b5d4ea4c4e2d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb47a3db96b6001fec9b5d4ea4c4e2d3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>btr_pcur_restore_position</b>(l, cur, mtr)&#160;&#160;&#160;<a class="el" href="btr0pcur_8h.html#aef3b2271cda3a7b44440d68d5db0ff7a">btr_pcur_restore_position_func</a>(l,cur,__FILE__,__LINE__,mtr)</td></tr>
<tr class="memitem:ac6ffd5904d400346ff6d7f0f877df14f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6ffd5904d400346ff6d7f0f877df14f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BTR_PCUR_OLD_STORED</b>&#160;&#160;&#160;908467085</td></tr>
<tr class="memitem:a9274257f0d0564e2959398505eff9583"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9274257f0d0564e2959398505eff9583"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BTR_PCUR_OLD_NOT_STORED</b>&#160;&#160;&#160;122766467</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a54ddaee0fe5775f601417e6384c00d8f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a54ddaee0fe5775f601417e6384c00d8f">pcur_pos_t</a> { <a class="el" href="btr0pcur_8h.html#a54ddaee0fe5775f601417e6384c00d8fa3b9b0f6bc166d79f65516ac131e40b3e">BTR_PCUR_NOT_POSITIONED</a> =  0, 
<a class="el" href="btr0pcur_8h.html#a54ddaee0fe5775f601417e6384c00d8fa505075e5e387566e9d43d2b74c0ffeaa">BTR_PCUR_WAS_POSITIONED</a>, 
<a class="el" href="btr0pcur_8h.html#a54ddaee0fe5775f601417e6384c00d8fa13fd0eb0082f319ca4032163c07ac131">BTR_PCUR_IS_POSITIONED_OPTIMISTIC</a>, 
<a class="el" href="btr0pcur_8h.html#a54ddaee0fe5775f601417e6384c00d8fa171fc9ed2b8a7cebcb01912cafa1b3b5">BTR_PCUR_IS_POSITIONED</a>
 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2fe9e4474198687dc5406480b803e9ac"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a2fe9e4474198687dc5406480b803e9ac">btr_pcur_create_for_mysql</a> (void)</td></tr>
<tr class="memitem:a8a65ac3e3d1aebfabf88747d1683f24c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a8a65ac3e3d1aebfabf88747d1683f24c">btr_pcur_reset</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:a529c62ff2a334b4c35a22e3ea75330d9"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a529c62ff2a334b4c35a22e3ea75330d9">btr_pcur_free_for_mysql</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:ab7f33b2e3d93bee8e1d47f0a502c1d7e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#ab7f33b2e3d93bee8e1d47f0a502c1d7e">btr_pcur_copy_stored_position</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *pcur_receive, <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *pcur_donate)</td></tr>
<tr class="memitem:a43883f41e284954629684ff5c997121d"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a43883f41e284954629684ff5c997121d">btr_pcur_init</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *pcur)</td></tr>
<tr class="memitem:abce40108bb64522033fd2b9b93e8ba0f"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#abce40108bb64522033fd2b9b93e8ba0f">btr_pcur_open_low</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *index, ulint level, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, ulint mode, ulint latch_mode, <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, const char *file, ulint <a class="el" href="sync0rw_8h.html#a9c7f0c6f9625ecd575d0dc773df2ee08">line</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a8a4872154575c17ed38e6aed790e3965"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a8a4872154575c17ed38e6aed790e3965">btr_pcur_open_with_no_init_func</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *index, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, ulint mode, ulint latch_mode, <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, ulint has_search_latch, const char *file, ulint <a class="el" href="sync0rw_8h.html#a9c7f0c6f9625ecd575d0dc773df2ee08">line</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a82fc0518033f64b79785ad885631ef44"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a82fc0518033f64b79785ad885631ef44">btr_pcur_open_at_index_side</a> (bool from_left, <a class="el" href="structdict__index__t.html">dict_index_t</a> *index, ulint latch_mode, <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *pcur, bool init_pcur, ulint level, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr))</td></tr>
<tr class="memitem:ad1b960dde7bedef570503fa3a9a16001"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#ad1b960dde7bedef570503fa3a9a16001">btr_pcur_get_up_match</a> (const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:a60bdf7c8d00236817f15017ad6bd6e20"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a60bdf7c8d00236817f15017ad6bd6e20">btr_pcur_get_low_match</a> (const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:aa610e42c8a1da1590bc00c3f3fb43e1a"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#aa610e42c8a1da1590bc00c3f3fb43e1a">btr_pcur_open_on_user_rec_func</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *index, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, ulint mode, ulint latch_mode, <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, const char *file, ulint <a class="el" href="sync0rw_8h.html#a9c7f0c6f9625ecd575d0dc773df2ee08">line</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:ad3dc4eb8ae3b3e2f5ace48e78e6052da"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#ad3dc4eb8ae3b3e2f5ace48e78e6052da">btr_pcur_open_at_rnd_pos_func</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *index, ulint latch_mode, <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, const char *file, ulint <a class="el" href="sync0rw_8h.html#a9c7f0c6f9625ecd575d0dc773df2ee08">line</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a983eba395a9a09d22ae26de7ac377c8e"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a983eba395a9a09d22ae26de7ac377c8e">btr_pcur_close</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:af065710ad9556c4100deccc3eba05baf"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#af065710ad9556c4100deccc3eba05baf">btr_pcur_store_position</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:aef3b2271cda3a7b44440d68d5db0ff7a"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#aef3b2271cda3a7b44440d68d5db0ff7a">btr_pcur_restore_position_func</a> (ulint latch_mode, <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, const char *file, ulint <a class="el" href="sync0rw_8h.html#a9c7f0c6f9625ecd575d0dc773df2ee08">line</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a609a450e855d2418f51c7b8411ba9d91"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a609a450e855d2418f51c7b8411ba9d91">btr_pcur_get_rel_pos</a> (const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:a022c98a428da410219327a6498d28928"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a022c98a428da410219327a6498d28928">btr_pcur_commit_specify_mtr</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *pcur, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a7344489149bb4933953ccb2083c033f5"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a7344489149bb4933953ccb2083c033f5">btr_pcur_move_to_next</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a8160a0181865877929231aa3e3131e24"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a8160a0181865877929231aa3e3131e24">btr_pcur_move_to_prev</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a492a6c220011f50170f842139b3b9df6"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a492a6c220011f50170f842139b3b9df6">btr_pcur_move_to_last_on_page</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a03f3948bfc48322eebb2e4e0bfec1844"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a03f3948bfc48322eebb2e4e0bfec1844">btr_pcur_move_to_next_user_rec</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:ac10538472278bdf2a00a1063f5c10e5d"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#ac10538472278bdf2a00a1063f5c10e5d">btr_pcur_move_to_next_page</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a4218019975d61a49ee72cec6d8920fc0"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a4218019975d61a49ee72cec6d8920fc0">btr_pcur_move_backward_from_page</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:abf41f1d2b6015b3f47a199b7ba4aca99"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#abf41f1d2b6015b3f47a199b7ba4aca99">btr_pcur_get_btr_cur</a> (const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:aa5970dc77fd1230ff295aaebc178f964"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="structpage__cur__t.html">page_cur_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#aa5970dc77fd1230ff295aaebc178f964">btr_pcur_get_page_cur</a> (const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:a8df647e1bd7a31e8ad27ef1779233769"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a8df647e1bd7a31e8ad27ef1779233769">btr_pcur_get_page</a> (const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:a9cfd12c4e4fc68d3be073daf60b48cda"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a9cfd12c4e4fc68d3be073daf60b48cda">btr_pcur_get_block</a> (const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:a9b88ba58e09b7bfcd3579cfcaae38e10"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE rec_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a9b88ba58e09b7bfcd3579cfcaae38e10">btr_pcur_get_rec</a> (const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:a151f4975e8dee10eca545ec94e6f7a7b"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a151f4975e8dee10eca545ec94e6f7a7b">btr_pcur_is_on_user_rec</a> (const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:a543621689977423bcf2ba8e4b9c3c9b5"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a543621689977423bcf2ba8e4b9c3c9b5">btr_pcur_is_after_last_on_page</a> (const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:a0be904373099ad85e6c3d8eb1bf6bed0"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a0be904373099ad85e6c3d8eb1bf6bed0">btr_pcur_is_before_first_on_page</a> (const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:aa7f2f9b2442d0bd551a6599532c4df38"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#aa7f2f9b2442d0bd551a6599532c4df38">btr_pcur_is_before_first_in_tree</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:af63da191065fa24119a9d1802b06b0a5"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#af63da191065fa24119a9d1802b06b0a5">btr_pcur_is_after_last_in_tree</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memitem:a4dea56302eab307ced752b885118d0d6"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a4dea56302eab307ced752b885118d0d6">btr_pcur_move_to_next_on_page</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:a55c68a6cd2e5ac1bdc9d49faf7ec2a77"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#a55c68a6cd2e5ac1bdc9d49faf7ec2a77">btr_pcur_move_to_prev_on_page</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
<tr class="memitem:af7574858ce632af495b8e9d4ab1ef3d9"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="btr0pcur_8h.html#af7574858ce632af495b8e9d4ab1ef3d9">btr_pcur_move_before_first_on_page</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The index tree persistent cursor</p>
<p>Created 2/23/1996 Heikki Tuuri </p>
</div><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a54ddaee0fe5775f601417e6384c00d8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="btr0pcur_8h.html#a54ddaee0fe5775f601417e6384c00d8f">pcur_pos_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Position state of persistent B-tree cursor. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a54ddaee0fe5775f601417e6384c00d8fa3b9b0f6bc166d79f65516ac131e40b3e"></a>BTR_PCUR_NOT_POSITIONED</em>&nbsp;</td><td>
<p>The persistent cursor is not positioned. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a54ddaee0fe5775f601417e6384c00d8fa505075e5e387566e9d43d2b74c0ffeaa"></a>BTR_PCUR_WAS_POSITIONED</em>&nbsp;</td><td>
<p>The persistent cursor was previously positioned. TODO: currently, the state can be BTR_PCUR_IS_POSITIONED, though it really should be BTR_PCUR_WAS_POSITIONED, because we have no obligation to commit the cursor with mtr; similarly latch_mode may be out of date. This can lead to problems if btr_pcur is not used the right way; all current code should be ok. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a54ddaee0fe5775f601417e6384c00d8fa13fd0eb0082f319ca4032163c07ac131"></a>BTR_PCUR_IS_POSITIONED_OPTIMISTIC</em>&nbsp;</td><td>
<p>The persistent cursor is positioned by optimistic get to the same record as it was positioned at. Not used for rel_pos == BTR_PCUR_ON. It may need adjustment depending on previous/current search direction and rel_pos. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a54ddaee0fe5775f601417e6384c00d8fa171fc9ed2b8a7cebcb01912cafa1b3b5"></a>BTR_PCUR_IS_POSITIONED</em>&nbsp;</td><td>
<p>The persistent cursor is positioned by index search. Or optimistic get for rel_pos == BTR_PCUR_ON. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="a983eba395a9a09d22ae26de7ac377c8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void btr_pcur_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the possible memory heap of a persistent cursor and sets the latch mode of the persistent cursor to BTR_NO_LATCHES. WARNING: this function does not release the latch on the page where the cursor is currently positioned. The latch is acquired by the "move to next/previous" family of functions. Since recursive shared locks are not allowed, you must take care (if using the cursor in S-mode) to manually release the latch by either calling btr_leaf_page_release(btr_pcur_get_block(&amp;pcur), pcur.latch_mode, mtr) or by committing the mini-transaction right after <a class="el" href="btr0pcur_8h.html#a983eba395a9a09d22ae26de7ac377c8e">btr_pcur_close()</a>. A subsequent attempt to crawl the same page in the same mtr would cause an assertion failure. in: persistent cursor</p>
<p>Frees the possible memory heap of a persistent cursor and sets the latch mode of the persistent cursor to BTR_NO_LATCHES. WARNING: this function does not release the latch on the page where the cursor is currently positioned. The latch is acquired by the "move to next/previous" family of functions. Since recursive shared locks are not allowed, you must take care (if using the cursor in S-mode) to manually release the latch by either calling btr_leaf_page_release(btr_pcur_get_block(&amp;pcur), pcur.latch_mode, mtr) or by committing the mini-transaction right after <a class="el" href="btr0pcur_8h.html#a983eba395a9a09d22ae26de7ac377c8e">btr_pcur_close()</a>. A subsequent attempt to crawl the same page in the same mtr would cause an assertion failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a022c98a428da410219327a6498d28928"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void btr_pcur_commit_specify_mtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>pcur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commits the mtr and sets the pcur latch mode to BTR_NO_LATCHES, that is, the cursor becomes detached. Function btr_pcur_store_position should be used before calling this, if restoration of cursor is wanted later. in: mtr to commit</p>
<p>Commits the mtr and sets the pcur latch mode to BTR_NO_LATCHES, that is, the cursor becomes detached. Function btr_pcur_store_position should be used before calling this, if restoration of cursor is wanted later. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcur</td><td>in: persistent cursor </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr to commit </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab7f33b2e3d93bee8e1d47f0a502c1d7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void btr_pcur_copy_stored_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>pcur_receive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>pcur_donate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copies the stored position of a pcur to another pcur. in: pcur from which the info is copied </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcur_receive</td><td>in: pcur which will receive the position info </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2fe9e4474198687dc5406480b803e9ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a>* btr_pcur_create_for_mysql </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates memory for a persistent cursor object and initializes the cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>own: persistent cursor </dd></dl>

</div>
</div>
<a class="anchor" id="a529c62ff2a334b4c35a22e3ea75330d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void btr_pcur_free_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the memory for a persistent cursor object. in, own: persistent cursor </p>

</div>
</div>
<a class="anchor" id="a9cfd12c4e4fc68d3be073daf60b48cda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="structbuf__block__t.html">buf_block_t</a>* btr_pcur_get_block </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the buffer block of a persistent cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the block in: persistent cursor</dd></dl>
<p>Returns the buffer block of a persistent cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the block </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abf41f1d2b6015b3f47a199b7ba4aca99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="structbtr__cur__t.html">btr_cur_t</a>* btr_pcur_get_btr_cur </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the btr cursor component of a persistent cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to btr cursor component in: persistent cursor</dd></dl>
<p>Returns the btr cursor component of a persistent cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to btr cursor component </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a60bdf7c8d00236817f15017ad6bd6e20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ulint btr_pcur_get_low_match </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the low_match value for a pcur after a search. </p>
<dl class="section return"><dt>Returns</dt><dd>number of matched fields at the cursor or to the right if search mode was PAGE_CUR_LE, otherwise undefined in: persistent cursor</dd></dl>
<p>Gets the low_match value for a pcur after a search. </p>
<dl class="section return"><dt>Returns</dt><dd>number of matched fields at the cursor or to the right if search mode was PAGE_CUR_LE, otherwise undefined </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8df647e1bd7a31e8ad27ef1779233769"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a>* btr_pcur_get_page </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the page of a persistent cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the page in: persistent cursor</dd></dl>
<p>Returns the page of a persistent cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the page </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa5970dc77fd1230ff295aaebc178f964"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="structpage__cur__t.html">page_cur_t</a>* btr_pcur_get_page_cur </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the page cursor component of a persistent cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to page cursor component in: persistent cursor</dd></dl>
<p>Returns the page cursor component of a persistent cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to page cursor component </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9b88ba58e09b7bfcd3579cfcaae38e10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE rec_t* btr_pcur_get_rec </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the record of a persistent cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the record in: persistent cursor</dd></dl>
<p>Returns the record of a persistent cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to the record </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a609a450e855d2418f51c7b8411ba9d91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ulint btr_pcur_get_rel_pos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the rel_pos field for a cursor whose position has been stored. </p>
<dl class="section return"><dt>Returns</dt><dd>BTR_PCUR_ON, ... in: persistent cursor</dd></dl>
<p>Gets the rel_pos field for a cursor whose position has been stored. </p>
<dl class="section return"><dt>Returns</dt><dd>BTR_PCUR_ON, ... </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad1b960dde7bedef570503fa3a9a16001"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ulint btr_pcur_get_up_match </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the up_match value for a pcur after a search. </p>
<dl class="section return"><dt>Returns</dt><dd>number of matched fields at the cursor or to the right if search mode was PAGE_CUR_GE, otherwise undefined in: persistent cursor</dd></dl>
<p>Gets the up_match value for a pcur after a search. </p>
<dl class="section return"><dt>Returns</dt><dd>number of matched fields at the cursor or to the right if search mode was PAGE_CUR_GE, otherwise undefined </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a43883f41e284954629684ff5c997121d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void btr_pcur_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>pcur</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the old_rec_buf field to NULL. in: persistent cursor</p>
<p>Sets the old_rec_buf field to NULL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcur</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af63da191065fa24119a9d1802b06b0a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> btr_pcur_is_after_last_in_tree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the persistent cursor is after the last user record in the index tree. in: mtr</p>
<p>Checks if the persistent cursor is after the last user record in the index tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a543621689977423bcf2ba8e4b9c3c9b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> btr_pcur_is_after_last_on_page </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the persistent cursor is after the last user record on a page. in: persistent cursor</p>
<p>Checks if the persistent cursor is after the last user record on a page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa7f2f9b2442d0bd551a6599532c4df38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> btr_pcur_is_before_first_in_tree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the persistent cursor is before the first user record in the index tree. in: mtr</p>
<p>Checks if the persistent cursor is before the first user record in the index tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0be904373099ad85e6c3d8eb1bf6bed0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> btr_pcur_is_before_first_on_page </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the persistent cursor is before the first user record on a page. in: persistent cursor</p>
<p>Checks if the persistent cursor is before the first user record on a page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a151f4975e8dee10eca545ec94e6f7a7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> btr_pcur_is_on_user_rec </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the persistent cursor is on a user record. in: persistent cursor</p>
<p>Checks if the persistent cursor is on a user record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4218019975d61a49ee72cec6d8920fc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void btr_pcur_move_backward_from_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the persistent cursor backward if it is on the first record of the page. Releases the latch on the current page, and bufferunfixes it. Note that to prevent a possible deadlock, the operation first stores the position of the cursor, releases the leaf latch, acquires necessary latches and restores the cursor position again before returning. The alphabetical position of the cursor is guaranteed to be sensible on return, but it may happen that the cursor is not positioned on the last record of any page, because the structure of the tree may have changed while the cursor had no latches. in: mtr </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor, must be on the first record of the current page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af7574858ce632af495b8e9d4ab1ef3d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void btr_pcur_move_before_first_on_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the persistent cursor to the infimum record on the same page. in/out: persistent cursor</p>
<p>Moves the persistent cursor to the infimum record on the same page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in/out: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a492a6c220011f50170f842139b3b9df6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void btr_pcur_move_to_last_on_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the persistent cursor to the last record on the same page. in: mtr</p>
<p>Moves the persistent cursor to the last record on the same page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7344489149bb4933953ccb2083c033f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> btr_pcur_move_to_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the persistent cursor to the next record in the tree. If no records are left, the cursor stays 'after last in tree'. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the cursor was not after last in tree in: mtr</dd></dl>
<p>Moves the persistent cursor to the next record in the tree. If no records are left, the cursor stays 'after last in tree'. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the cursor was not after last in tree </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor; NOTE that the function may release the page latch </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4dea56302eab307ced752b885118d0d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void btr_pcur_move_to_next_on_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the persistent cursor to the next record on the same page. in/out: persistent cursor</p>
<p>Moves the persistent cursor to the next record on the same page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in/out: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac10538472278bdf2a00a1063f5c10e5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void btr_pcur_move_to_next_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the persistent cursor to the first record on the next page. Releases the latch on the current page, and bufferunfixes it. Note that there must not be modifications on the current page, as then the x-latch can be released only in mtr_commit. in: mtr </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor; must be on the last record of the current page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a03f3948bfc48322eebb2e4e0bfec1844"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> btr_pcur_move_to_next_user_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the persistent cursor to the next user record in the tree. If no user records are left, the cursor ends up 'after last in tree'. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the cursor moved forward, ending on a user record in: mtr</dd></dl>
<p>Moves the persistent cursor to the next user record in the tree. If no user records are left, the cursor ends up 'after last in tree'. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the cursor moved forward, ending on a user record </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor; NOTE that the function may release the page latch </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8160a0181865877929231aa3e3131e24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> btr_pcur_move_to_prev </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the persistent cursor to the previous record in the tree. If no records are left, the cursor stays 'before first in tree'. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the cursor was not before first in tree in: mtr </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor; NOTE that the function may release the page latch </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a55c68a6cd2e5ac1bdc9d49faf7ec2a77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void btr_pcur_move_to_prev_on_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves the persistent cursor to the previous record on the same page. in/out: persistent cursor</p>
<p>Moves the persistent cursor to the previous record on the same page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in/out: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a82fc0518033f64b79785ad885631ef44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void btr_pcur_open_at_index_side </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>from_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>latch_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>pcur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>init_pcur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens a persistent cursor at either end of an index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from_left</td><td>in: true if open to the low end, false if to the high end </td></tr>
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">latch_mode</td><td>in: latch mode </td></tr>
    <tr><td class="paramname">pcur</td><td>in/out: cursor </td></tr>
    <tr><td class="paramname">init_pcur</td><td>in: whether to initialize pcur </td></tr>
    <tr><td class="paramname">level</td><td>in: level to search for (0=leaf) </td></tr>
    <tr><td class="paramname">mtr</td><td>in/out: mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad3dc4eb8ae3b3e2f5ace48e78e6052da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void btr_pcur_open_at_rnd_pos_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>latch_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Positions a cursor at a randomly chosen position within a B-tree. in: mtr</p>
<p>Positions a cursor at a randomly chosen position within a B-tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">latch_mode</td><td>in: BTR_SEARCH_LEAF, ... </td></tr>
    <tr><td class="paramname">cursor</td><td>in/out: B-tree pcur </td></tr>
    <tr><td class="paramname">file</td><td>in: file name </td></tr>
    <tr><td class="paramname">line</td><td>in: line where called </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abce40108bb64522033fd2b9b93e8ba0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void btr_pcur_open_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>latch_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes and opens a persistent cursor to an index tree. It should be closed with btr_pcur_close. in: mtr</p>
<p>Initializes and opens a persistent cursor to an index tree. It should be closed with btr_pcur_close. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">level</td><td>in: level in the btree </td></tr>
    <tr><td class="paramname">tuple</td><td>in: tuple on which search done </td></tr>
    <tr><td class="paramname">mode</td><td>in: PAGE_CUR_L, ...; NOTE that if the search is made using a unique prefix of a record, mode should be PAGE_CUR_LE, not PAGE_CUR_GE, as the latter may end up on the previous page from the record! </td></tr>
    <tr><td class="paramname">latch_mode</td><td>in: BTR_SEARCH_LEAF, ... </td></tr>
    <tr><td class="paramname">cursor</td><td>in: memory buffer for persistent cursor </td></tr>
    <tr><td class="paramname">file</td><td>in: file name </td></tr>
    <tr><td class="paramname">line</td><td>in: line where called </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa610e42c8a1da1590bc00c3f3fb43e1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void btr_pcur_open_on_user_rec_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>latch_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If mode is PAGE_CUR_G or PAGE_CUR_GE, opens a persistent cursor on the first user record satisfying the search condition, in the case PAGE_CUR_L or PAGE_CUR_LE, on the last user record. If no such user record exists, then in the first case sets the cursor after last in tree, and in the latter case before first in tree. The latching mode must be BTR_SEARCH_LEAF or BTR_MODIFY_LEAF. in: mtr </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">tuple</td><td>in: tuple on which search done </td></tr>
    <tr><td class="paramname">mode</td><td>in: PAGE_CUR_L, ... </td></tr>
    <tr><td class="paramname">latch_mode</td><td>in: BTR_SEARCH_LEAF or BTR_MODIFY_LEAF </td></tr>
    <tr><td class="paramname">cursor</td><td>in: memory buffer for persistent cursor </td></tr>
    <tr><td class="paramname">file</td><td>in: file name </td></tr>
    <tr><td class="paramname">line</td><td>in: line where called </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8a4872154575c17ed38e6aed790e3965"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void btr_pcur_open_with_no_init_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>latch_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>has_search_latch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens an persistent cursor to an index tree without initializing the cursor. in: mtr</p>
<p>Opens an persistent cursor to an index tree without initializing the cursor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">tuple</td><td>in: tuple on which search done </td></tr>
    <tr><td class="paramname">mode</td><td>in: PAGE_CUR_L, ...; NOTE that if the search is made using a unique prefix of a record, mode should be PAGE_CUR_LE, not PAGE_CUR_GE, as the latter may end up on the previous page of the record! </td></tr>
    <tr><td class="paramname">latch_mode</td><td>in: BTR_SEARCH_LEAF, ...; NOTE that if has_search_latch != 0 then we maybe do not acquire a latch on the cursor page, but assume that the caller uses his btr search latch to protect the record! </td></tr>
    <tr><td class="paramname">cursor</td><td>in: memory buffer for persistent cursor </td></tr>
    <tr><td class="paramname">has_search_latch</td><td>in: latch mode the caller currently has on btr_search_latch: RW_S_LATCH, or 0 </td></tr>
    <tr><td class="paramname">file</td><td>in: file name </td></tr>
    <tr><td class="paramname">line</td><td>in: line where called </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8a65ac3e3d1aebfabf88747d1683f24c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void btr_pcur_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets a persistent cursor object, freeing ::old_rec_buf if it is allocated and resetting the other members to their initial values. in, out: persistent cursor </p>

</div>
</div>
<a class="anchor" id="aef3b2271cda3a7b44440d68d5db0ff7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> btr_pcur_restore_position_func </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>latch_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restores the stored position of a persistent cursor bufferfixing the page and obtaining the specified latches. If the cursor position was saved when the (1) cursor was positioned on a user record: this function restores the position to the last record LESS OR EQUAL to the stored record; (2) cursor was positioned on a page infimum record: restores the position to the last record LESS than the user record which was the successor of the page infimum; (3) cursor was positioned on the page supremum: restores to the first record GREATER than the user record which was the predecessor of the supremum. (4) cursor was positioned before the first or after the last in an empty tree: restores to before first or after the last in the tree. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the cursor position was stored when it was on a user record and it can be restored on a user record whose ordering fields are identical to the ones of the original user record in: mtr </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">latch_mode</td><td>in: BTR_SEARCH_LEAF, ... </td></tr>
    <tr><td class="paramname">cursor</td><td>in: detached persistent cursor </td></tr>
    <tr><td class="paramname">file</td><td>in: file name </td></tr>
    <tr><td class="paramname">line</td><td>in: line where called </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af065710ad9556c4100deccc3eba05baf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void btr_pcur_store_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The position of the cursor is stored by taking an initial segment of the record the cursor is positioned on, before, or after, and copying it to the cursor data structure, or just setting a flag if the cursor id before the first in an EMPTY tree, or after the last in an EMPTY tree. NOTE that the page where the cursor is positioned must not be empty if the index tree is not totally empty! in: mtr </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in: persistent cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 21 2015 19:14:25 for InnoDB Plugin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
