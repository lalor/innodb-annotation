<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>InnoDB Plugin: trx_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">InnoDB Plugin
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">trx_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="trx0trx_8h_source.html">trx0trx.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for trx_t:</div>
<div class="dyncontent">
<div class="center"><img src="structtrx__t__coll__graph.png" border="0" usemap="#trx__t_coll__map" alt="Collaboration graph"/></div>
<map name="trx__t_coll__map" id="trx__t_coll__map">
<area shape="rect" id="node19" href="structdict__table__t.html" title="dict_table_t" alt="" coords="1227,927,1323,955"/><area shape="rect" id="node30" href="structlock__t.html" title="lock_t" alt="" coords="1792,816,1851,844"/><area shape="rect" id="node59" href="structut__list__node.html" title="ut_list_node\&lt; trx_t \&gt;" alt="" coords="1196,752,1353,780"/><area shape="rect" id="node62" href="structsess__t.html" title="sess_t" alt="" coords="1791,488,1852,516"/><area shape="rect" id="node66" href="structque__fork__t.html" title="que_fork_t" alt="" coords="1231,339,1319,367"/><area shape="rect" id="node75" href="structfts__trx__t.html" title="fts_trx_t" alt="" coords="1237,411,1312,439"/><area shape="rect" id="node2" href="structtrx__undo__arr__t.html" title="trx_undo_arr_t" alt="" coords="563,639,677,667"/><area shape="rect" id="node4" href="structmem__block__info__t.html" title="mem_block_info_t" alt="" coords="211,527,349,555"/><area shape="rect" id="node15" href="structdict__index__t.html" title="dict_index_t" alt="" coords="1519,1028,1617,1056"/><area shape="rect" id="node80" href="structtrx__lock__t.html" title="trx_lock_t" alt="" coords="2032,219,2115,247"/><area shape="rect" id="node6" href="structtrx__undo__inf__t.html" title="trx_undo_inf_t" alt="" coords="224,639,336,667"/><area shape="rect" id="node8" href="structxid__t.html" title="xid_t" alt="" coords="595,872,645,900"/><area shape="rect" id="node48" href="structtrx__undo__t.html" title="trx_undo_t" alt="" coords="2028,995,2119,1023"/><area shape="rect" id="node10" href="structib__vector__t.html" title="ib_vector_t" alt="" coords="575,158,665,186"/><area shape="rect" id="node12" href="structib__alloc__t.html" title="ib_alloc_t" alt="" coords="240,138,320,166"/><area shape="rect" id="node37" href="structut__list__node.html" title="ut_list_node\&lt; dict\l_index_t \&gt;" alt="" coords="1753,986,1889,1030"/><area shape="rect" id="node43" href="structbuf__block__t.html" title="buf_block_t" alt="" coords="1775,1200,1868,1228"/><area shape="rect" id="node17" href="structzip__pad__info__t.html" title="zip_pad_info_t" alt="" coords="1219,1028,1331,1056"/><area shape="rect" id="node21" href="structut__list__base.html" title="ut_list_base\&lt; ib_lock_t \&gt;" alt="" coords="876,254,1057,282"/><area shape="rect" id="node25" href="structib__mutex__t.html" title="ib_mutex_t" alt="" coords="233,1106,327,1134"/><area shape="rect" id="node27" href="structrw__lock__t.html" title="rw_lock_t" alt="" coords="927,1172,1007,1200"/><area shape="rect" id="node55" href="structtrx__rseg__t.html" title="trx_rseg_t" alt="" coords="577,1055,663,1083"/><area shape="rect" id="node35" href="structdict__field__t.html" title="dict_field_t" alt="" coords="1229,1079,1320,1107"/><area shape="rect" id="node41" href="structbtr__search__t.html" title="btr_search_t" alt="" coords="2023,1164,2124,1192"/><area shape="rect" id="node50" href="structut__list__node.html" title="ut_list_node\&lt; trx_undo_t \&gt;" alt="" coords="2235,996,2432,1024"/><area shape="rect" id="node64" href="structut__list__base.html" title="ut_list_base\&lt; que_t \&gt;" alt="" coords="1487,428,1649,456"/><area shape="rect" id="node71" href="structque__thr__t.html" title="que_thr_t" alt="" coords="1527,292,1609,320"/><area shape="rect" id="node87" href="structtrx__savept__t.html" title="trx_savept_t" alt="" coords="5,224,107,252"/><area shape="rect" id="node91" href="structtrx__named__savept__t.html" title="trx_named_savept_t" alt="" coords="204,196,356,224"/><area shape="rect" id="node89" href="structut__list__base.html" title="ut_list_base\&lt; trx_named\l_savept_t \&gt;" alt="" coords="529,355,711,399"/><area shape="rect" id="node97" href="structread__view__t.html" title="read_view_t" alt="" coords="572,588,668,616"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a14010a79d91496eef11ef92a15a21bef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14010a79d91496eef11ef92a15a21bef"></a>
ulint&#160;</td><td class="memItemRight" valign="bottom"><b>magic_n</b></td></tr>
<tr class="memitem:aea04c751aa48ef4eaddade1d4627ec32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structib__mutex__t.html">ib_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#aea04c751aa48ef4eaddade1d4627ec32">mutex</a></td></tr>
<tr class="memitem:a5d0ace463c8eb18ed152f9400395a308"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfe">trx_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a5d0ace463c8eb18ed152f9400395a308">state</a></td></tr>
<tr class="memitem:af30d46c475f9c53eb258989c6acdfef6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__lock__t.html">trx_lock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#af30d46c475f9c53eb258989c6acdfef6">lock</a></td></tr>
<tr class="memitem:a8c0606f8d57cbbd4a27d67dde090e151"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a8c0606f8d57cbbd4a27d67dde090e151">is_recovered</a></td></tr>
<tr class="memitem:a023389350da41bea69078545e494655c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a023389350da41bea69078545e494655c">op_info</a></td></tr>
<tr class="memitem:a031c9cbd7de217c5ffb61294833a819e"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a031c9cbd7de217c5ffb61294833a819e">isolation_level</a></td></tr>
<tr class="memitem:a7b6f6f4cd25170b48bed1174f4e001e4"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a7b6f6f4cd25170b48bed1174f4e001e4">check_foreigns</a></td></tr>
<tr class="memitem:a3647dfe25f9eb21077417b71a54ef515"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3647dfe25f9eb21077417b71a54ef515"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>is_registered</b>:1</td></tr>
<tr class="memitem:a901ff4e40320ed84fe857f7a8953abc8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a901ff4e40320ed84fe857f7a8953abc8"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>owns_prepare_mutex</b>:1</td></tr>
<tr class="memitem:a3451dac7a2bcec94e2c48f6fddbdc269"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a3451dac7a2bcec94e2c48f6fddbdc269">check_unique_secondary</a></td></tr>
<tr class="memitem:af3ee1c0f986b865048c0bc5a730c3b6d"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#af3ee1c0f986b865048c0bc5a730c3b6d">support_xa</a></td></tr>
<tr class="memitem:a5f552543ecf28bfd6fa0d163a10c5e44"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f552543ecf28bfd6fa0d163a10c5e44"></a>
ulint&#160;</td><td class="memItemRight" valign="bottom"><b>flush_log_later</b></td></tr>
<tr class="memitem:ac3eed6790f19e380a75e3f656a32b0ec"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#ac3eed6790f19e380a75e3f656a32b0ec">must_flush_log_later</a></td></tr>
<tr class="memitem:ae91a15f52a6360b5eac2dabec3b72e51"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#ae91a15f52a6360b5eac2dabec3b72e51">duplicates</a></td></tr>
<tr class="memitem:a0395d2ee2ba8b1308e2f0af99f05cbe8"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a0395d2ee2ba8b1308e2f0af99f05cbe8">has_search_latch</a></td></tr>
<tr class="memitem:a2a15b6767ea196005d82e003f36ef4bb"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a2a15b6767ea196005d82e003f36ef4bb">search_latch_timeout</a></td></tr>
<tr class="memitem:a2e030f01e44726f7ae3049c77f4c07e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a2e030f01e44726f7ae3049c77f4c07e8">dict_operation</a></td></tr>
<tr class="memitem:a8bd4b16a48da6cfb3ab72617fd2aabfd"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a8bd4b16a48da6cfb3ab72617fd2aabfd">declared_to_be_inside_innodb</a></td></tr>
<tr class="memitem:a3595fec12f3ebe20e0c86a00d21a7467"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a3595fec12f3ebe20e0c86a00d21a7467">n_tickets_to_enter_innodb</a></td></tr>
<tr class="memitem:a49a0c797290155d3ee11c2fb8f53b719"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a49a0c797290155d3ee11c2fb8f53b719">dict_operation_lock_mode</a></td></tr>
<tr class="memitem:ae402b5cd189094a817150f921246ad13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#ae402b5cd189094a817150f921246ad13">no</a></td></tr>
<tr class="memitem:a184ca1bd5d1d1b627567dd41def4fdf6"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a184ca1bd5d1d1b627567dd41def4fdf6">start_time</a></td></tr>
<tr class="memitem:ac338a1e2873f7bdd52ac2d9929946ed9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#ac338a1e2873f7bdd52ac2d9929946ed9">id</a></td></tr>
<tr class="memitem:a8bedbcbf543d955c5fd2d34f352fcee1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structxid__t.html">XID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a8bedbcbf543d955c5fd2d34f352fcee1">xid</a></td></tr>
<tr class="memitem:ab28ecf315b8371f05688c0da4756ad56"><td class="memItemLeft" align="right" valign="top">lsn_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#ab28ecf315b8371f05688c0da4756ad56">commit_lsn</a></td></tr>
<tr class="memitem:aa05f97f174e5c96276f2925aadf6ee6d"><td class="memItemLeft" align="right" valign="top">table_id_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#aa05f97f174e5c96276f2925aadf6ee6d">table_id</a></td></tr>
<tr class="memitem:a32585bbb70013a866ce34d8962d9745b"><td class="memItemLeft" align="right" valign="top">THD *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a32585bbb70013a866ce34d8962d9745b">mysql_thd</a></td></tr>
<tr class="memitem:a4cd491491a8ecbd5b4d763cc84b7ca74"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a4cd491491a8ecbd5b4d763cc84b7ca74">mysql_log_file_name</a></td></tr>
<tr class="memitem:aa11c3ca8a469d778c836de1047bb7752"><td class="memItemLeft" align="right" valign="top">ib_int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#aa11c3ca8a469d778c836de1047bb7752">mysql_log_offset</a></td></tr>
<tr class="memitem:a82097a28749621086d8b156419700fbf"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a82097a28749621086d8b156419700fbf">n_mysql_tables_in_use</a></td></tr>
<tr class="memitem:a1a522e24de4beb014a9a8433362e4bf8"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a1a522e24de4beb014a9a8433362e4bf8">mysql_n_tables_locked</a></td></tr>
<tr class="memitem:a1b09639e941e9bacf9cfe66a88320984"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structut__list__node.html">ut_list_node</a>&lt; <a class="el" href="structtrx__t.html">trx_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a1b09639e941e9bacf9cfe66a88320984">trx_list</a></td></tr>
<tr class="memitem:ac815fe29ba50636e6fc4b3df1af5c111"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structut__list__node.html">ut_list_node</a>&lt; <a class="el" href="structtrx__t.html">trx_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#ac815fe29ba50636e6fc4b3df1af5c111">mysql_trx_list</a></td></tr>
<tr class="memitem:a7ae0875b1175a351e887f47cbd8bd168"><td class="memItemLeft" align="right" valign="top"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a7ae0875b1175a351e887f47cbd8bd168">in_mysql_trx_list</a></td></tr>
<tr class="memitem:ae2412d7b54b8f8c98a0ae6195d37779c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#ae2412d7b54b8f8c98a0ae6195d37779c">error_state</a></td></tr>
<tr class="memitem:abe25bc506dc71d06ae62450723280c9f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#abe25bc506dc71d06ae62450723280c9f">error_info</a></td></tr>
<tr class="memitem:afaad1dded74040c39906bc5421d15320"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#afaad1dded74040c39906bc5421d15320">error_key_num</a></td></tr>
<tr class="memitem:aea1d5a0e80d35afbdadedd59d9bafe16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsess__t.html">sess_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#aea1d5a0e80d35afbdadedd59d9bafe16">sess</a></td></tr>
<tr class="memitem:a457f9022ae67faf4b8034828367eaa83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structque__fork__t.html">que_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a457f9022ae67faf4b8034828367eaa83">graph</a></td></tr>
<tr class="memitem:ad11516823106dc7f95631e5e37ecbc71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#ad11516823106dc7f95631e5e37ecbc71">global_read_view_heap</a></td></tr>
<tr class="memitem:a9430393af173f6be3b2381da16a7c625"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structread__view__t.html">read_view_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a9430393af173f6be3b2381da16a7c625">global_read_view</a></td></tr>
<tr class="memitem:adbcaa3a0007a7adaca4f001b9c786ffa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structread__view__t.html">read_view_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#adbcaa3a0007a7adaca4f001b9c786ffa">read_view</a></td></tr>
<tr class="memitem:a39529873839b1c78a545faf7265e4d9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structut__list__base.html">ut_list_base</a>&lt; <a class="el" href="structtrx__named__savept__t.html">trx_named_savept_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a39529873839b1c78a545faf7265e4d9b">trx_savepoints</a></td></tr>
<tr class="memitem:a7b26150c485183c26eabab6328ffd132"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structib__mutex__t.html">ib_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a7b26150c485183c26eabab6328ffd132">undo_mutex</a></td></tr>
<tr class="memitem:a392f340e0e9a4559f562d77e7bcf545e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a392f340e0e9a4559f562d77e7bcf545e">undo_no</a></td></tr>
<tr class="memitem:abea5f0bd641a682d22adf945256e7c09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__savept__t.html">trx_savept_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#abea5f0bd641a682d22adf945256e7c09">last_sql_stat_start</a></td></tr>
<tr class="memitem:afcc32812eee98f260cbdca7833fa8ecf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#afcc32812eee98f260cbdca7833fa8ecf">rseg</a></td></tr>
<tr class="memitem:a65b9084a8526cb0261d5b4f4c73f6189"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a65b9084a8526cb0261d5b4f4c73f6189">insert_undo</a></td></tr>
<tr class="memitem:a27e76c3f51d3680f02e8142c7565be7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a27e76c3f51d3680f02e8142c7565be7c">update_undo</a></td></tr>
<tr class="memitem:a95e1d10148105b191eb0f006d2746111"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a95e1d10148105b191eb0f006d2746111">roll_limit</a></td></tr>
<tr class="memitem:a7fc2b40c5715569716756de6471f2dee"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a7fc2b40c5715569716756de6471f2dee">pages_undone</a></td></tr>
<tr class="memitem:a2cf723fb71bd94c2356f1ce7639bb3bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__undo__arr__t.html">trx_undo_arr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a2cf723fb71bd94c2356f1ce7639bb3bf">undo_no_arr</a></td></tr>
<tr class="memitem:a15709656eb05fd1d83aba4f7442eca0b"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a15709656eb05fd1d83aba4f7442eca0b">n_autoinc_rows</a></td></tr>
<tr class="memitem:a2d29e812f0eca56d446d077537f361ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d29e812f0eca56d446d077537f361ed"></a>
<a class="el" href="structib__vector__t.html">ib_vector_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>autoinc_locks</b></td></tr>
<tr class="memitem:aa1a8522a668efa65ed997749db76bb41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#aa1a8522a668efa65ed997749db76bb41">read_only</a></td></tr>
<tr class="memitem:a0bd7da91fcb9b8f8bd789ea987858bca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a0bd7da91fcb9b8f8bd789ea987858bca">auto_commit</a></td></tr>
<tr class="memitem:a444294356e7fc5f7f9fda3379e1c75a7"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a444294356e7fc5f7f9fda3379e1c75a7">will_lock</a></td></tr>
<tr class="memitem:a0e705574e20caa3da51d473b9700bc76"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a0e705574e20caa3da51d473b9700bc76">ddl</a></td></tr>
<tr class="memitem:a382fc29c69cb04b73b4dfc2200237709"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfts__trx__t.html">fts_trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a382fc29c69cb04b73b4dfc2200237709">fts_trx</a></td></tr>
<tr class="memitem:a4bb27b88bf50850a7d8da80086fa425b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4bb27b88bf50850a7d8da80086fa425b"></a>
<a class="el" href="fts0fts_8h.html#a380910af8d69503a3e3dcbf6d809a3b6">doc_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>fts_next_doc_id</b></td></tr>
<tr class="memitem:a155f048020275a9984330b8aa150a723"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a155f048020275a9984330b8aa150a723">flush_tables</a></td></tr>
<tr class="memitem:a3f3e4d250ee898561beef24a088b2911"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a3f3e4d250ee898561beef24a088b2911">start_line</a></td></tr>
<tr class="memitem:aacee494a37d619509b24a4cf07db7656"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#aacee494a37d619509b24a4cf07db7656">start_file</a></td></tr>
<tr class="memitem:ace2cb07011f4c03e0b72fa5290376620"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#ace2cb07011f4c03e0b72fa5290376620">api_trx</a></td></tr>
<tr class="memitem:a715abb1adae35ae188028cd9d4453157"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a715abb1adae35ae188028cd9d4453157">api_auto_commit</a></td></tr>
<tr class="memitem:aedf3ed571c05d89fc0218d03d82abe25"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#aedf3ed571c05d89fc0218d03d82abe25">read_write</a></td></tr>
<tr class="memitem:af9b7e92f53fda6a417a251e4ffa16a6c"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#af9b7e92f53fda6a417a251e4ffa16a6c">detailed_error</a> [256]</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a6617d1252377ac5fb9c8c89ecd31acb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#a6617d1252377ac5fb9c8c89ecd31acb3">in_ro_trx_list</a></td></tr>
<tr class="memitem:ab75ac009aada32834811e350e116c782"><td class="memItemLeft" align="right" valign="top"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html#ab75ac009aada32834811e350e116c782">in_rw_trx_list</a></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><pre class="fragment">The transaction handle
</pre><p>Normally, there is a 1:1 relationship between a transaction handle (trx) and a session (client connection). One session is associated with exactly one user transaction. There are some exceptions to this:</p>
<p>For DDL operations, a subtransaction is allocated that modifies the data dictionary tables. Lock waits and deadlocks are prevented by acquiring the dict_operation_lock before starting the subtransaction and releasing it after committing the subtransaction.</p>
<p>The purge system uses a special transaction that is not associated with any session.</p>
<p>If the system crashed or it was quickly shut down while there were transactions in the ACTIVE or PREPARED state, these transactions would no longer be associated with a session when the server is restarted.</p>
<p>A session may be served by at most one thread at a time. The serving thread of a session might change in some MySQL implementations. Therefore we do not have <a class="el" href="os0thread_8h.html#ab7421340fd22f4b1e15117675b7c0409">os_thread_get_curr_id()</a> assertions in the code.</p>
<p>Normally, only the thread that is currently associated with a running transaction may access (read and modify) the trx object, and it may do so without holding any mutex. The following are exceptions to this:</p>
<p>trx_rollback_resurrected() may access resurrected (connectionless) transactions while the system is already processing new user transactions. The trx_sys-&gt;mutex prevents a race condition between it and <a class="el" href="lock0lock_8h.html#af056c93107ab266face88ec37bae94c7">lock_trx_release_locks()</a> [invoked by <a class="el" href="trx0trx_8h.html#a16c370ac6000099c5f59eff367c8d9eb">trx_commit()</a>].</p>
<p><a class="el" href="trx0trx_8h.html#a892459929b39fc891a820ed50e93ca20">trx_print_low()</a> may access transactions not associated with the current thread. The caller must be holding trx_sys-&gt;mutex and lock_sys-&gt;mutex.</p>
<p>When a transaction handle is in the trx_sys-&gt;mysql_trx_list or trx_sys-&gt;trx_list, some of its fields must not be modified without holding trx_sys-&gt;mutex exclusively.</p>
<p>The locking code (in particular, lock_deadlock_recursive() and lock_rec_convert_impl_to_expl()) will access transactions associated to other connections. The locks of transactions are protected by lock_sys-&gt;mutex and sometimes by trx-&gt;mutex. </p>
</div><h2>Field Documentation</h2>
<a class="anchor" id="a715abb1adae35ae188028cd9d4453157"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trx_t::api_auto_commit</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>automatic commit </p>

</div>
</div>
<a class="anchor" id="ace2cb07011f4c03e0b72fa5290376620"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trx_t::api_trx</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>trx started by InnoDB API </p>

</div>
</div>
<a class="anchor" id="a0bd7da91fcb9b8f8bd789ea987858bca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> trx_t::auto_commit</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TRUE if it is an autocommit </p>

</div>
</div>
<a class="anchor" id="a7b6f6f4cd25170b48bed1174f4e001e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::check_foreigns</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>normally TRUE, but if the user wants to suppress foreign key checks, (in table imports, for example) we set this FALSE </p>

</div>
</div>
<a class="anchor" id="a3451dac7a2bcec94e2c48f6fddbdc269"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::check_unique_secondary</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>normally TRUE, but if the user wants to speed up inserts by suppressing unique key checks for secondary indexes when we decide if we can use the insert buffer for them, we set this FALSE </p>

</div>
</div>
<a class="anchor" id="ab28ecf315b8371f05688c0da4756ad56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lsn_t trx_t::commit_lsn</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>lsn at the time of the commit </p>

</div>
</div>
<a class="anchor" id="a0e705574e20caa3da51d473b9700bc76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trx_t::ddl</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>true if it is a transaction that is being started for a DDL operation </p>

</div>
</div>
<a class="anchor" id="a8bd4b16a48da6cfb3ab72617fd2aabfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::declared_to_be_inside_innodb</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this is TRUE if we have declared this transaction in srv_conc_enter_innodb to be inside the InnoDB engine </p>

</div>
</div>
<a class="anchor" id="af9b7e92f53fda6a417a251e4ffa16a6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char trx_t::detailed_error[256]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>detailed error message for last error, or empty. </p>

</div>
</div>
<a class="anchor" id="a2e030f01e44726f7ae3049c77f4c07e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a> trx_t::dict_operation</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See Also</dt><dd>enum trx_dict_op </dd></dl>

</div>
</div>
<a class="anchor" id="a49a0c797290155d3ee11c2fb8f53b719"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::dict_operation_lock_mode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>0, RW_S_LATCH, or RW_X_LATCH: the latch mode trx currently holds on dict_operation_lock. Protected by dict_operation_lock. </p>

</div>
</div>
<a class="anchor" id="ae91a15f52a6360b5eac2dabec3b72e51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::duplicates</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TRX_DUP_IGNORE | TRX_DUP_REPLACE </p>

</div>
</div>
<a class="anchor" id="abe25bc506dc71d06ae62450723280c9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structdict__index__t.html">dict_index_t</a>* trx_t::error_info</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>if the error number indicates a duplicate key error, a pointer to the problematic index is stored here </p>

</div>
</div>
<a class="anchor" id="afaad1dded74040c39906bc5421d15320"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::error_key_num</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>if the index creation fails to a duplicate key error, a mysql key number of that index is stored here </p>

</div>
</div>
<a class="anchor" id="ae2412d7b54b8f8c98a0ae6195d37779c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_t::error_state</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>0 if no error, otherwise error number; NOTE That ONLY the thread doing the transaction is allowed to set this field: this is NOT protected by any mutex </p>

</div>
</div>
<a class="anchor" id="a155f048020275a9984330b8aa150a723"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::flush_tables</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>if "covering" the FLUSH TABLES", count of tables being flushed. </p>

</div>
</div>
<a class="anchor" id="a382fc29c69cb04b73b4dfc2200237709"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfts__trx__t.html">fts_trx_t</a>* trx_t::fts_trx</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>FTS information, or NULL if transaction hasn't modified tables with FTS indexes (yet). </p>

</div>
</div>
<a class="anchor" id="a9430393af173f6be3b2381da16a7c625"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structread__view__t.html">read_view_t</a>* trx_t::global_read_view</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>consistent read view associated to a transaction or NULL </p>

</div>
</div>
<a class="anchor" id="ad11516823106dc7f95631e5e37ecbc71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmem__block__info__t.html">mem_heap_t</a>* trx_t::global_read_view_heap</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>memory heap for the global read view </p>

</div>
</div>
<a class="anchor" id="a457f9022ae67faf4b8034828367eaa83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structque__fork__t.html">que_t</a>* trx_t::graph</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>query currently run in the session, or NULL if none; NOTE that the query belongs to the session, and it can survive over a transaction commit, if it is a stored procedure with a COMMIT WORK statement, for instance </p>

</div>
</div>
<a class="anchor" id="a0395d2ee2ba8b1308e2f0af99f05cbe8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::has_search_latch</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TRUE if this trx has latched the search system latch in S-mode </p>

</div>
</div>
<a class="anchor" id="ac338a1e2873f7bdd52ac2d9929946ed9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_t::id</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>transaction id </p>

</div>
</div>
<a class="anchor" id="a7ae0875b1175a351e887f47cbd8bd168"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> trx_t::in_mysql_trx_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TRUE if in trx_sys-&gt;mysql_trx_list </p>

</div>
</div>
<a class="anchor" id="a6617d1252377ac5fb9c8c89ecd31acb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> trx_t::in_ro_trx_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The following two fields are mutually exclusive. TRUE if in trx_sys-&gt;ro_trx_list </p>

</div>
</div>
<a class="anchor" id="ab75ac009aada32834811e350e116c782"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> trx_t::in_rw_trx_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TRUE if in trx_sys-&gt;rw_trx_list </p>

</div>
</div>
<a class="anchor" id="a65b9084a8526cb0261d5b4f4c73f6189"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a>* trx_t::insert_undo</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pointer to the insert undo log, or NULL if no inserts performed yet </p>

</div>
</div>
<a class="anchor" id="a8c0606f8d57cbbd4a27d67dde090e151"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::is_recovered</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>0=normal transaction, 1=recovered, must be rolled back, protected by trx_sys-&gt;mutex when trx-&gt;in_rw_trx_list holds </p>

</div>
</div>
<a class="anchor" id="a031c9cbd7de217c5ffb61294833a819e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::isolation_level</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TRX_ISO_REPEATABLE_READ, ... </p>

</div>
</div>
<a class="anchor" id="abea5f0bd641a682d22adf945256e7c09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__savept__t.html">trx_savept_t</a> trx_t::last_sql_stat_start</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>undo_no when the last sql statement was started: in case of an error, trx is rolled back down to this undo number; see note at undo_mutex! </p>

</div>
</div>
<a class="anchor" id="af30d46c475f9c53eb258989c6acdfef6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__lock__t.html">trx_lock_t</a> trx_t::lock</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Information about the transaction locks and state. Protected by trx-&gt;mutex or lock_sys-&gt;mutex or both </p>

</div>
</div>
<a class="anchor" id="ac3eed6790f19e380a75e3f656a32b0ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::must_flush_log_later</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this flag is set to TRUE in <a class="el" href="trx0trx_8h.html#a16c370ac6000099c5f59eff367c8d9eb">trx_commit()</a> if flush_log_later was TRUE, and there were modifications by the transaction; in that case we must flush the log in <a class="el" href="trx0trx_8h.html#a0b22c47b78ad315055c97ff5d6158103">trx_commit_complete_for_mysql()</a> </p>

</div>
</div>
<a class="anchor" id="aea04c751aa48ef4eaddade1d4627ec32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structib__mutex__t.html">ib_mutex_t</a> trx_t::mutex</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mutex protecting the fields state and lock (except some fields of lock, which are protected by lock_sys-&gt;mutex) </p>

</div>
</div>
<a class="anchor" id="a4cd491491a8ecbd5b4d763cc84b7ca74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* trx_t::mysql_log_file_name</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>if MySQL binlog is used, this field contains a pointer to the latest file name; this is NULL if binlog is not used </p>

</div>
</div>
<a class="anchor" id="aa11c3ca8a469d778c836de1047bb7752"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ib_int64_t trx_t::mysql_log_offset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>if MySQL binlog is used, this field contains the end offset of the binlog entry </p>

</div>
</div>
<a class="anchor" id="a1a522e24de4beb014a9a8433362e4bf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::mysql_n_tables_locked</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>how many tables the current SQL statement uses, except those in consistent read </p>

</div>
</div>
<a class="anchor" id="a32585bbb70013a866ce34d8962d9745b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">THD* trx_t::mysql_thd</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MySQL thread handle corresponding to this trx, or NULL </p>

</div>
</div>
<a class="anchor" id="ac815fe29ba50636e6fc4b3df1af5c111"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structut__list__node.html">ut_list_node</a>&lt; <a class="el" href="structtrx__t.html">trx_t</a> &gt; trx_t::mysql_trx_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>list of transactions created for MySQL; protected by trx_sys-&gt;mutex </p>

</div>
</div>
<a class="anchor" id="a15709656eb05fd1d83aba4f7442eca0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::n_autoinc_rows</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>no. of AUTO-INC rows required for an SQL statement. This is useful for multi-row INSERTs </p>

</div>
</div>
<a class="anchor" id="a82097a28749621086d8b156419700fbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::n_mysql_tables_in_use</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>number of Innobase tables used in the processing of the current SQL statement in MySQL </p>

</div>
</div>
<a class="anchor" id="a3595fec12f3ebe20e0c86a00d21a7467"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::n_tickets_to_enter_innodb</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>this can be &gt; 0 only when declared_to_... is TRUE; when we come to srv_conc_innodb_enter, if the value here is &gt; 0, we decrement this by 1 </p>

</div>
</div>
<a class="anchor" id="ae402b5cd189094a817150f921246ad13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_t::no</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>transaction serialization number: max trx id shortly before the transaction is moved to COMMITTED_IN_MEMORY state. Protected by <a class="el" href="structtrx__sys__t.html#a163b5ed9c772c2bc25419ef691cbb43f">trx_sys_t::mutex</a> when trx-&gt;in_rw_trx_list. Initially set to TRX_ID_MAX. </p>

</div>
</div>
<a class="anchor" id="a023389350da41bea69078545e494655c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* trx_t::op_info</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>English text describing the current operation, or an empty string </p>

</div>
</div>
<a class="anchor" id="a7fc2b40c5715569716756de6471f2dee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::pages_undone</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>number of undo log pages undone since the last undo log truncation </p>

</div>
</div>
<a class="anchor" id="aa1a8522a668efa65ed997749db76bb41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="univ_8i.html#ab71ee9e321c01cd32b9facc463e1c8d2">ibool</a> trx_t::read_only</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TRUE if transaction is flagged as a READ-ONLY transaction. if !auto_commit || will_lock &gt; 0 then it will added to the list <a class="el" href="structtrx__sys__t.html#af6e353ff8306c8b2903e26c53e957e7c">trx_sys_t::ro_trx_list</a>. A read only transaction will not be assigned an UNDO log. Non-locking auto-commit read-only transaction will not be on either list. </p>

</div>
</div>
<a class="anchor" id="adbcaa3a0007a7adaca4f001b9c786ffa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structread__view__t.html">read_view_t</a>* trx_t::read_view</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>consistent read view used in the transaction or NULL, this read view if defined can be normal read view associated to a transaction (i.e. same as global_read_view) or read view associated to a cursor </p>

</div>
</div>
<a class="anchor" id="aedf3ed571c05d89fc0218d03d82abe25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trx_t::read_write</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>if read and write operation </p>

</div>
</div>
<a class="anchor" id="a95e1d10148105b191eb0f006d2746111"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a> trx_t::roll_limit</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>least undo number to undo during a rollback </p>

</div>
</div>
<a class="anchor" id="afcc32812eee98f260cbdca7833fa8ecf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a>* trx_t::rseg</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>rollback segment assigned to the transaction, or NULL if not assigned yet </p>

</div>
</div>
<a class="anchor" id="a2a15b6767ea196005d82e003f36ef4bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::search_latch_timeout</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If we notice that someone is waiting for our S-lock on the search latch to be released, we wait in row0sel.cc for BTR_SEA_TIMEOUT new searches until we try to keep the search latch again over calls from MySQL; this is intended to reduce contention on the search latch </p>

</div>
</div>
<a class="anchor" id="aea1d5a0e80d35afbdadedd59d9bafe16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsess__t.html">sess_t</a>* trx_t::sess</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>session of the trx, NULL if none </p>

</div>
</div>
<a class="anchor" id="aacee494a37d619509b24a4cf07db7656"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* trx_t::start_file</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Filename where it was started </p>

</div>
</div>
<a class="anchor" id="a3f3e4d250ee898561beef24a088b2911"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::start_line</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Track where it was started from </p>

</div>
</div>
<a class="anchor" id="a184ca1bd5d1d1b627567dd41def4fdf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t trx_t::start_time</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>time the trx state last time became TRX_STATE_ACTIVE </p>

</div>
</div>
<a class="anchor" id="a5d0ace463c8eb18ed152f9400395a308"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfe">trx_state_t</a> trx_t::state</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">State of the trx from the point of view of concurrency control
</pre><p> and the valid state transitions.</p>
<p>Possible states:</p>
<p>TRX_STATE_NOT_STARTED TRX_STATE_ACTIVE TRX_STATE_PREPARED TRX_STATE_COMMITTED_IN_MEMORY (alias below COMMITTED)</p>
<p>Valid state transitions are:</p>
<p>Regular transactions: NOT_STARTED -&gt; ACTIVE -&gt; COMMITTED -&gt; NOT_STARTED</p>
<p>Auto-commit non-locking read-only: NOT_STARTED -&gt; ACTIVE -&gt; NOT_STARTED</p>
<p>XA (2PC): NOT_STARTED -&gt; ACTIVE -&gt; PREPARED -&gt; COMMITTED -&gt; NOT_STARTED</p>
<p>Recovered XA: NOT_STARTED -&gt; PREPARED -&gt; COMMITTED -&gt; (freed)</p>
<p>XA (2PC) (shutdown before ROLLBACK or COMMIT): NOT_STARTED -&gt; PREPARED -&gt; (freed)</p>
<p>Latching and various transaction lists membership rules:</p>
<p>XA (2PC) transactions are always treated as non-autocommit.</p>
<p>Transitions to ACTIVE or NOT_STARTED occur when !in_rw_trx_list and !in_ro_trx_list (no trx_sys-&gt;mutex needed).</p>
<p>Autocommit non-locking read-only transactions move between states without holding any mutex. They are !in_rw_trx_list, !in_ro_trx_list.</p>
<p>When a transaction is NOT_STARTED, it can be in_mysql_trx_list if it is a user transaction. It cannot be in ro_trx_list or rw_trx_list.</p>
<p>ACTIVE-&gt;PREPARED-&gt;COMMITTED is only possible when trx-&gt;in_rw_trx_list. The transition ACTIVE-&gt;PREPARED is protected by trx_sys-&gt;mutex.</p>
<p>ACTIVE-&gt;COMMITTED is possible when the transaction is in ro_trx_list or rw_trx_list.</p>
<p>Transitions to COMMITTED are protected by both lock_sys-&gt;mutex and trx-&gt;mutex.</p>
<p>NOTE: Some of these state change constraints are an overkill, currently only required for a consistent view for printing stats. This unnecessarily adds a huge cost for the general case.</p>
<p>NOTE: In the future we should add read only transactions to the ro_trx_list the first time they try to acquire a lock ie. by default we treat all read-only transactions as non-locking. </p>

</div>
</div>
<a class="anchor" id="af3ee1c0f986b865048c0bc5a730c3b6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::support_xa</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>normally we do the XA two-phase commit steps, but by setting this to FALSE, one can save CPU time and about 150 bytes in the undo log size as then we skip XA steps </p>

</div>
</div>
<a class="anchor" id="aa05f97f174e5c96276f2925aadf6ee6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">table_id_t trx_t::table_id</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Table to drop iff dict_operation == TRX_DICT_OP_TABLE, or 0. </p>

</div>
</div>
<a class="anchor" id="a1b09639e941e9bacf9cfe66a88320984"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structut__list__node.html">ut_list_node</a>&lt; <a class="el" href="structtrx__t.html">trx_t</a> &gt; trx_t::trx_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>list of transactions; protected by trx_sys-&gt;mutex. The same node is used for both <a class="el" href="structtrx__sys__t.html#af6e353ff8306c8b2903e26c53e957e7c">trx_sys_t::ro_trx_list</a> and <a class="el" href="structtrx__sys__t.html#a89d0fe0ecefcf1d9466d0d63b97b084a">trx_sys_t::rw_trx_list</a> </p>

</div>
</div>
<a class="anchor" id="a39529873839b1c78a545faf7265e4d9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structut__list__base.html">ut_list_base</a>&lt; <a class="el" href="structtrx__named__savept__t.html">trx_named_savept_t</a> &gt; trx_t::trx_savepoints</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>savepoints set with SAVEPOINT ..., oldest first </p>

</div>
</div>
<a class="anchor" id="a7b26150c485183c26eabab6328ffd132"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structib__mutex__t.html">ib_mutex_t</a> trx_t::undo_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mutex protecting the fields in this section (down to undo_no_arr), EXCEPT last_sql_stat_start, which can be accessed only when we know that there cannot be any activity in the undo logs! </p>

</div>
</div>
<a class="anchor" id="a392f340e0e9a4559f562d77e7bcf545e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a> trx_t::undo_no</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>next undo log record number to assign; since the undo log is private for a transaction, this is a simple ascending sequence with no gaps; thus it represents the number of modified/inserted rows in a transaction </p>

</div>
</div>
<a class="anchor" id="a2cf723fb71bd94c2356f1ce7639bb3bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__undo__arr__t.html">trx_undo_arr_t</a>* trx_t::undo_no_arr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>array of undo numbers of undo log records which are currently processed by a rollback operation </p>

</div>
</div>
<a class="anchor" id="a27e76c3f51d3680f02e8142c7565be7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a>* trx_t::update_undo</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pointer to the update undo log, or NULL if no update performed yet </p>

</div>
</div>
<a class="anchor" id="a444294356e7fc5f7f9fda3379e1c75a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_t::will_lock</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Will acquire some locks. Increment each time we determine that a lock will be acquired by the MySQL layer. </p>

</div>
</div>
<a class="anchor" id="a8bedbcbf543d955c5fd2d34f352fcee1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structxid__t.html">XID</a> trx_t::xid</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>X/Open XA transaction identification to identify a transaction branch </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/<a class="el" href="trx0trx_8h_source.html">trx0trx.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 21 2015 19:14:28 for InnoDB Plugin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
