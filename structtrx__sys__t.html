<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>InnoDB Plugin: trx_sys_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">InnoDB Plugin
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">trx_sys_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="trx0sys_8h_source.html">trx0sys.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for trx_sys_t:</div>
<div class="dyncontent">
<div class="center"><img src="structtrx__sys__t__coll__graph.png" border="0" usemap="#trx__sys__t_coll__map" alt="Collaboration graph"/></div>
<map name="trx__sys__t_coll__map" id="trx__sys__t_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a163b5ed9c772c2bc25419ef691cbb43f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structib__mutex__t.html">ib_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html#a163b5ed9c772c2bc25419ef691cbb43f">mutex</a></td></tr>
<tr class="memitem:aed1e7915060eea459b575d155cfe7b24"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html#aed1e7915060eea459b575d155cfe7b24">n_prepared_trx</a></td></tr>
<tr class="memitem:ae6ed52cb2cf923cad49237ebf62cdea0"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html#ae6ed52cb2cf923cad49237ebf62cdea0">n_prepared_recovered_trx</a></td></tr>
<tr class="memitem:a7f5572365c399434ff9dbade044a98d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html#a7f5572365c399434ff9dbade044a98d3">max_trx_id</a></td></tr>
<tr class="memitem:afa1dd601d3850102af4de0fd181fbf67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html#afa1dd601d3850102af4de0fd181fbf67">rw_max_trx_id</a></td></tr>
<tr class="memitem:a89d0fe0ecefcf1d9466d0d63b97b084a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structut__list__base.html">trx_list_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html#a89d0fe0ecefcf1d9466d0d63b97b084a">rw_trx_list</a></td></tr>
<tr class="memitem:af6e353ff8306c8b2903e26c53e957e7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structut__list__base.html">trx_list_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html#af6e353ff8306c8b2903e26c53e957e7c">ro_trx_list</a></td></tr>
<tr class="memitem:ae5545d232a8b86a410127605762ed5d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structut__list__base.html">trx_list_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html#ae5545d232a8b86a410127605762ed5d4">mysql_trx_list</a></td></tr>
<tr class="memitem:af02c3293c406789c593b4dafffb40915"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html#af02c3293c406789c593b4dafffb40915">rseg_array</a> [TRX_SYS_N_RSEGS]</td></tr>
<tr class="memitem:a5e260f641ba67ac7a8cd7245f0d42a82"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html#a5e260f641ba67ac7a8cd7245f0d42a82">rseg_history_len</a></td></tr>
<tr class="memitem:a7ea301bcad782775451ffeb09714ec21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structut__list__base.html">ut_list_base</a>&lt; <a class="el" href="structread__view__t.html">read_view_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html#a7ea301bcad782775451ffeb09714ec21">view_list</a></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The transaction system central memory data structure. </p>
</div><h2>Field Documentation</h2>
<a class="anchor" id="a7f5572365c399434ff9dbade044a98d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_sys_t::max_trx_id</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The smallest number not yet assigned as a transaction id or transaction number </p>

</div>
</div>
<a class="anchor" id="a163b5ed9c772c2bc25419ef691cbb43f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structib__mutex__t.html">ib_mutex_t</a> trx_sys_t::mutex</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mutex protecting most fields in this structure except when noted otherwise </p>

</div>
</div>
<a class="anchor" id="ae5545d232a8b86a410127605762ed5d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structut__list__base.html">trx_list_t</a> trx_sys_t::mysql_trx_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of transactions created for MySQL. All transactions on ro_trx_list are on mysql_trx_list. The rw_trx_list can contain system transactions and recovered transactions that will not be in the mysql_trx_list. There can be active non-locking auto-commit read only transactions that are on this list but not on ro_trx_list. mysql_trx_list may additionally contain transactions that have not yet been started in InnoDB. </p>

</div>
</div>
<a class="anchor" id="ae6ed52cb2cf923cad49237ebf62cdea0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_sys_t::n_prepared_recovered_trx</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of transactions currently in XA PREPARED state that are also recovered. Such transactions cannot be added during runtime. They can only occur after recovery if mysqld crashed while there were XA PREPARED transactions. We disable query cache if such transactions exist. </p>

</div>
</div>
<a class="anchor" id="aed1e7915060eea459b575d155cfe7b24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_sys_t::n_prepared_trx</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of transactions currently in the XA PREPARED state </p>

</div>
</div>
<a class="anchor" id="af6e353ff8306c8b2903e26c53e957e7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structut__list__base.html">trx_list_t</a> trx_sys_t::ro_trx_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of active and committed in memory read-only transactions, sorted on trx id, biggest first. NOTE: The order for read-only transactions is not necessary. We should exploit this and increase concurrency during add/remove. </p>

</div>
</div>
<a class="anchor" id="af02c3293c406789c593b4dafffb40915"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a>* const trx_sys_t::rseg_array[TRX_SYS_N_RSEGS]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pointer array to rollback segments; NULL if slot not in use; created and destroyed in single-threaded mode; not protected by any mutex, because it is read-only during multi-threaded operation </p>

</div>
</div>
<a class="anchor" id="a5e260f641ba67ac7a8cd7245f0d42a82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_sys_t::rseg_history_len</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of the TRX_RSEG_HISTORY list (update undo logs for committed transactions), protected by rseg-&gt;mutex </p>

</div>
</div>
<a class="anchor" id="afa1dd601d3850102af4de0fd181fbf67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_sys_t::rw_max_trx_id</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max trx id of read-write transactions which exist or existed </p>

</div>
</div>
<a class="anchor" id="a89d0fe0ecefcf1d9466d0d63b97b084a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structut__list__base.html">trx_list_t</a> trx_sys_t::rw_trx_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of active and committed in memory read-write transactions, sorted on trx id, biggest first. Recovered transactions are always on this list. </p>

</div>
</div>
<a class="anchor" id="a7ea301bcad782775451ffeb09714ec21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structut__list__base.html">ut_list_base</a>&lt; <a class="el" href="structread__view__t.html">read_view_t</a> &gt; trx_sys_t::view_list</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of read views sorted on trx no, biggest first </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/<a class="el" href="trx0sys_8h_source.html">trx0sys.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 21 2015 18:11:22 for InnoDB Plugin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
